/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.orders

import java.time.LocalDateTime
import testdb.customers.CustomersFields
import testdb.customers.CustomersId
import testdb.customers.CustomersRow
import typr.dsl.FieldsExpr0
import typr.dsl.Path
import typr.dsl.SqlExpr.FieldLike
import typr.runtime.RowParser
import typr.runtime.SqlServerTypes
import typr.scaladsl.ForeignKey
import typr.scaladsl.RelationStructure
import typr.scaladsl.ScalaDbTypes
import typr.scaladsl.SqlExpr.Field
import typr.scaladsl.SqlExpr.IdField
import typr.scaladsl.SqlExpr.OptField

trait OrdersFields extends FieldsExpr0[OrdersRow] {
  def orderId: IdField[OrdersId, OrdersRow]

  def customerId: Field[CustomersId, OrdersRow]

  def orderDate: OptField[LocalDateTime, OrdersRow]

  def totalAmount: Field[BigDecimal, OrdersRow]

  def fkCustomers: ForeignKey[CustomersFields, CustomersRow] = ForeignKey.of[CustomersFields, CustomersRow]("FK__orders__customer__412EB0B6").withColumnPair[CustomersId](customerId, _.customerId)

  override def columns: java.util.List[FieldLike[?, OrdersRow]]

  override def rowParser: RowParser[OrdersRow] = OrdersRow._rowParser.underlying
}

object OrdersFields {
  case class Impl(val `_path`: java.util.List[Path]) extends OrdersFields with RelationStructure[OrdersFields, OrdersRow] {

    override def orderId: IdField[OrdersId, OrdersRow] = {
      new IdField[OrdersId, OrdersRow](
        _path,
        "order_id",
        _.orderId,
        None,
        None,
        (row, value) => row.copy(orderId = value),
        OrdersId.sqlServerType
      )
    }

    override def customerId: Field[CustomersId, OrdersRow] = {
      new Field[CustomersId, OrdersRow](
        _path,
        "customer_id",
        _.customerId,
        None,
        None,
        (row, value) => row.copy(customerId = value),
        CustomersId.sqlServerType
      )
    }

    override def orderDate: OptField[LocalDateTime, OrdersRow] = {
      new OptField[LocalDateTime, OrdersRow](
        _path,
        "order_date",
        _.orderDate,
        None,
        None,
        (row, value) => row.copy(orderDate = value),
        SqlServerTypes.datetime2
      )
    }

    override def totalAmount: Field[BigDecimal, OrdersRow] = {
      new Field[BigDecimal, OrdersRow](
        _path,
        "total_amount",
        _.totalAmount,
        None,
        None,
        (row, value) => row.copy(totalAmount = value),
        ScalaDbTypes.SqlServerTypes.money
      )
    }

    override def columns: java.util.List[FieldLike[?, OrdersRow]] = java.util.List.of(this.orderId.underlying, this.customerId.underlying, this.orderDate.underlying, this.totalAmount.underlying)

    override def withPaths(`_path`: java.util.List[Path]): RelationStructure[OrdersFields, OrdersRow] = new Impl(`_path`)
  }

  def structure: Impl = new Impl(java.util.Collections.emptyList())
}