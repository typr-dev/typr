/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices

import java.math.BigDecimal
import java.time.LocalDate
import kotlin.collections.List
import testdb.price_tiers.PriceTiersFields
import testdb.price_tiers.PriceTiersId
import testdb.price_tiers.PriceTiersRow
import testdb.products.ProductsFields
import testdb.products.ProductsId
import testdb.products.ProductsRow
import typr.dsl.FieldsExpr
import typr.dsl.Path
import typr.dsl.SqlExpr.FieldLike
import typr.kotlindsl.ForeignKey
import typr.kotlindsl.KotlinDbTypes
import typr.kotlindsl.RelationStructure
import typr.kotlindsl.SqlExpr.Field
import typr.kotlindsl.SqlExpr.IdField
import typr.kotlindsl.SqlExpr.OptField
import typr.runtime.MariaTypes
import typr.runtime.RowParser

interface ProductPricesFields : FieldsExpr<ProductPricesRow> {
  abstract override fun columns(): List<FieldLike<*, ProductPricesRow>>

  abstract fun currencyCode(): Field<String, ProductPricesRow>

  fun fkPriceTiers(): ForeignKey<PriceTiersFields, PriceTiersRow> = ForeignKey.of<PriceTiersFields, PriceTiersRow>("fk_pp_tier").withColumnPair<PriceTiersId>(tierId(), PriceTiersFields::tierId)

  fun fkProducts(): ForeignKey<ProductsFields, ProductsRow> = ForeignKey.of<ProductsFields, ProductsRow>("fk_pp_product").withColumnPair<ProductsId>(productId(), ProductsFields::productId)

  abstract fun price(): Field<BigDecimal, ProductPricesRow>

  abstract fun priceId(): IdField<ProductPricesId, ProductPricesRow>

  abstract fun productId(): Field<ProductsId, ProductPricesRow>

  override fun rowParser(): RowParser<ProductPricesRow> = ProductPricesRow._rowParser.underlying

  abstract fun tierId(): OptField<PriceTiersId, ProductPricesRow>

  abstract fun validFrom(): Field<LocalDate, ProductPricesRow>

  abstract fun validTo(): OptField<LocalDate, ProductPricesRow>

  companion object {
    data class Impl(val _path: List<Path>) : ProductPricesFields, RelationStructure<ProductPricesFields, ProductPricesRow> {
      override fun priceId(): IdField<ProductPricesId, ProductPricesRow> = IdField<ProductPricesId, ProductPricesRow>(_path, "price_id", ProductPricesRow::priceId, null, null, { row, value -> row.copy(priceId = value) }, ProductPricesId.pgType)

      override fun productId(): Field<ProductsId, ProductPricesRow> = Field<ProductsId, ProductPricesRow>(_path, "product_id", ProductPricesRow::productId, null, null, { row, value -> row.copy(productId = value) }, ProductsId.pgType)

      override fun tierId(): OptField<PriceTiersId, ProductPricesRow> = OptField<PriceTiersId, ProductPricesRow>(_path, "tier_id", ProductPricesRow::tierId, null, null, { row, value -> row.copy(tierId = value) }, PriceTiersId.pgType)

      override fun price(): Field<BigDecimal, ProductPricesRow> = Field<BigDecimal, ProductPricesRow>(_path, "price", ProductPricesRow::price, null, null, { row, value -> row.copy(price = value) }, KotlinDbTypes.MariaTypes.numeric)

      override fun currencyCode(): Field<String, ProductPricesRow> = Field<String, ProductPricesRow>(_path, "currency_code", ProductPricesRow::currencyCode, null, null, { row, value -> row.copy(currencyCode = value) }, MariaTypes.char_)

      override fun validFrom(): Field<LocalDate, ProductPricesRow> = Field<LocalDate, ProductPricesRow>(_path, "valid_from", ProductPricesRow::validFrom, null, null, { row, value -> row.copy(validFrom = value) }, MariaTypes.date)

      override fun validTo(): OptField<LocalDate, ProductPricesRow> = OptField<LocalDate, ProductPricesRow>(_path, "valid_to", ProductPricesRow::validTo, null, null, { row, value -> row.copy(validTo = value) }, MariaTypes.date)

      override fun _path(): List<Path> = _path

      override fun columns(): List<FieldLike<*, ProductPricesRow>> = listOf(this.priceId().underlying, this.productId().underlying, this.tierId().underlying, this.price().underlying, this.currencyCode().underlying, this.validFrom().underlying, this.validTo().underlying)

      override fun withPaths(_path: List<Path>): RelationStructure<ProductPricesFields, ProductPricesRow> = Impl(_path)
    }

    val structure: Impl = Impl(emptyList<typr.dsl.Path>())
  }
}