/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices

import com.fasterxml.jackson.annotation.JsonProperty
import java.math.BigDecimal
import java.time.LocalDate
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import testdb.price_tiers.PriceTiersId
import testdb.products.ProductsId

/** This class corresponds to a row in table `product_prices` which has not been persisted yet */
data class ProductPricesRowUnsaved(
  /** 
    * Points to [testdb.products.ProductsRow.productId]
    */
  @JsonProperty("product_id") val productId: ProductsId,
  /**  */
  val price: BigDecimal,
  /**  */
  @JsonProperty("valid_from") val validFrom: LocalDate,
  /** Default: NULL
    * Points to [testdb.price_tiers.PriceTiersRow.tierId]
    */
  @JsonProperty("tier_id") val tierId: Defaulted<PriceTiersId?> = UseDefault(),
  /** Default: 'USD'

    */
  @JsonProperty("currency_code") val currencyCode: Defaulted<String> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("valid_to") val validTo: Defaulted<LocalDate?> = UseDefault()
) {
  fun toRow(
    tierIdDefault: () -> PriceTiersId?,
    currencyCodeDefault: () -> String,
    validToDefault: () -> LocalDate?,
    priceIdDefault: () -> ProductPricesId
  ): ProductPricesRow = ProductPricesRow(priceId = priceIdDefault(), productId = productId, tierId = tierId.getOrElse(tierIdDefault), price = price, currencyCode = currencyCode.getOrElse(currencyCodeDefault), validFrom = validFrom, validTo = validTo.getOrElse(validToDefault))
}