/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.audit_log

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import typr.data.maria.Inet6

/** This class corresponds to a row in table `audit_log` which has not been persisted yet */
data class AuditLogRowUnsaved(
  /**  */
  @JsonProperty("table_name") val tableName: String,
  /**  */
  @JsonProperty("record_id") val recordId: String,
  /**  */
  val action: String,
  /** Default: NULL

    */
  @JsonProperty("old_values") val oldValues: Defaulted<String?> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("new_values") val newValues: Defaulted<String?> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("changed_by") val changedBy: Defaulted<String?> = UseDefault(),
  /** Default: current_timestamp(6)

    */
  @JsonProperty("changed_at") val changedAt: Defaulted<LocalDateTime> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("client_ip") val clientIp: Defaulted<Inet6?> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("session_id") val sessionId: Defaulted<ByteArray?> = UseDefault()
) {
  fun toRow(
    oldValuesDefault: () -> String?,
    newValuesDefault: () -> String?,
    changedByDefault: () -> String?,
    changedAtDefault: () -> LocalDateTime,
    clientIpDefault: () -> Inet6?,
    sessionIdDefault: () -> ByteArray?,
    logIdDefault: () -> AuditLogId
  ): AuditLogRow = AuditLogRow(logId = logIdDefault(), tableName = tableName, recordId = recordId, action = action, oldValues = oldValues.getOrElse(oldValuesDefault), newValues = newValues.getOrElse(newValuesDefault), changedBy = changedBy.getOrElse(changedByDefault), changedAt = changedAt.getOrElse(changedAtDefault), clientIp = clientIp.getOrElse(clientIpDefault), sessionId = sessionId.getOrElse(sessionIdDefault))
}