/**
 * File automatically generated by `typo` for its own test suite.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN
 */
package testdb.hardcoded.myschema.person;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.util.Optional;
import testdb.hardcoded.customtypes.Defaulted;
import testdb.hardcoded.customtypes.Defaulted.UseDefault;
import testdb.hardcoded.myschema.Number;
import testdb.hardcoded.myschema.Sector;
import testdb.hardcoded.myschema.football_club.FootballClubId;
import testdb.hardcoded.myschema.marital_status.MaritalStatusId;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/** This class corresponds to a row in table `myschema.person` which has not been persisted yet */
public record PersonRowUnsaved(
  /** Points to {@link testdb.hardcoded.myschema.football_club.FootballClubRow#id()} */
  @JsonProperty("favourite_football_club_id") FootballClubId favouriteFootballClubId,
  String name,
  @JsonProperty("nick_name") Optional</* max 30 chars */ String> nickName,
  @JsonProperty("blog_url") Optional</* max 100 chars */ String> blogUrl,
  String email,
  String phone,
  @JsonProperty("likes_pizza") Boolean likesPizza,
  @JsonProperty("work_email") Optional</* max 254 chars */ String> workEmail,
  /** Default: auto-increment */
  Defaulted<PersonId> id,
  /** Default: some-value
    * Points to {@link testdb.hardcoded.myschema.marital_status.MaritalStatusRow#id()}
    */
  @JsonProperty("marital_status_id") Defaulted<MaritalStatusId> maritalStatusId,
  /** Default: one */
  @JsonProperty("favorite_number") Defaulted<Number> favoriteNumber
) {
  public PersonRowUnsaved(
    /** Points to {@link testdb.hardcoded.myschema.football_club.FootballClubRow#id()} */
    @JsonProperty("favourite_football_club_id") FootballClubId favouriteFootballClubId,
    String name,
    String email,
    String phone,
    @JsonProperty("likes_pizza") Boolean likesPizza
  ) {
    this(favouriteFootballClubId, name, Optional.empty(), Optional.empty(), email, phone, likesPizza, Optional.empty(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>());
  };

  /** Points to {@link testdb.hardcoded.myschema.football_club.FootballClubRow#id()} */
  public PersonRowUnsaved withFavouriteFootballClubId(FootballClubId favouriteFootballClubId) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  public PersonRowUnsaved withName(String name) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  public PersonRowUnsaved withNickName(Optional</* max 30 chars */ String> nickName) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  public PersonRowUnsaved withBlogUrl(Optional</* max 100 chars */ String> blogUrl) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  public PersonRowUnsaved withEmail(String email) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  public PersonRowUnsaved withPhone(String phone) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  public PersonRowUnsaved withLikesPizza(Boolean likesPizza) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  public PersonRowUnsaved withWorkEmail(Optional</* max 254 chars */ String> workEmail) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  /** Default: auto-increment */
  public PersonRowUnsaved withId(Defaulted<PersonId> id) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  /** Default: some-value
    * Points to {@link testdb.hardcoded.myschema.marital_status.MaritalStatusRow#id()}
    */
  public PersonRowUnsaved withMaritalStatusId(Defaulted<MaritalStatusId> maritalStatusId) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  /** Default: one */
  public PersonRowUnsaved withFavoriteNumber(Defaulted<Number> favoriteNumber) {
    return new PersonRowUnsaved(favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, workEmail, id, maritalStatusId, favoriteNumber);
  };

  static public PgText<PersonRowUnsaved> pgText =
    PgText.instance((row, sb) -> {
      FootballClubId.pgType.pgText().unsafeEncode(row.favouriteFootballClubId, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.pgText().unsafeEncode(row.name, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.opt().pgText().unsafeEncode(row.nickName, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.opt().pgText().unsafeEncode(row.blogUrl, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.pgText().unsafeEncode(row.email, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.pgText().unsafeEncode(row.phone, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.bool.pgText().unsafeEncode(row.likesPizza, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.opt().pgText().unsafeEncode(row.workEmail, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PersonId.pgType.pgText()).unsafeEncode(row.id, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(MaritalStatusId.pgType.pgText()).unsafeEncode(row.maritalStatusId, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(Number.pgType.pgText()).unsafeEncode(row.favoriteNumber, sb);
    });

  public PersonRow toRow(
    java.util.function.Supplier<PersonId> idDefault,
    java.util.function.Supplier<MaritalStatusId> maritalStatusIdDefault,
    java.util.function.Supplier<Number> favoriteNumberDefault,
    java.util.function.Supplier<Sector> sectorDefault
  ) {
    return new PersonRow(id.getOrElse(idDefault), favouriteFootballClubId, name, nickName, blogUrl, email, phone, likesPizza, maritalStatusId.getOrElse(maritalStatusIdDefault), workEmail, sectorDefault.get(), favoriteNumber.getOrElse(favoriteNumberDefault));
  };
}