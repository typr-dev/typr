/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.categories

import java.util.Optional
import typo.dsl.ForeignKey
import typo.dsl.Path
import typo.dsl.SqlExpr.Field
import typo.dsl.SqlExpr.FieldLike
import typo.dsl.SqlExpr.IdField
import typo.dsl.SqlExpr.OptField
import typo.dsl.Structure.Relation
import typo.runtime.MariaTypes

trait CategoriesFields {
  def categoryId: IdField[CategoriesId, CategoriesRow]

  def parentId: OptField[CategoriesId, CategoriesRow]

  def name: Field[String, CategoriesRow]

  def slug: Field[String, CategoriesRow]

  def description: OptField[String, CategoriesRow]

  def imageUrl: OptField[String, CategoriesRow]

  def sortOrder: Field[java.lang.Short, CategoriesRow]

  def isVisible: Field[java.lang.Boolean, CategoriesRow]

  def metadata: OptField[String, CategoriesRow]

  def fkCategories: ForeignKey[CategoriesFields, CategoriesRow] = ForeignKey.of[CategoriesFields, CategoriesRow]("fk_category_parent").withColumnPair(parentId, _.categoryId)
}

object CategoriesFields {
  private final class Impl(path: java.util.List[Path]) extends Relation[CategoriesFields, CategoriesRow](path) {

    override lazy val fields: CategoriesFields = {
      new CategoriesFields {
        override def categoryId: IdField[CategoriesId, CategoriesRow] = {
          new IdField[CategoriesId, CategoriesRow](
            _path,
            "category_id",
            _.categoryId,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(categoryId = value),
            CategoriesId.pgType
          )
        }
        override def parentId: OptField[CategoriesId, CategoriesRow] = {
          new OptField[CategoriesId, CategoriesRow](
            _path,
            "parent_id",
            _.parentId,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(parentId = value),
            CategoriesId.pgType
          )
        }
        override def name: Field[String, CategoriesRow] = {
          new Field[String, CategoriesRow](
            _path,
            "name",
            _.name,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(name = value),
            MariaTypes.varchar
          )
        }
        override def slug: Field[String, CategoriesRow] = {
          new Field[String, CategoriesRow](
            _path,
            "slug",
            _.slug,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(slug = value),
            MariaTypes.varchar
          )
        }
        override def description: OptField[String, CategoriesRow] = {
          new OptField[String, CategoriesRow](
            _path,
            "description",
            _.description,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(description = value),
            MariaTypes.mediumtext
          )
        }
        override def imageUrl: OptField[String, CategoriesRow] = {
          new OptField[String, CategoriesRow](
            _path,
            "image_url",
            _.imageUrl,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(imageUrl = value),
            MariaTypes.varchar
          )
        }
        override def sortOrder: Field[java.lang.Short, CategoriesRow] = {
          new Field[java.lang.Short, CategoriesRow](
            _path,
            "sort_order",
            _.sortOrder,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(sortOrder = value),
            MariaTypes.smallint
          )
        }
        override def isVisible: Field[java.lang.Boolean, CategoriesRow] = {
          new Field[java.lang.Boolean, CategoriesRow](
            _path,
            "is_visible",
            _.isVisible,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(isVisible = value),
            MariaTypes.bool
          )
        }
        override def metadata: OptField[String, CategoriesRow] = {
          new OptField[String, CategoriesRow](
            _path,
            "metadata",
            _.metadata,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(metadata = value),
            MariaTypes.longtext
          )
        }
      }
    }

    override lazy val columns: java.util.List[FieldLike[?, CategoriesRow]] = java.util.List.of(this.fields.categoryId, this.fields.parentId, this.fields.name, this.fields.slug, this.fields.description, this.fields.imageUrl, this.fields.sortOrder, this.fields.isVisible, this.fields.metadata)

    override def copy(path: java.util.List[Path]): Impl = new Impl(path)
  }

  lazy val structure: Relation[CategoriesFields, CategoriesRow] = new Impl(java.util.List.of())
}