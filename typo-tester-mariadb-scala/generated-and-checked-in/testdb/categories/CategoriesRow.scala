/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.categories

import com.fasterxml.jackson.annotation.JsonProperty
import testdb.customtypes.Defaulted
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.scaladsl.MariaTypeOps
import typo.scaladsl.RowParser
import typo.scaladsl.RowParsers
import typo.scaladsl.ScalaDbTypes

/** Table: categories
 * Primary key: category_id
 */
case class CategoriesRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("category_id") categoryId: CategoriesId,
  /** 
   * Default: NULL
   * Points to [[testdb.categories.CategoriesRow.categoryId]]
   */
  @JsonProperty("parent_id") parentId: Option[CategoriesId],
  /**  */
  name: String,
  /**  */
  slug: String,
  /** 
   * Default: NULL
   */
  description: Option[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("image_url") imageUrl: Option[String],
  /** 
   * Default: 0
   */
  @JsonProperty("sort_order") sortOrder: Short,
  /** 
   * Default: 1
   */
  @JsonProperty("is_visible") isVisible: Boolean,
  /** 
   * Default: NULL
   */
  metadata: Option[String]
) {
  def id: CategoriesId = categoryId

  def toUnsavedRow(
    parentId: Defaulted[Option[CategoriesId]] = Defaulted.Provided(this.parentId),
    description: Defaulted[Option[String]] = Defaulted.Provided(this.description),
    imageUrl: Defaulted[Option[String]] = Defaulted.Provided(this.imageUrl),
    sortOrder: Defaulted[Short] = Defaulted.Provided(this.sortOrder),
    isVisible: Defaulted[Boolean] = Defaulted.Provided(this.isVisible),
    metadata: Defaulted[Option[String]] = Defaulted.Provided(this.metadata)
  ): CategoriesRowUnsaved = {
    new CategoriesRowUnsaved(
      name,
      slug,
      parentId,
      description,
      imageUrl,
      sortOrder,
      isVisible,
      metadata
    )
  }
}

object CategoriesRow {
  val `_rowParser`: RowParser[CategoriesRow] = {
    RowParsers.of(CategoriesId.pgType, CategoriesId.pgType.nullable, MariaTypes.varchar, MariaTypes.varchar, MariaTypes.mediumtext.nullable, MariaTypes.varchar.nullable, ScalaDbTypes.MariaTypes.smallint, ScalaDbTypes.MariaTypes.bool, MariaTypes.longtext.nullable)((t0, t1, t2, t3, t4, t5, t6, t7, t8) => new CategoriesRow(
      t0,
      t1,
      t2,
      t3,
      t4,
      t5,
      t6,
      t7,
      t8
    ))(row => Array[Any](row.categoryId, row.parentId, row.name, row.slug, row.description, row.imageUrl, row.sortOrder, row.isVisible, row.metadata))
  }

  given mariaText: MariaText[CategoriesRow] = MariaText.from(`_rowParser`.underlying)
}