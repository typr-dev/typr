/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.categories

import com.fasterxml.jackson.annotation.JsonProperty
import java.util.Optional
import testdb.customtypes.Defaulted
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers

/** Table: categories
 * Primary key: category_id
 */
case class CategoriesRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("category_id") categoryId: CategoriesId,
  /** 
   * Default: NULL
   * Points to [[testdb.categories.CategoriesRow.categoryId]]
   */
  @JsonProperty("parent_id") parentId: Optional[CategoriesId],
  /**  */
  name: String,
  /**  */
  slug: String,
  /** 
   * Default: NULL
   */
  description: Optional[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("image_url") imageUrl: Optional[String],
  /** 
   * Default: 0
   */
  @JsonProperty("sort_order") sortOrder: java.lang.Short,
  /** 
   * Default: 1
   */
  @JsonProperty("is_visible") isVisible: java.lang.Boolean,
  /** 
   * Default: NULL
   */
  metadata: Optional[String]
) {
  def id: CategoriesId = categoryId

  def toUnsavedRow(
    parentId: Defaulted[Optional[CategoriesId]] = Defaulted.Provided(this.parentId),
    description: Defaulted[Optional[String]] = Defaulted.Provided(this.description),
    imageUrl: Defaulted[Optional[String]] = Defaulted.Provided(this.imageUrl),
    sortOrder: Defaulted[java.lang.Short] = Defaulted.Provided(this.sortOrder),
    isVisible: Defaulted[java.lang.Boolean] = Defaulted.Provided(this.isVisible),
    metadata: Defaulted[Optional[String]] = Defaulted.Provided(this.metadata)
  ): CategoriesRowUnsaved = {
    new CategoriesRowUnsaved(
      name,
      slug,
      parentId,
      description,
      imageUrl,
      sortOrder,
      isVisible,
      metadata
    )
  }
}

object CategoriesRow {
  val `_rowParser`: RowParser[CategoriesRow] = RowParsers.of(CategoriesId.pgType, CategoriesId.pgType.opt(), MariaTypes.varchar, MariaTypes.varchar, MariaTypes.mediumtext.opt(), MariaTypes.varchar.opt(), MariaTypes.smallint, MariaTypes.bool, MariaTypes.longtext.opt(), CategoriesRow.apply, row => Array(row.categoryId, row.parentId, row.name, row.slug, row.description, row.imageUrl, row.sortOrder, row.isVisible, row.metadata))

  given mariaText: MariaText[CategoriesRow] = MariaText.from(`_rowParser`)
}