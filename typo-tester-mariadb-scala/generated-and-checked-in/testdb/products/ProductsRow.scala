/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.products

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import testdb.brands.BrandsId
import testdb.customtypes.Defaulted
import typo.data.maria.MariaSet
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.scaladsl.MariaTypeOps
import typo.scaladsl.RowParser
import typo.scaladsl.RowParsers
import typo.scaladsl.ScalaDbTypes

/** Table: products
 * Primary key: product_id
 */
case class ProductsRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("product_id") productId: ProductsId,
  /**  */
  sku: String,
  /** 
   * Default: NULL
   * Points to [[testdb.brands.BrandsRow.brandId]]
   */
  @JsonProperty("brand_id") brandId: Option[BrandsId],
  /**  */
  name: String,
  /** 
   * Default: NULL
   */
  @JsonProperty("short_description") shortDescription: Option[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("full_description") fullDescription: Option[String],
  /**  */
  @JsonProperty("base_price") basePrice: BigDecimal,
  /** 
   * Default: NULL
   */
  @JsonProperty("cost_price") costPrice: Option[BigDecimal],
  /** 
   * Default: NULL
   */
  @JsonProperty("weight_kg") weightKg: Option[BigDecimal],
  /** length, width, height in cm
   * Default: NULL
   */
  @JsonProperty("dimensions_json") dimensionsJson: Option[String],
  /** 
   * Default: 'draft'
   */
  status: String,
  /** 
   * Default: 'standard'
   */
  @JsonProperty("tax_class") taxClass: String,
  /** 
   * Default: NULL
   */
  tags: Option[MariaSet],
  /** 
   * Default: NULL
   */
  attributes: Option[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("seo_metadata") seoMetadata: Option[String],
  /** 
   * Default: current_timestamp(6)
   */
  @JsonProperty("created_at") createdAt: LocalDateTime,
  /** 
   * Default: current_timestamp(6)
   */
  @JsonProperty("updated_at") updatedAt: LocalDateTime,
  /** 
   * Default: NULL
   */
  @JsonProperty("published_at") publishedAt: Option[LocalDateTime]
) {
  def id: ProductsId = productId

  def toUnsavedRow(
    brandId: Defaulted[Option[BrandsId]] = Defaulted.Provided(this.brandId),
    shortDescription: Defaulted[Option[String]] = Defaulted.Provided(this.shortDescription),
    fullDescription: Defaulted[Option[String]] = Defaulted.Provided(this.fullDescription),
    costPrice: Defaulted[Option[BigDecimal]] = Defaulted.Provided(this.costPrice),
    weightKg: Defaulted[Option[BigDecimal]] = Defaulted.Provided(this.weightKg),
    dimensionsJson: Defaulted[Option[String]] = Defaulted.Provided(this.dimensionsJson),
    status: Defaulted[String] = Defaulted.Provided(this.status),
    taxClass: Defaulted[String] = Defaulted.Provided(this.taxClass),
    tags: Defaulted[Option[MariaSet]] = Defaulted.Provided(this.tags),
    attributes: Defaulted[Option[String]] = Defaulted.Provided(this.attributes),
    seoMetadata: Defaulted[Option[String]] = Defaulted.Provided(this.seoMetadata),
    createdAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.createdAt),
    updatedAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.updatedAt),
    publishedAt: Defaulted[Option[LocalDateTime]] = Defaulted.Provided(this.publishedAt)
  ): ProductsRowUnsaved = {
    new ProductsRowUnsaved(
      sku,
      name,
      basePrice,
      brandId,
      shortDescription,
      fullDescription,
      costPrice,
      weightKg,
      dimensionsJson,
      status,
      taxClass,
      tags,
      attributes,
      seoMetadata,
      createdAt,
      updatedAt,
      publishedAt
    )
  }
}

object ProductsRow {
  val `_rowParser`: RowParser[ProductsRow] = {
    RowParsers.of(ProductsId.pgType, MariaTypes.varchar, BrandsId.pgType.nullable, MariaTypes.varchar, MariaTypes.varchar.nullable, MariaTypes.longtext.nullable, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric.nullable, ScalaDbTypes.MariaTypes.numeric.nullable, MariaTypes.longtext.nullable, MariaTypes.text, MariaTypes.text, MariaTypes.set.nullable, MariaTypes.longtext.nullable, MariaTypes.longtext.nullable, MariaTypes.datetime, MariaTypes.datetime, MariaTypes.datetime.nullable)((t0, t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11, t12, t13, t14, t15, t16, t17) => new ProductsRow(
      t0,
      t1,
      t2,
      t3,
      t4,
      t5,
      t6,
      t7,
      t8,
      t9,
      t10,
      t11,
      t12,
      t13,
      t14,
      t15,
      t16,
      t17
    ))(row => Array[Any](row.productId, row.sku, row.brandId, row.name, row.shortDescription, row.fullDescription, row.basePrice, row.costPrice, row.weightKg, row.dimensionsJson, row.status, row.taxClass, row.tags, row.attributes, row.seoMetadata, row.createdAt, row.updatedAt, row.publishedAt))
  }

  given mariaText: MariaText[ProductsRow] = MariaText.from(`_rowParser`.underlying)
}