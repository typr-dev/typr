/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.products

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import java.util.Optional
import testdb.brands.BrandsId
import testdb.customtypes.Defaulted
import typo.data.maria.MariaSet
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers

/** Table: products
 * Primary key: product_id
 */
case class ProductsRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("product_id") productId: ProductsId,
  /**  */
  sku: String,
  /** 
   * Default: NULL
   * Points to [[testdb.brands.BrandsRow.brandId]]
   */
  @JsonProperty("brand_id") brandId: Optional[BrandsId],
  /**  */
  name: String,
  /** 
   * Default: NULL
   */
  @JsonProperty("short_description") shortDescription: Optional[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("full_description") fullDescription: Optional[String],
  /**  */
  @JsonProperty("base_price") basePrice: java.math.BigDecimal,
  /** 
   * Default: NULL
   */
  @JsonProperty("cost_price") costPrice: Optional[java.math.BigDecimal],
  /** 
   * Default: NULL
   */
  @JsonProperty("weight_kg") weightKg: Optional[java.math.BigDecimal],
  /** length, width, height in cm
   * Default: NULL
   */
  @JsonProperty("dimensions_json") dimensionsJson: Optional[String],
  /** 
   * Default: 'draft'
   */
  status: String,
  /** 
   * Default: 'standard'
   */
  @JsonProperty("tax_class") taxClass: String,
  /** 
   * Default: NULL
   */
  tags: Optional[MariaSet],
  /** 
   * Default: NULL
   */
  attributes: Optional[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("seo_metadata") seoMetadata: Optional[String],
  /** 
   * Default: current_timestamp(6)
   */
  @JsonProperty("created_at") createdAt: LocalDateTime,
  /** 
   * Default: current_timestamp(6)
   */
  @JsonProperty("updated_at") updatedAt: LocalDateTime,
  /** 
   * Default: NULL
   */
  @JsonProperty("published_at") publishedAt: Optional[LocalDateTime]
) {
  def id: ProductsId = productId

  def toUnsavedRow(
    brandId: Defaulted[Optional[BrandsId]] = Defaulted.Provided(this.brandId),
    shortDescription: Defaulted[Optional[String]] = Defaulted.Provided(this.shortDescription),
    fullDescription: Defaulted[Optional[String]] = Defaulted.Provided(this.fullDescription),
    costPrice: Defaulted[Optional[java.math.BigDecimal]] = Defaulted.Provided(this.costPrice),
    weightKg: Defaulted[Optional[java.math.BigDecimal]] = Defaulted.Provided(this.weightKg),
    dimensionsJson: Defaulted[Optional[String]] = Defaulted.Provided(this.dimensionsJson),
    status: Defaulted[String] = Defaulted.Provided(this.status),
    taxClass: Defaulted[String] = Defaulted.Provided(this.taxClass),
    tags: Defaulted[Optional[MariaSet]] = Defaulted.Provided(this.tags),
    attributes: Defaulted[Optional[String]] = Defaulted.Provided(this.attributes),
    seoMetadata: Defaulted[Optional[String]] = Defaulted.Provided(this.seoMetadata),
    createdAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.createdAt),
    updatedAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.updatedAt),
    publishedAt: Defaulted[Optional[LocalDateTime]] = Defaulted.Provided(this.publishedAt)
  ): ProductsRowUnsaved = {
    new ProductsRowUnsaved(
      sku,
      name,
      basePrice,
      brandId,
      shortDescription,
      fullDescription,
      costPrice,
      weightKg,
      dimensionsJson,
      status,
      taxClass,
      tags,
      attributes,
      seoMetadata,
      createdAt,
      updatedAt,
      publishedAt
    )
  }
}

object ProductsRow {
  val `_rowParser`: RowParser[ProductsRow] = RowParsers.of(ProductsId.pgType, MariaTypes.varchar, BrandsId.pgType.opt(), MariaTypes.varchar, MariaTypes.varchar.opt(), MariaTypes.longtext.opt(), MariaTypes.decimal, MariaTypes.decimal.opt(), MariaTypes.decimal.opt(), MariaTypes.longtext.opt(), MariaTypes.text, MariaTypes.text, MariaTypes.set.opt(), MariaTypes.longtext.opt(), MariaTypes.longtext.opt(), MariaTypes.datetime, MariaTypes.datetime, MariaTypes.datetime.opt(), ProductsRow.apply, row => Array(row.productId, row.sku, row.brandId, row.name, row.shortDescription, row.fullDescription, row.basePrice, row.costPrice, row.weightKg, row.dimensionsJson, row.status, row.taxClass, row.tags, row.attributes, row.seoMetadata, row.createdAt, row.updatedAt, row.publishedAt))

  given mariaText: MariaText[ProductsRow] = MariaText.from(`_rowParser`)
}