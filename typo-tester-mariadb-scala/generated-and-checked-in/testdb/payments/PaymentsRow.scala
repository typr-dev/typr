/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.payments

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import testdb.customtypes.Defaulted
import testdb.orders.OrdersId
import testdb.payment_methods.PaymentMethodsId
import typo.data.maria.Inet6
import typo.runtime.MariaTypes
import typo.scaladsl.MariaTypeOps
import typo.scaladsl.RowParser
import typo.scaladsl.RowParsers
import typo.scaladsl.ScalaDbTypes

/** Table: payments
 * Primary key: payment_id
 */
case class PaymentsRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("payment_id") paymentId: PaymentsId,
  /** 
   * Points to [[testdb.orders.OrdersRow.orderId]]
   */
  @JsonProperty("order_id") orderId: OrdersId,
  /** 
   * Points to [[testdb.payment_methods.PaymentMethodsRow.methodId]]
   */
  @JsonProperty("method_id") methodId: PaymentMethodsId,
  /** 
   * Default: NULL
   */
  @JsonProperty("transaction_id") transactionId: Option[String],
  /**  */
  amount: BigDecimal,
  /** 
   * Default: 'USD'
   */
  @JsonProperty("currency_code") currencyCode: String,
  /** 
   * Default: 'pending'
   */
  status: String,
  /** 
   * Default: NULL
   */
  @JsonProperty("processor_response") processorResponse: Option[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("error_message") errorMessage: Option[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("ip_address") ipAddress: Option[Inet6],
  /** 
   * Default: current_timestamp(6)
   */
  @JsonProperty("created_at") createdAt: LocalDateTime,
  /** 
   * Default: NULL
   */
  @JsonProperty("processed_at") processedAt: Option[LocalDateTime]
) {
  def id: PaymentsId = paymentId

  def toUnsavedRow(
    transactionId: Defaulted[Option[String]] = Defaulted.Provided(this.transactionId),
    currencyCode: Defaulted[String] = Defaulted.Provided(this.currencyCode),
    status: Defaulted[String] = Defaulted.Provided(this.status),
    processorResponse: Defaulted[Option[String]] = Defaulted.Provided(this.processorResponse),
    errorMessage: Defaulted[Option[String]] = Defaulted.Provided(this.errorMessage),
    ipAddress: Defaulted[Option[Inet6]] = Defaulted.Provided(this.ipAddress),
    createdAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.createdAt),
    processedAt: Defaulted[Option[LocalDateTime]] = Defaulted.Provided(this.processedAt)
  ): PaymentsRowUnsaved = {
    new PaymentsRowUnsaved(
      orderId,
      methodId,
      amount,
      transactionId,
      currencyCode,
      status,
      processorResponse,
      errorMessage,
      ipAddress,
      createdAt,
      processedAt
    )
  }
}

object PaymentsRow {
  val `_rowParser`: RowParser[PaymentsRow] = RowParsers.of(PaymentsId.pgType, OrdersId.pgType, PaymentMethodsId.pgType, MariaTypes.varchar.nullable, ScalaDbTypes.MariaTypes.numeric, MariaTypes.char_, MariaTypes.text, MariaTypes.longtext.nullable, MariaTypes.varchar.nullable, MariaTypes.inet6.nullable, MariaTypes.datetime, MariaTypes.datetime.nullable)(PaymentsRow.apply)(row => Array[Any](row.paymentId, row.orderId, row.methodId, row.transactionId, row.amount, row.currencyCode, row.status, row.processorResponse, row.errorMessage, row.ipAddress, row.createdAt, row.processedAt))
}