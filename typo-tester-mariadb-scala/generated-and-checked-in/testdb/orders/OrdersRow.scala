/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.orders

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import testdb.customer_addresses.CustomerAddressesId
import testdb.customers.CustomersId
import testdb.customtypes.Defaulted
import testdb.promotions.PromotionsId
import typo.data.maria.Inet6
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.scaladsl.MariaTypeOps
import typo.scaladsl.RowParser
import typo.scaladsl.RowParsers
import typo.scaladsl.ScalaDbTypes

/** Table: orders
 * Primary key: order_id
 */
case class OrdersRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("order_id") orderId: OrdersId,
  /**  */
  @JsonProperty("order_number") orderNumber: String,
  /** 
   * Points to [[testdb.customers.CustomersRow.customerId]]
   */
  @JsonProperty("customer_id") customerId: CustomersId,
  /** 
   * Default: 'pending'
   */
  @JsonProperty("order_status") orderStatus: String,
  /** 
   * Default: 'pending'
   */
  @JsonProperty("payment_status") paymentStatus: String,
  /** 
   * Default: NULL
   * Points to [[testdb.customer_addresses.CustomerAddressesRow.addressId]]
   */
  @JsonProperty("shipping_address_id") shippingAddressId: Option[CustomerAddressesId],
  /** 
   * Default: NULL
   * Points to [[testdb.customer_addresses.CustomerAddressesRow.addressId]]
   */
  @JsonProperty("billing_address_id") billingAddressId: Option[CustomerAddressesId],
  /**  */
  subtotal: BigDecimal,
  /** 
   * Default: 0.0000
   */
  @JsonProperty("shipping_cost") shippingCost: BigDecimal,
  /** 
   * Default: 0.0000
   */
  @JsonProperty("tax_amount") taxAmount: BigDecimal,
  /** 
   * Default: 0.0000
   */
  @JsonProperty("discount_amount") discountAmount: BigDecimal,
  /**  */
  @JsonProperty("total_amount") totalAmount: BigDecimal,
  /** 
   * Default: 'USD'
   */
  @JsonProperty("currency_code") currencyCode: String,
  /** 
   * Default: NULL
   * Points to [[testdb.promotions.PromotionsRow.promotionId]]
   */
  @JsonProperty("promotion_id") promotionId: Option[PromotionsId],
  /** 
   * Default: NULL
   */
  notes: Option[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("internal_notes") internalNotes: Option[String],
  /** 
   * Default: NULL
   */
  @JsonProperty("ip_address") ipAddress: Option[Inet6],
  /** 
   * Default: NULL
   */
  @JsonProperty("user_agent") userAgent: Option[String],
  /** 
   * Default: current_timestamp(6)
   */
  @JsonProperty("ordered_at") orderedAt: LocalDateTime,
  /** 
   * Default: NULL
   */
  @JsonProperty("confirmed_at") confirmedAt: Option[LocalDateTime],
  /** 
   * Default: NULL
   */
  @JsonProperty("shipped_at") shippedAt: Option[LocalDateTime],
  /** 
   * Default: NULL
   */
  @JsonProperty("delivered_at") deliveredAt: Option[LocalDateTime]
) {
  def id: OrdersId = orderId

  def toUnsavedRow(
    orderStatus: Defaulted[String] = Defaulted.Provided(this.orderStatus),
    paymentStatus: Defaulted[String] = Defaulted.Provided(this.paymentStatus),
    shippingAddressId: Defaulted[Option[CustomerAddressesId]] = Defaulted.Provided(this.shippingAddressId),
    billingAddressId: Defaulted[Option[CustomerAddressesId]] = Defaulted.Provided(this.billingAddressId),
    shippingCost: Defaulted[BigDecimal] = Defaulted.Provided(this.shippingCost),
    taxAmount: Defaulted[BigDecimal] = Defaulted.Provided(this.taxAmount),
    discountAmount: Defaulted[BigDecimal] = Defaulted.Provided(this.discountAmount),
    currencyCode: Defaulted[String] = Defaulted.Provided(this.currencyCode),
    promotionId: Defaulted[Option[PromotionsId]] = Defaulted.Provided(this.promotionId),
    notes: Defaulted[Option[String]] = Defaulted.Provided(this.notes),
    internalNotes: Defaulted[Option[String]] = Defaulted.Provided(this.internalNotes),
    ipAddress: Defaulted[Option[Inet6]] = Defaulted.Provided(this.ipAddress),
    userAgent: Defaulted[Option[String]] = Defaulted.Provided(this.userAgent),
    orderedAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.orderedAt),
    confirmedAt: Defaulted[Option[LocalDateTime]] = Defaulted.Provided(this.confirmedAt),
    shippedAt: Defaulted[Option[LocalDateTime]] = Defaulted.Provided(this.shippedAt),
    deliveredAt: Defaulted[Option[LocalDateTime]] = Defaulted.Provided(this.deliveredAt)
  ): OrdersRowUnsaved = {
    new OrdersRowUnsaved(
      orderNumber,
      customerId,
      subtotal,
      totalAmount,
      orderStatus,
      paymentStatus,
      shippingAddressId,
      billingAddressId,
      shippingCost,
      taxAmount,
      discountAmount,
      currencyCode,
      promotionId,
      notes,
      internalNotes,
      ipAddress,
      userAgent,
      orderedAt,
      confirmedAt,
      shippedAt,
      deliveredAt
    )
  }
}

object OrdersRow {
  val `_rowParser`: RowParser[OrdersRow] = {
    RowParsers.of(OrdersId.pgType, MariaTypes.varchar, CustomersId.pgType, MariaTypes.text, MariaTypes.text, CustomerAddressesId.pgType.nullable, CustomerAddressesId.pgType.nullable, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric, MariaTypes.char_, PromotionsId.pgType.nullable, MariaTypes.text.nullable, MariaTypes.mediumtext.nullable, MariaTypes.inet6.nullable, MariaTypes.varchar.nullable, MariaTypes.datetime, MariaTypes.datetime.nullable, MariaTypes.datetime.nullable, MariaTypes.datetime.nullable)((t0, t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11, t12, t13, t14, t15, t16, t17, t18, t19, t20, t21) => new OrdersRow(
      t0,
      t1,
      t2,
      t3,
      t4,
      t5,
      t6,
      t7,
      t8,
      t9,
      t10,
      t11,
      t12,
      t13,
      t14,
      t15,
      t16,
      t17,
      t18,
      t19,
      t20,
      t21
    ))(row => Array[Any](row.orderId, row.orderNumber, row.customerId, row.orderStatus, row.paymentStatus, row.shippingAddressId, row.billingAddressId, row.subtotal, row.shippingCost, row.taxAmount, row.discountAmount, row.totalAmount, row.currencyCode, row.promotionId, row.notes, row.internalNotes, row.ipAddress, row.userAgent, row.orderedAt, row.confirmedAt, row.shippedAt, row.deliveredAt))
  }

  given mariaText: MariaText[OrdersRow] = MariaText.from(`_rowParser`.underlying)
}