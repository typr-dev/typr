/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices

import java.time.LocalDate
import java.util.Optional
import testdb.price_tiers.PriceTiersFields
import testdb.price_tiers.PriceTiersId
import testdb.price_tiers.PriceTiersRow
import testdb.products.ProductsFields
import testdb.products.ProductsId
import testdb.products.ProductsRow
import typo.dsl.FieldsExpr
import typo.dsl.ForeignKey
import typo.dsl.Path
import typo.dsl.SqlExpr.Field
import typo.dsl.SqlExpr.FieldLike
import typo.dsl.SqlExpr.IdField
import typo.dsl.SqlExpr.OptField
import typo.dsl.Structure.Relation
import typo.runtime.MariaTypes
import typo.runtime.RowParser

trait ProductPricesFields extends FieldsExpr[ProductPricesRow] {
  def priceId: IdField[ProductPricesId, ProductPricesRow]

  def productId: Field[ProductsId, ProductPricesRow]

  def tierId: OptField[PriceTiersId, ProductPricesRow]

  def price: Field[java.math.BigDecimal, ProductPricesRow]

  def currencyCode: Field[String, ProductPricesRow]

  def validFrom: Field[LocalDate, ProductPricesRow]

  def validTo: OptField[LocalDate, ProductPricesRow]

  def fkProducts: ForeignKey[ProductsFields, ProductsRow] = ForeignKey.of[ProductsFields, ProductsRow]("fk_pp_product").withColumnPair(productId, _.productId)

  def fkPriceTiers: ForeignKey[PriceTiersFields, PriceTiersRow] = ForeignKey.of[PriceTiersFields, PriceTiersRow]("fk_pp_tier").withColumnPair(tierId, _.tierId)

  override def columns: java.util.List[FieldLike[?, ProductPricesRow]]

  override def rowParser: RowParser[ProductPricesRow] = ProductPricesRow._rowParser
}

object ProductPricesFields {
  case class Impl(val `_path`: java.util.List[Path]) extends ProductPricesFields with Relation[ProductPricesFields, ProductPricesRow] {

    override def priceId: IdField[ProductPricesId, ProductPricesRow] = {
      new IdField[ProductPricesId, ProductPricesRow](
        _path,
        "price_id",
        _.priceId,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(priceId = value),
        ProductPricesId.pgType
      )
    }

    override def productId: Field[ProductsId, ProductPricesRow] = {
      new Field[ProductsId, ProductPricesRow](
        _path,
        "product_id",
        _.productId,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(productId = value),
        ProductsId.pgType
      )
    }

    override def tierId: OptField[PriceTiersId, ProductPricesRow] = {
      new OptField[PriceTiersId, ProductPricesRow](
        _path,
        "tier_id",
        _.tierId,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(tierId = value),
        PriceTiersId.pgType
      )
    }

    override def price: Field[java.math.BigDecimal, ProductPricesRow] = {
      new Field[java.math.BigDecimal, ProductPricesRow](
        _path,
        "price",
        _.price,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(price = value),
        MariaTypes.decimal
      )
    }

    override def currencyCode: Field[String, ProductPricesRow] = {
      new Field[String, ProductPricesRow](
        _path,
        "currency_code",
        _.currencyCode,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(currencyCode = value),
        MariaTypes.char_
      )
    }

    override def validFrom: Field[LocalDate, ProductPricesRow] = {
      new Field[LocalDate, ProductPricesRow](
        _path,
        "valid_from",
        _.validFrom,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(validFrom = value),
        MariaTypes.date
      )
    }

    override def validTo: OptField[LocalDate, ProductPricesRow] = {
      new OptField[LocalDate, ProductPricesRow](
        _path,
        "valid_to",
        _.validTo,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(validTo = value),
        MariaTypes.date
      )
    }

    override def columns: java.util.List[FieldLike[?, ProductPricesRow]] = java.util.List.of(this.priceId, this.productId, this.tierId, this.price, this.currencyCode, this.validFrom, this.validTo)

    override def copy(`_path`: java.util.List[Path]): Relation[ProductPricesFields, ProductPricesRow] = new Impl(`_path`)
  }

  def structure: Impl = new Impl(java.util.List.of())
}