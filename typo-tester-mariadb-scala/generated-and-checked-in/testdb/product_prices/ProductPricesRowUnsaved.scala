/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDate
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import testdb.price_tiers.PriceTiersId
import testdb.products.ProductsId

/** This class corresponds to a row in table `product_prices` which has not been persisted yet */
case class ProductPricesRowUnsaved(
  /** 
   * Points to [[testdb.products.ProductsRow.productId]]
   */
  @JsonProperty("product_id") productId: ProductsId,
  /**  */
  price: BigDecimal,
  /**  */
  @JsonProperty("valid_from") validFrom: LocalDate,
  /** Default: NULL
   * Points to [[testdb.price_tiers.PriceTiersRow.tierId]]
   */
  @JsonProperty("tier_id") tierId: Defaulted[Option[PriceTiersId]] = new UseDefault(),
  /** Default: 'USD'

   */
  @JsonProperty("currency_code") currencyCode: Defaulted[String] = new UseDefault(),
  /** Default: NULL

   */
  @JsonProperty("valid_to") validTo: Defaulted[Option[LocalDate]] = new UseDefault()
) {
  def toRow(
    tierIdDefault: => Option[PriceTiersId],
    currencyCodeDefault: => String,
    validToDefault: => Option[LocalDate],
    priceIdDefault: => ProductPricesId
  ): ProductPricesRow = {
    new ProductPricesRow(
      priceId = priceIdDefault,
      productId = productId,
      tierId = tierId.getOrElse(tierIdDefault),
      price = price,
      currencyCode = currencyCode.getOrElse(currencyCodeDefault),
      validFrom = validFrom,
      validTo = validTo.getOrElse(validToDefault)
    )
  }
}