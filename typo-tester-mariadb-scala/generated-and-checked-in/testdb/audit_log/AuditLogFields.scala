/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.audit_log

import java.time.LocalDateTime
import java.util.Optional
import typo.data.maria.Inet6
import typo.dsl.Path
import typo.dsl.SqlExpr.Field
import typo.dsl.SqlExpr.FieldLike
import typo.dsl.SqlExpr.IdField
import typo.dsl.SqlExpr.OptField
import typo.dsl.Structure.Relation
import typo.runtime.MariaTypes

trait AuditLogFields {
  def logId: IdField[AuditLogId, AuditLogRow]

  def tableName: Field[String, AuditLogRow]

  def recordId: Field[String, AuditLogRow]

  def action: Field[String, AuditLogRow]

  def oldValues: OptField[String, AuditLogRow]

  def newValues: OptField[String, AuditLogRow]

  def changedBy: OptField[String, AuditLogRow]

  def changedAt: Field[LocalDateTime, AuditLogRow]

  def clientIp: OptField[Inet6, AuditLogRow]

  def sessionId: OptField[Array[Byte], AuditLogRow]
}

object AuditLogFields {
  private final class Impl(path: java.util.List[Path]) extends Relation[AuditLogFields, AuditLogRow](path) {

    override lazy val fields: AuditLogFields = {
      new AuditLogFields {
        override def logId: IdField[AuditLogId, AuditLogRow] = {
          new IdField[AuditLogId, AuditLogRow](
            _path,
            "log_id",
            _.logId,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(logId = value),
            AuditLogId.pgType
          )
        }
        override def tableName: Field[String, AuditLogRow] = {
          new Field[String, AuditLogRow](
            _path,
            "table_name",
            _.tableName,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(tableName = value),
            MariaTypes.varchar
          )
        }
        override def recordId: Field[String, AuditLogRow] = {
          new Field[String, AuditLogRow](
            _path,
            "record_id",
            _.recordId,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(recordId = value),
            MariaTypes.varchar
          )
        }
        override def action: Field[String, AuditLogRow] = {
          new Field[String, AuditLogRow](
            _path,
            "action",
            _.action,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(action = value),
            MariaTypes.text
          )
        }
        override def oldValues: OptField[String, AuditLogRow] = {
          new OptField[String, AuditLogRow](
            _path,
            "old_values",
            _.oldValues,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(oldValues = value),
            MariaTypes.longtext
          )
        }
        override def newValues: OptField[String, AuditLogRow] = {
          new OptField[String, AuditLogRow](
            _path,
            "new_values",
            _.newValues,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(newValues = value),
            MariaTypes.longtext
          )
        }
        override def changedBy: OptField[String, AuditLogRow] = {
          new OptField[String, AuditLogRow](
            _path,
            "changed_by",
            _.changedBy,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(changedBy = value),
            MariaTypes.varchar
          )
        }
        override def changedAt: Field[LocalDateTime, AuditLogRow] = {
          new Field[LocalDateTime, AuditLogRow](
            _path,
            "changed_at",
            _.changedAt,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(changedAt = value),
            MariaTypes.datetime
          )
        }
        override def clientIp: OptField[Inet6, AuditLogRow] = {
          new OptField[Inet6, AuditLogRow](
            _path,
            "client_ip",
            _.clientIp,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(clientIp = value),
            MariaTypes.inet6
          )
        }
        override def sessionId: OptField[Array[Byte], AuditLogRow] = {
          new OptField[Array[Byte], AuditLogRow](
            _path,
            "session_id",
            _.sessionId,
            Optional.empty(),
            Optional.empty(),
            (row, value) => row.copy(sessionId = value),
            MariaTypes.varbinary
          )
        }
      }
    }

    override lazy val columns: java.util.List[FieldLike[?, AuditLogRow]] = java.util.List.of(this.fields.logId, this.fields.tableName, this.fields.recordId, this.fields.action, this.fields.oldValues, this.fields.newValues, this.fields.changedBy, this.fields.changedAt, this.fields.clientIp, this.fields.sessionId)

    override def copy(path: java.util.List[Path]): Impl = new Impl(path)
  }

  lazy val structure: Relation[AuditLogFields, AuditLogRow] = new Impl(java.util.List.of())
}