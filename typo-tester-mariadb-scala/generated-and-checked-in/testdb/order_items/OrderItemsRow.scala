/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_items

import com.fasterxml.jackson.annotation.JsonProperty
import testdb.customtypes.Defaulted
import testdb.orders.OrdersId
import testdb.products.ProductsId
import testdb.warehouses.WarehousesId
import typo.runtime.MariaTypes
import typo.scaladsl.MariaTypeOps
import typo.scaladsl.RowParser
import typo.scaladsl.RowParsers
import typo.scaladsl.ScalaDbTypes

/** Table: order_items
 * Primary key: item_id
 */
case class OrderItemsRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("item_id") itemId: OrderItemsId,
  /** 
   * Points to [[testdb.orders.OrdersRow.orderId]]
   */
  @JsonProperty("order_id") orderId: OrdersId,
  /** 
   * Points to [[testdb.products.ProductsRow.productId]]
   */
  @JsonProperty("product_id") productId: ProductsId,
  /**  */
  sku: String,
  /**  */
  @JsonProperty("product_name") productName: String,
  /**  */
  quantity: Int,
  /**  */
  @JsonProperty("unit_price") unitPrice: BigDecimal,
  /** 
   * Default: 0.0000
   */
  @JsonProperty("discount_amount") discountAmount: BigDecimal,
  /** 
   * Default: 0.0000
   */
  @JsonProperty("tax_amount") taxAmount: BigDecimal,
  /**  */
  @JsonProperty("line_total") lineTotal: BigDecimal,
  /** 
   * Default: 'pending'
   */
  @JsonProperty("fulfillment_status") fulfillmentStatus: String,
  /** 
   * Default: NULL
   * Points to [[testdb.warehouses.WarehousesRow.warehouseId]]
   */
  @JsonProperty("warehouse_id") warehouseId: Option[WarehousesId],
  /** 
   * Default: NULL
   */
  notes: Option[String]
) {
  def id: OrderItemsId = itemId

  def toUnsavedRow(
    discountAmount: Defaulted[BigDecimal] = Defaulted.Provided(this.discountAmount),
    taxAmount: Defaulted[BigDecimal] = Defaulted.Provided(this.taxAmount),
    fulfillmentStatus: Defaulted[String] = Defaulted.Provided(this.fulfillmentStatus),
    warehouseId: Defaulted[Option[WarehousesId]] = Defaulted.Provided(this.warehouseId),
    notes: Defaulted[Option[String]] = Defaulted.Provided(this.notes)
  ): OrderItemsRowUnsaved = {
    new OrderItemsRowUnsaved(
      orderId,
      productId,
      sku,
      productName,
      quantity,
      unitPrice,
      lineTotal,
      discountAmount,
      taxAmount,
      fulfillmentStatus,
      warehouseId,
      notes
    )
  }
}

object OrderItemsRow {
  val `_rowParser`: RowParser[OrderItemsRow] = RowParsers.of(OrderItemsId.pgType, OrdersId.pgType, ProductsId.pgType, MariaTypes.varchar, MariaTypes.varchar, ScalaDbTypes.MariaTypes.smallintUnsigned, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric, MariaTypes.text, WarehousesId.pgType.nullable, MariaTypes.tinytext.nullable)(OrderItemsRow.apply)(row => Array[Any](row.itemId, row.orderId, row.productId, row.sku, row.productName, row.quantity, row.unitPrice, row.discountAmount, row.taxAmount, row.lineTotal, row.fulfillmentStatus, row.warehouseId, row.notes))
}