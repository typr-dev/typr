/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_items

import com.fasterxml.jackson.annotation.JsonProperty
import java.util.Optional
import testdb.customtypes.Defaulted
import testdb.orders.OrdersId
import testdb.products.ProductsId
import testdb.warehouses.WarehousesId
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers

/** Table: order_items
 * Primary key: item_id
 */
case class OrderItemsRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("item_id") itemId: OrderItemsId,
  /** 
   * Points to [[testdb.orders.OrdersRow.orderId]]
   */
  @JsonProperty("order_id") orderId: OrdersId,
  /** 
   * Points to [[testdb.products.ProductsRow.productId]]
   */
  @JsonProperty("product_id") productId: ProductsId,
  /**  */
  sku: String,
  /**  */
  @JsonProperty("product_name") productName: String,
  /**  */
  quantity: Integer,
  /**  */
  @JsonProperty("unit_price") unitPrice: java.math.BigDecimal,
  /** 
   * Default: 0.0000
   */
  @JsonProperty("discount_amount") discountAmount: java.math.BigDecimal,
  /** 
   * Default: 0.0000
   */
  @JsonProperty("tax_amount") taxAmount: java.math.BigDecimal,
  /**  */
  @JsonProperty("line_total") lineTotal: java.math.BigDecimal,
  /** 
   * Default: 'pending'
   */
  @JsonProperty("fulfillment_status") fulfillmentStatus: String,
  /** 
   * Default: NULL
   * Points to [[testdb.warehouses.WarehousesRow.warehouseId]]
   */
  @JsonProperty("warehouse_id") warehouseId: Optional[WarehousesId],
  /** 
   * Default: NULL
   */
  notes: Optional[String]
) {
  def id: OrderItemsId = itemId

  def toUnsavedRow(
    discountAmount: Defaulted[java.math.BigDecimal] = Defaulted.Provided(this.discountAmount),
    taxAmount: Defaulted[java.math.BigDecimal] = Defaulted.Provided(this.taxAmount),
    fulfillmentStatus: Defaulted[String] = Defaulted.Provided(this.fulfillmentStatus),
    warehouseId: Defaulted[Optional[WarehousesId]] = Defaulted.Provided(this.warehouseId),
    notes: Defaulted[Optional[String]] = Defaulted.Provided(this.notes)
  ): OrderItemsRowUnsaved = {
    new OrderItemsRowUnsaved(
      orderId,
      productId,
      sku,
      productName,
      quantity,
      unitPrice,
      lineTotal,
      discountAmount,
      taxAmount,
      fulfillmentStatus,
      warehouseId,
      notes
    )
  }
}

object OrderItemsRow {
  val `_rowParser`: RowParser[OrderItemsRow] = RowParsers.of(OrderItemsId.pgType, OrdersId.pgType, ProductsId.pgType, MariaTypes.varchar, MariaTypes.varchar, MariaTypes.smallintUnsigned, MariaTypes.decimal, MariaTypes.decimal, MariaTypes.decimal, MariaTypes.decimal, MariaTypes.text, WarehousesId.pgType.opt(), MariaTypes.tinytext.opt(), OrderItemsRow.apply, row => Array(row.itemId, row.orderId, row.productId, row.sku, row.productName, row.quantity, row.unitPrice, row.discountAmount, row.taxAmount, row.lineTotal, row.fulfillmentStatus, row.warehouseId, row.notes))

  given mariaText: MariaText[OrderItemsRow] = MariaText.from(`_rowParser`)
}