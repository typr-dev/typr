/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.inventory

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import java.util.Optional
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import testdb.products.ProductsId
import testdb.warehouses.WarehousesId
import typo.runtime.MariaText
import typo.runtime.MariaTypes

/** This class corresponds to a row in table `inventory` which has not been persisted yet */
case class InventoryRowUnsaved(
  /** 
   * Points to [[testdb.products.ProductsRow.productId]]
   */
  @JsonProperty("product_id") productId: ProductsId,
  /** 
   * Points to [[testdb.warehouses.WarehousesRow.warehouseId]]
   */
  @JsonProperty("warehouse_id") warehouseId: WarehousesId,
  /** Default: 0

   */
  @JsonProperty("quantity_on_hand") quantityOnHand: Defaulted[Integer] = new UseDefault(),
  /** Default: 0

   */
  @JsonProperty("quantity_reserved") quantityReserved: Defaulted[Integer] = new UseDefault(),
  /** Default: 0

   */
  @JsonProperty("quantity_on_order") quantityOnOrder: Defaulted[Integer] = new UseDefault(),
  /** Default: 0

   */
  @JsonProperty("reorder_point") reorderPoint: Defaulted[Integer] = new UseDefault(),
  /** Default: 0

   */
  @JsonProperty("reorder_quantity") reorderQuantity: Defaulted[Integer] = new UseDefault(),
  /** Default: NULL

   */
  @JsonProperty("bin_location") binLocation: Defaulted[Optional[String]] = new UseDefault(),
  /** Default: NULL

   */
  @JsonProperty("last_counted_at") lastCountedAt: Defaulted[Optional[LocalDateTime]] = new UseDefault(),
  /** Default: current_timestamp(6)

   */
  @JsonProperty("updated_at") updatedAt: Defaulted[LocalDateTime] = new UseDefault()
) {
  def toRow(
    quantityOnHandDefault: => Integer,
    quantityReservedDefault: => Integer,
    quantityOnOrderDefault: => Integer,
    reorderPointDefault: => Integer,
    reorderQuantityDefault: => Integer,
    binLocationDefault: => Optional[String],
    lastCountedAtDefault: => Optional[LocalDateTime],
    updatedAtDefault: => LocalDateTime,
    inventoryIdDefault: => InventoryId
  ): InventoryRow = {
    new InventoryRow(
      inventoryId = inventoryIdDefault,
      productId = productId,
      warehouseId = warehouseId,
      quantityOnHand = quantityOnHand.getOrElse(quantityOnHandDefault),
      quantityReserved = quantityReserved.getOrElse(quantityReservedDefault),
      quantityOnOrder = quantityOnOrder.getOrElse(quantityOnOrderDefault),
      reorderPoint = reorderPoint.getOrElse(reorderPointDefault),
      reorderQuantity = reorderQuantity.getOrElse(reorderQuantityDefault),
      binLocation = binLocation.getOrElse(binLocationDefault),
      lastCountedAt = lastCountedAt.getOrElse(lastCountedAtDefault),
      updatedAt = updatedAt.getOrElse(updatedAtDefault)
    )
  }
}

object InventoryRowUnsaved {
  given mariaText: MariaText[InventoryRowUnsaved] = MariaText.instance((row, sb) => { ProductsId.pgType.mariaText.unsafeEncode(row.productId, sb); sb.append(MariaText.DELIMETER); WarehousesId.pgType.mariaText.unsafeEncode(row.warehouseId, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.int_.mariaText).unsafeEncode(row.quantityOnHand, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.int_.mariaText).unsafeEncode(row.quantityReserved, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.int_.mariaText).unsafeEncode(row.quantityOnOrder, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.int_.mariaText).unsafeEncode(row.reorderPoint, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.int_.mariaText).unsafeEncode(row.reorderQuantity, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.varchar.opt().mariaText).unsafeEncode(row.binLocation, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.datetime.opt().mariaText).unsafeEncode(row.lastCountedAt, sb); sb.append(MariaText.DELIMETER); Defaulted.mariaText(using MariaTypes.datetime.mariaText).unsafeEncode(row.updatedAt, sb) })
}