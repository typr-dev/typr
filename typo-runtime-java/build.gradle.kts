plugins {
    `java-library`
}

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(21))
    }
}

sourceSets {
    main {
        java {
            srcDirs(
                "src/java",
                // Generated by bleep: bleep compile typo-runtime-java
                "../.bleep/generated-sources/typo-runtime-java/scripts.GeneratedRowParsers"
            )
        }
    }
}

dependencies {
    api("org.postgresql:postgresql:42.7.3")
    api("org.jetbrains:annotations:26.0.1")
    api("org.mariadb.jdbc:mariadb-java-client:3.5.1")
}

tasks.withType<JavaCompile> {
    options.compilerArgs.addAll(listOf("-proc:none"))
}
