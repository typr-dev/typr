/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.customers;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;
import typo.runtime.SqlServerTypes;

/** Table: customers Primary key: customer_id */
public record CustomersRow(
    /** IDENTITY(1, 1) */
    @JsonProperty("customer_id") CustomersId customerId,
    String name,
    String email,
    /** Default: (getdate()) */
    @JsonProperty("created_at") Optional<LocalDateTime> createdAt) {
  /** IDENTITY(1, 1) */
  public CustomersRow withCustomerId(CustomersId customerId) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  public CustomersRow withName(String name) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  public CustomersRow withEmail(String email) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  /** Default: (getdate()) */
  public CustomersRow withCreatedAt(Optional<LocalDateTime> createdAt) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  public static RowParser<CustomersRow> _rowParser =
      RowParsers.of(
          CustomersId.sqlServerType,
          SqlServerTypes.nvarchar,
          SqlServerTypes.nvarchar,
          SqlServerTypes.datetime2.opt(),
          CustomersRow::new,
          row -> new Object[] {row.customerId(), row.name(), row.email(), row.createdAt()});
  ;

  public CustomersId id() {
    return customerId;
  }
  ;

  public CustomersRowUnsaved toUnsavedRow(Defaulted<Optional<LocalDateTime>> createdAt) {
    return new CustomersRowUnsaved(name, email, createdAt);
  }
  ;
}
