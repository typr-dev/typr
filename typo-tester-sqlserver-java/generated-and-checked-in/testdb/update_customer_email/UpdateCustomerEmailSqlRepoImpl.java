/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.update_customer_email;

import static typo.runtime.Fragment.interpolate;

import java.sql.Connection;
import typo.runtime.Fragment;
import typo.runtime.SqlServerTypes;

public class UpdateCustomerEmailSqlRepoImpl implements UpdateCustomerEmailSqlRepo {
  @Override
  public Integer apply(String newEmail, Integer customerId, Connection c) {
    return interpolate(
            Fragment.lit("-- Update customer email\nUPDATE customers\nSET email = "),
            Fragment.encode(SqlServerTypes.nvarchar, newEmail),
            Fragment.lit("\nWHERE customer_id = "),
            Fragment.encode(SqlServerTypes.int_, customerId),
            Fragment.lit("\n"))
        .update()
        .runUnchecked(c);
  }
  ;
}
