/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.test_connection;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import testdb.customtypes.Defaulted.UseDefault;

/** This class corresponds to a row in table `test_connection` which has not been persisted yet */
public record TestConnectionRowUnsaved(
    String message,
    /** Default: (getdate()) */
    @JsonProperty("created_at") Defaulted<Optional<LocalDateTime>> createdAt) {
  public TestConnectionRowUnsaved(String message) {
    this(message, new UseDefault<>());
  }
  ;

  public TestConnectionRowUnsaved withMessage(String message) {
    return new TestConnectionRowUnsaved(message, createdAt);
  }
  ;

  /** Default: (getdate()) */
  public TestConnectionRowUnsaved withCreatedAt(Defaulted<Optional<LocalDateTime>> createdAt) {
    return new TestConnectionRowUnsaved(message, createdAt);
  }
  ;

  public TestConnectionRow toRow(
      java.util.function.Supplier<Optional<LocalDateTime>> createdAtDefault,
      java.util.function.Supplier<TestConnectionId> idDefault) {
    return new TestConnectionRow(idDefault.get(), message, createdAt.getOrElse(createdAtDefault));
  }
  ;
}
