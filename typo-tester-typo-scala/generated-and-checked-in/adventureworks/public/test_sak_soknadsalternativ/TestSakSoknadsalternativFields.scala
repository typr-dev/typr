/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.test_sak_soknadsalternativ

import adventureworks.public.test_organisasjon.TestOrganisasjonId
import adventureworks.public.test_utdanningstilbud.TestUtdanningstilbudFields
import adventureworks.public.test_utdanningstilbud.TestUtdanningstilbudId
import adventureworks.public.test_utdanningstilbud.TestUtdanningstilbudRow
import java.util.Optional
import typo.dsl.FieldsExpr
import typo.dsl.ForeignKey
import typo.dsl.Path
import typo.dsl.SqlExpr
import typo.dsl.SqlExpr.CompositeIn
import typo.dsl.SqlExpr.CompositeIn.Part
import typo.dsl.SqlExpr.Field
import typo.dsl.SqlExpr.FieldLike
import typo.dsl.SqlExpr.IdField
import typo.dsl.Structure.Relation
import typo.runtime.PgTypes
import typo.runtime.RowParser

trait TestSakSoknadsalternativFields extends FieldsExpr[TestSakSoknadsalternativRow] {
  def organisasjonskodeSaksbehandler: IdField[String, TestSakSoknadsalternativRow]

  def utdanningsmulighetKode: IdField[String, TestSakSoknadsalternativRow]

  def organisasjonskodeTilbyder: Field[TestOrganisasjonId, TestSakSoknadsalternativRow]

  def fkTestUtdanningstilbud: ForeignKey[TestUtdanningstilbudFields, TestUtdanningstilbudRow] = {
    ForeignKey.of[TestUtdanningstilbudFields, TestUtdanningstilbudRow]("public.test_sak_soknadsalternativ_organisasjonskode_tilbyder_utda_fkey").withColumnPair(organisasjonskodeTilbyder, _.organisasjonskode)
    .withColumnPair(utdanningsmulighetKode, _.utdanningsmulighetKode)
  }

  def `extractIdent(TestUtdanningstilbudId)Is`(id: TestUtdanningstilbudId): SqlExpr[java.lang.Boolean] = SqlExpr.all(organisasjonskodeTilbyder.isEqual(id.organisasjonskode), utdanningsmulighetKode.isEqual(id.utdanningsmulighetKode))

  def `extractIdent(TestUtdanningstilbudId)In`(ids: java.util.List[TestUtdanningstilbudId]): SqlExpr[java.lang.Boolean] = new CompositeIn(java.util.List.of(new Part[TestOrganisasjonId, TestUtdanningstilbudId, TestSakSoknadsalternativRow](organisasjonskodeTilbyder, _.organisasjonskode, TestOrganisasjonId.pgType), new Part[String, TestUtdanningstilbudId, TestSakSoknadsalternativRow](utdanningsmulighetKode, _.utdanningsmulighetKode, PgTypes.text)), ids)

  def compositeIdIs(compositeId: TestSakSoknadsalternativId): SqlExpr[java.lang.Boolean] = SqlExpr.all(organisasjonskodeSaksbehandler.isEqual(compositeId.organisasjonskodeSaksbehandler), utdanningsmulighetKode.isEqual(compositeId.utdanningsmulighetKode))

  def compositeIdIn(compositeIds: java.util.List[TestSakSoknadsalternativId]): SqlExpr[java.lang.Boolean] = new CompositeIn(java.util.List.of(new Part[String, TestSakSoknadsalternativId, TestSakSoknadsalternativRow](organisasjonskodeSaksbehandler, _.organisasjonskodeSaksbehandler, PgTypes.text), new Part[String, TestSakSoknadsalternativId, TestSakSoknadsalternativRow](utdanningsmulighetKode, _.utdanningsmulighetKode, PgTypes.text)), compositeIds)

  override def columns: java.util.List[FieldLike[?, TestSakSoknadsalternativRow]]

  override def rowParser: RowParser[TestSakSoknadsalternativRow] = TestSakSoknadsalternativRow._rowParser
}

object TestSakSoknadsalternativFields {
  case class Impl(val `_path`: java.util.List[Path]) extends TestSakSoknadsalternativFields with Relation[TestSakSoknadsalternativFields, TestSakSoknadsalternativRow] {

    override def organisasjonskodeSaksbehandler: IdField[String, TestSakSoknadsalternativRow] = {
      new IdField[String, TestSakSoknadsalternativRow](
        _path,
        "organisasjonskode_saksbehandler",
        _.organisasjonskodeSaksbehandler,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(organisasjonskodeSaksbehandler = value),
        PgTypes.text
      )
    }

    override def utdanningsmulighetKode: IdField[String, TestSakSoknadsalternativRow] = {
      new IdField[String, TestSakSoknadsalternativRow](
        _path,
        "utdanningsmulighet_kode",
        _.utdanningsmulighetKode,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(utdanningsmulighetKode = value),
        PgTypes.text
      )
    }

    override def organisasjonskodeTilbyder: Field[TestOrganisasjonId, TestSakSoknadsalternativRow] = {
      new Field[TestOrganisasjonId, TestSakSoknadsalternativRow](
        _path,
        "organisasjonskode_tilbyder",
        _.organisasjonskodeTilbyder,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(organisasjonskodeTilbyder = value),
        TestOrganisasjonId.pgType
      )
    }

    override def columns: java.util.List[FieldLike[?, TestSakSoknadsalternativRow]] = java.util.List.of(this.organisasjonskodeSaksbehandler, this.utdanningsmulighetKode, this.organisasjonskodeTilbyder)

    override def copy(`_path`: java.util.List[Path]): Relation[TestSakSoknadsalternativFields, TestSakSoknadsalternativRow] = new Impl(`_path`)
  }

  def structure: Impl = new Impl(java.util.List.of())
}