/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes

import org.postgresql.geometric.PGline
import typo.runtime.PgRead
import typo.runtime.PgText
import typo.runtime.PgType
import typo.runtime.PgWrite

/** This implements a line represented by the linear equation Ax + By + C = 0 */
case class TypoLine(
  a: java.lang.Double,
  b: java.lang.Double,
  c: java.lang.Double
)

object TypoLine {
  given pgText: PgText[TypoLine] = PgText.textString.contramap(v => s"{${v.a},${v.b},${v.c}}")

  given pgType: PgType[TypoLine] = {
    PgType.of(
      "line",
      PgRead.castJdbcObjectTo(classOf[PGline]).map((v: PGline) => new TypoLine(v.a, v.b, v.c)),
      PgWrite.passObjectToJdbc[PGline]().contramap((v: TypoLine) => new PGline(v.a, v.b, v.c)),
      TypoLine.pgText
    )
  }

  given pgTypeArray: PgType[Array[TypoLine]] = TypoLine.pgType.array(PgRead.castJdbcArrayTo(classOf[PGline]).map((xs: Array[PGline]) => xs.map((v: PGline) => new TypoLine(v.a, v.b, v.c))), PgWrite.passObjectToJdbc[PGline]().array(TypoLine.pgType.typename().as[PGline]()).contramap((xs: Array[TypoLine]) => xs.map((v: TypoLine) => new PGline(v.a, v.b, v.c))))
}