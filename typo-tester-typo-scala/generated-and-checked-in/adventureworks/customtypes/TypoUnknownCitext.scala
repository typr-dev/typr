/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes

import com.fasterxml.jackson.annotation.JsonValue
import typo.dsl.Bijection
import typo.runtime.PgRead
import typo.runtime.PgText
import typo.runtime.PgType
import typo.runtime.PgTypes
import typo.runtime.PgWrite

/** This is a type typo does not know how to handle yet. This falls back to casting to string and crossing fingers. Time to file an issue! :] */
case class TypoUnknownCitext(@JsonValue value: String)

object TypoUnknownCitext {
  given bijection: Bijection[TypoUnknownCitext, String] = Bijection.apply[TypoUnknownCitext, String](_.value)(TypoUnknownCitext.apply)

  given pgText: PgText[TypoUnknownCitext] = PgText.textString.contramap(v => v.value.toString())

  given pgType: PgType[TypoUnknownCitext] = PgTypes.text.bimap((v: String) => new TypoUnknownCitext(v), (v: TypoUnknownCitext) => v.value).renamed("citext")

  given pgTypeArray: PgType[Array[TypoUnknownCitext]] = TypoUnknownCitext.pgType.array(PgRead.massageJdbcArrayTo(classOf[Array[String]]).map((xs: Array[String]) => xs.map((v: String) => new TypoUnknownCitext(v))), PgWrite.passObjectToJdbc[String]().array(TypoUnknownCitext.pgType.typename().as[String]()).contramap((xs: Array[TypoUnknownCitext]) => xs.map((v: TypoUnknownCitext) => v.value)))
}