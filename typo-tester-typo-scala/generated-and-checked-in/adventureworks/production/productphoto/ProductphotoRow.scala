/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.productphoto

import adventureworks.customtypes.Defaulted
import adventureworks.customtypes.TypoBytea
import adventureworks.customtypes.TypoLocalDateTime
import java.util.Optional
import typo.runtime.PgText
import typo.runtime.PgTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers

/** Table: production.productphoto
 * Product images.
 * Primary key: productphotoid
 */
case class ProductphotoRow(
  /** Primary key for ProductPhoto records.
   * Default: nextval('production.productphoto_productphotoid_seq'::regclass)
   */
  productphotoid: ProductphotoId,
  /** Small image of the product. */
  thumbnailphoto: Optional[TypoBytea],
  /** Small image file name. */
  thumbnailphotofilename: Optional[/* max 50 chars */ String],
  /** Large image of the product. */
  largephoto: Optional[TypoBytea],
  /** Large image file name. */
  largephotofilename: Optional[/* max 50 chars */ String],
  /** Default: now() */
  modifieddate: TypoLocalDateTime
) {
  def id: ProductphotoId = productphotoid

  def toUnsavedRow(
    productphotoid: Defaulted[ProductphotoId],
    modifieddate: Defaulted[TypoLocalDateTime] = Defaulted.Provided(this.modifieddate)
  ): ProductphotoRowUnsaved = {
    new ProductphotoRowUnsaved(
      thumbnailphoto,
      thumbnailphotofilename,
      largephoto,
      largephotofilename,
      productphotoid,
      modifieddate
    )
  }
}

object ProductphotoRow {
  val `_rowParser`: RowParser[ProductphotoRow] = RowParsers.of(ProductphotoId.pgType, TypoBytea.pgType.opt(), PgTypes.text.opt(), TypoBytea.pgType.opt(), PgTypes.text.opt(), TypoLocalDateTime.pgType, ProductphotoRow.apply, row => Array(row.productphotoid, row.thumbnailphoto, row.thumbnailphotofilename, row.largephoto, row.largephotofilename, row.modifieddate))

  given pgText: PgText[ProductphotoRow] = PgText.from(`_rowParser`)
}