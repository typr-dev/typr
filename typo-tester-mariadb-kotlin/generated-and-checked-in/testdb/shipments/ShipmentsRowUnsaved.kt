/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.shipments

import com.fasterxml.jackson.annotation.JsonProperty
import java.math.BigDecimal
import java.time.LocalDate
import java.time.LocalDateTime
import java.util.Optional
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import testdb.orders.OrdersId
import testdb.shipping_carriers.ShippingCarriersId
import testdb.warehouses.WarehousesId
import typo.runtime.MariaText
import typo.runtime.MariaTypes

/** This class corresponds to a row in table `shipments` which has not been persisted yet */
data class ShipmentsRowUnsaved(
  /** 
    * Points to [testdb.orders.OrdersRow.orderId]
    */
  @JsonProperty("order_id") val orderId: OrdersId,
  /** 
    * Points to [testdb.shipping_carriers.ShippingCarriersRow.carrierId]
    */
  @JsonProperty("carrier_id") val carrierId: ShippingCarriersId,
  /**  */
  @JsonProperty("shipping_method") val shippingMethod: String,
  /**  */
  @JsonProperty("shipping_cost") val shippingCost: BigDecimal,
  /** Default: NULL

    */
  @JsonProperty("tracking_number") val trackingNumber: Defaulted<Optional<String>> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("weight_kg") val weightKg: Defaulted<Optional<BigDecimal>> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("dimensions_json") val dimensionsJson: Defaulted<Optional<String>> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("label_data") val labelData: Defaulted<Optional<ByteArray>> = UseDefault(),
  /** Default: 'pending'

    */
  val status: Defaulted<String> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("estimated_delivery_date") val estimatedDeliveryDate: Defaulted<Optional<LocalDate>> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("actual_delivery_at") val actualDeliveryAt: Defaulted<Optional<LocalDateTime>> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("insurance_amount") val insuranceAmount: Defaulted<Optional<BigDecimal>> = UseDefault(),
  /** Default: NULL
    * Points to [testdb.warehouses.WarehousesRow.warehouseId]
    */
  @JsonProperty("origin_warehouse_id") val originWarehouseId: Defaulted<Optional<WarehousesId>> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("shipped_at") val shippedAt: Defaulted<Optional<LocalDateTime>> = UseDefault(),
  /** Default: current_timestamp(6)

    */
  @JsonProperty("created_at") val createdAt: Defaulted<LocalDateTime> = UseDefault(),
  /** Default: current_timestamp(6)

    */
  @JsonProperty("updated_at") val updatedAt: Defaulted<LocalDateTime> = UseDefault()
) {
  fun toRow(
    trackingNumberDefault: () -> Optional<String>,
    weightKgDefault: () -> Optional<BigDecimal>,
    dimensionsJsonDefault: () -> Optional<String>,
    labelDataDefault: () -> Optional<ByteArray>,
    statusDefault: () -> String,
    estimatedDeliveryDateDefault: () -> Optional<LocalDate>,
    actualDeliveryAtDefault: () -> Optional<LocalDateTime>,
    insuranceAmountDefault: () -> Optional<BigDecimal>,
    originWarehouseIdDefault: () -> Optional<WarehousesId>,
    shippedAtDefault: () -> Optional<LocalDateTime>,
    createdAtDefault: () -> LocalDateTime,
    updatedAtDefault: () -> LocalDateTime,
    shipmentIdDefault: () -> ShipmentsId
  ): ShipmentsRow = ShipmentsRow(shipmentId = shipmentIdDefault(), orderId = orderId, carrierId = carrierId, trackingNumber = trackingNumber.getOrElse(trackingNumberDefault), shippingMethod = shippingMethod, weightKg = weightKg.getOrElse(weightKgDefault), dimensionsJson = dimensionsJson.getOrElse(dimensionsJsonDefault), labelData = labelData.getOrElse(labelDataDefault), status = status.getOrElse(statusDefault), estimatedDeliveryDate = estimatedDeliveryDate.getOrElse(estimatedDeliveryDateDefault), actualDeliveryAt = actualDeliveryAt.getOrElse(actualDeliveryAtDefault), shippingCost = shippingCost, insuranceAmount = insuranceAmount.getOrElse(insuranceAmountDefault), originWarehouseId = originWarehouseId.getOrElse(originWarehouseIdDefault), shippedAt = shippedAt.getOrElse(shippedAtDefault), createdAt = createdAt.getOrElse(createdAtDefault), updatedAt = updatedAt.getOrElse(updatedAtDefault))

  companion object {
    val mariaText: MariaText<ShipmentsRowUnsaved> =
      MariaText.instance({ row, sb -> OrdersId.pgType.mariaText().unsafeEncode(row.orderId, sb)
      sb.append(MariaText.DELIMETER)
      ShippingCarriersId.pgType.mariaText().unsafeEncode(row.carrierId, sb)
      sb.append(MariaText.DELIMETER)
      MariaTypes.varchar.mariaText().unsafeEncode(row.shippingMethod, sb)
      sb.append(MariaText.DELIMETER)
      MariaTypes.decimal.mariaText().unsafeEncode(row.shippingCost, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.varchar.opt().mariaText()).unsafeEncode(row.trackingNumber, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.decimal.opt().mariaText()).unsafeEncode(row.weightKg, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.longtext.opt().mariaText()).unsafeEncode(row.dimensionsJson, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.longblob.opt().mariaText()).unsafeEncode(row.labelData, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.text.mariaText()).unsafeEncode(row.status, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.date.opt().mariaText()).unsafeEncode(row.estimatedDeliveryDate, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.datetime.opt().mariaText()).unsafeEncode(row.actualDeliveryAt, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.decimal.opt().mariaText()).unsafeEncode(row.insuranceAmount, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(WarehousesId.pgType.opt().mariaText()).unsafeEncode(row.originWarehouseId, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.datetime.opt().mariaText()).unsafeEncode(row.shippedAt, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.datetime.mariaText()).unsafeEncode(row.createdAt, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.datetime.mariaText()).unsafeEncode(row.updatedAt, sb) })
  }
}