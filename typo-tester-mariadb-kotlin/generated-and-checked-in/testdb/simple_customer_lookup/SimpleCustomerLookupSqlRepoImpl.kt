/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.simple_customer_lookup

import java.sql.Connection
import kotlin.collections.List
import typo.kotlindsl.Fragment
import typo.runtime.MariaTypes

class SimpleCustomerLookupSqlRepoImpl() : SimpleCustomerLookupSqlRepo {
  override fun apply(
    email: String,
    c: Connection
  ): List<SimpleCustomerLookupSqlRow> = Fragment.interpolate(Fragment.lit("-- Simple customer lookup by email\nSELECT customer_id,\n       email,\n       first_name,\n       last_name,\n       tier,\n       status,\n       created_at\nFROM customers\nWHERE email = "), Fragment.encode(MariaTypes.varchar, email), Fragment.lit("\n")).query(SimpleCustomerLookupSqlRow._rowParser.all()).runUnchecked(c)
}