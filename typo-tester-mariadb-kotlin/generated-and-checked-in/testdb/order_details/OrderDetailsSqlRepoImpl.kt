/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_details

import java.sql.Connection
import kotlin.collections.List
import testdb.orders.OrdersId
import typo.kotlindsl.Fragment

class OrderDetailsSqlRepoImpl() : OrderDetailsSqlRepo {
  override fun apply(
    orderId: /* user-picked */ OrdersId,
    c: Connection
  ): List<OrderDetailsSqlRow> = Fragment.interpolate(Fragment.lit("-- Get order with all items\nSELECT o.order_id,\n       o.order_number,\n       o.order_status,\n       o.payment_status,\n       o.subtotal,\n       o.shipping_cost,\n       o.tax_amount,\n       o.discount_amount,\n       o.total_amount,\n       o.ordered_at,\n       oi.item_id,\n       oi.product_id,\n       oi.sku,\n       oi.product_name,\n       oi.quantity,\n       oi.unit_price,\n       oi.line_total\nFROM orders o\nJOIN order_items oi ON o.order_id = oi.order_id\nWHERE o.order_id = "), Fragment.encode(OrdersId.pgType, orderId), Fragment.lit("\n")).query(OrderDetailsSqlRow._rowParser.all()).runUnchecked(c)
}