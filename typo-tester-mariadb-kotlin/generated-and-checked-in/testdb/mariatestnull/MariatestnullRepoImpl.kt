/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.mariatestnull

import java.sql.Connection
import java.util.ArrayList
import kotlin.collections.List
import typo.dsl.DeleteBuilder
import typo.dsl.Dialect
import typo.dsl.SelectBuilder
import typo.dsl.UpdateBuilder
import typo.runtime.Fragment
import typo.runtime.Fragment.Literal
import typo.runtime.MariaTypes
import typo.runtime.Fragment.interpolate

class MariatestnullRepoImpl() : MariatestnullRepo {
  override fun delete(): DeleteBuilder<MariatestnullFields, MariatestnullRow> = DeleteBuilder.of("`mariatestnull`", MariatestnullFields.structure, Dialect.MARIADB)

  override fun insert(
    unsaved: MariatestnullRow,
    c: Connection
  ): MariatestnullRow = interpolate(
    typo.runtime.Fragment.lit("""
      insert into `mariatestnull`(`tinyint_col`, `smallint_col`, `mediumint_col`, `int_col`, `bigint_col`, `tinyint_u_col`, `smallint_u_col`, `mediumint_u_col`, `int_u_col`, `bigint_u_col`, `decimal_col`, `numeric_col`, `float_col`, `double_col`, `bool_col`, `bit_col`, `bit1_col`, `char_col`, `varchar_col`, `tinytext_col`, `text_col`, `mediumtext_col`, `longtext_col`, `binary_col`, `varbinary_col`, `tinyblob_col`, `blob_col`, `mediumblob_col`, `longblob_col`, `date_col`, `time_col`, `time_fsp_col`, `datetime_col`, `datetime_fsp_col`, `timestamp_col`, `timestamp_fsp_col`, `year_col`, `enum_col`, `set_col`, `json_col`, `inet4_col`, `inet6_col`)
      values (""".trimMargin()),
    MariaTypes.tinyint.opt().encode(unsaved.tinyintCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.smallint.opt().encode(unsaved.smallintCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.int_.opt().encode(unsaved.mediumintCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.int_.opt().encode(unsaved.intCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.bigint.opt().encode(unsaved.bigintCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.smallint.opt().encode(unsaved.tinyintUCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.int_.opt().encode(unsaved.smallintUCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.int_.opt().encode(unsaved.mediumintUCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.bigint.opt().encode(unsaved.intUCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.bigintUnsigned.opt().encode(unsaved.bigintUCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.numeric.opt().encode(unsaved.decimalCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.numeric.opt().encode(unsaved.numericCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.float_.opt().encode(unsaved.floatCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.double_.opt().encode(unsaved.doubleCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.bool.opt().encode(unsaved.boolCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.bitCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.bit1Col),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.charCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.varcharCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.tinytextCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.textCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.mediumtextCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.longtextCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.binaryCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.varbinaryCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.tinyblobCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.blobCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.mediumblobCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.blob.opt().encode(unsaved.longblobCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.date.opt().encode(unsaved.dateCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.time.opt().encode(unsaved.timeCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.time.opt().encode(unsaved.timeFspCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.datetime.opt().encode(unsaved.datetimeCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.datetime.opt().encode(unsaved.datetimeFspCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.datetime.opt().encode(unsaved.timestampCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.datetime.opt().encode(unsaved.timestampFspCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.year.opt().encode(unsaved.yearCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.enumCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.set.opt().encode(unsaved.setCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.text.opt().encode(unsaved.jsonCol),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.inet4.opt().encode(unsaved.inet4Col),
    typo.runtime.Fragment.lit(", "),
    MariaTypes.inet6.opt().encode(unsaved.inet6Col),
    typo.runtime.Fragment.lit("""
      )
      returning `tinyint_col`, `smallint_col`, `mediumint_col`, `int_col`, `bigint_col`, `tinyint_u_col`, `smallint_u_col`, `mediumint_u_col`, `int_u_col`, `bigint_u_col`, `decimal_col`, `numeric_col`, `float_col`, `double_col`, `bool_col`, `bit_col`, `bit1_col`, `char_col`, `varchar_col`, `tinytext_col`, `text_col`, `mediumtext_col`, `longtext_col`, `binary_col`, `varbinary_col`, `tinyblob_col`, `blob_col`, `mediumblob_col`, `longblob_col`, `date_col`, `time_col`, `time_fsp_col`, `datetime_col`, `datetime_fsp_col`, `timestamp_col`, `timestamp_fsp_col`, `year_col`, `enum_col`, `set_col`, `json_col`, `inet4_col`, `inet6_col`
    """.trimMargin())
  )
    .updateReturning(MariatestnullRow._rowParser.exactlyOne()).runUnchecked(c)

  override fun insert(
    unsaved: MariatestnullRowUnsaved,
    c: Connection
  ): MariatestnullRow {
    val columns: ArrayList<Literal> = ArrayList<Literal>()
    val values: ArrayList<Fragment> = ArrayList<Fragment>()
    unsaved.tinyintCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`tinyint_col`"))
      values.add(interpolate(
        MariaTypes.tinyint.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.smallintCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`smallint_col`"))
      values.add(interpolate(
        MariaTypes.smallint.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.mediumintCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`mediumint_col`"))
      values.add(interpolate(
        MariaTypes.int_.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.intCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`int_col`"))
      values.add(interpolate(
        MariaTypes.int_.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.bigintCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`bigint_col`"))
      values.add(interpolate(
        MariaTypes.bigint.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.tinyintUCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`tinyint_u_col`"))
      values.add(interpolate(
        MariaTypes.smallint.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.smallintUCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`smallint_u_col`"))
      values.add(interpolate(
        MariaTypes.int_.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.mediumintUCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`mediumint_u_col`"))
      values.add(interpolate(
        MariaTypes.int_.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.intUCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`int_u_col`"))
      values.add(interpolate(
        MariaTypes.bigint.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.bigintUCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`bigint_u_col`"))
      values.add(interpolate(
        MariaTypes.bigintUnsigned.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.decimalCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`decimal_col`"))
      values.add(interpolate(
        MariaTypes.numeric.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.numericCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`numeric_col`"))
      values.add(interpolate(
        MariaTypes.numeric.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.floatCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`float_col`"))
      values.add(interpolate(
        MariaTypes.float_.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.doubleCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`double_col`"))
      values.add(interpolate(
        MariaTypes.double_.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.boolCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`bool_col`"))
      values.add(interpolate(
        MariaTypes.bool.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.bitCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`bit_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.bit1Col.visit(
      {  },
      { value -> columns.add(Fragment.lit("`bit1_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.charCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`char_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.varcharCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`varchar_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.tinytextCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`tinytext_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.textCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`text_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.mediumtextCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`mediumtext_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.longtextCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`longtext_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.binaryCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`binary_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.varbinaryCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`varbinary_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.tinyblobCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`tinyblob_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.blobCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`blob_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.mediumblobCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`mediumblob_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.longblobCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`longblob_col`"))
      values.add(interpolate(
        MariaTypes.blob.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.dateCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`date_col`"))
      values.add(interpolate(
        MariaTypes.date.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.timeCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`time_col`"))
      values.add(interpolate(
        MariaTypes.time.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.timeFspCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`time_fsp_col`"))
      values.add(interpolate(
        MariaTypes.time.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.datetimeCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`datetime_col`"))
      values.add(interpolate(
        MariaTypes.datetime.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.datetimeFspCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`datetime_fsp_col`"))
      values.add(interpolate(
        MariaTypes.datetime.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.timestampCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`timestamp_col`"))
      values.add(interpolate(
        MariaTypes.datetime.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.timestampFspCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`timestamp_fsp_col`"))
      values.add(interpolate(
        MariaTypes.datetime.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.yearCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`year_col`"))
      values.add(interpolate(
        MariaTypes.year.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.enumCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`enum_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.setCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`set_col`"))
      values.add(interpolate(
        MariaTypes.set.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.jsonCol.visit(
      {  },
      { value -> columns.add(Fragment.lit("`json_col`"))
      values.add(interpolate(
        MariaTypes.text.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.inet4Col.visit(
      {  },
      { value -> columns.add(Fragment.lit("`inet4_col`"))
      values.add(interpolate(
        MariaTypes.inet4.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    unsaved.inet6Col.visit(
      {  },
      { value -> columns.add(Fragment.lit("`inet6_col`"))
      values.add(interpolate(
        MariaTypes.inet6.opt().encode(value),
        typo.runtime.Fragment.lit("""
        """.trimMargin())
      )) }
    );
    val q: Fragment = if (columns.isEmpty()) interpolate(typo.runtime.Fragment.lit("""
      insert into `mariatestnull` default values
      returning `tinyint_col`, `smallint_col`, `mediumint_col`, `int_col`, `bigint_col`, `tinyint_u_col`, `smallint_u_col`, `mediumint_u_col`, `int_u_col`, `bigint_u_col`, `decimal_col`, `numeric_col`, `float_col`, `double_col`, `bool_col`, `bit_col`, `bit1_col`, `char_col`, `varchar_col`, `tinytext_col`, `text_col`, `mediumtext_col`, `longtext_col`, `binary_col`, `varbinary_col`, `tinyblob_col`, `blob_col`, `mediumblob_col`, `longblob_col`, `date_col`, `time_col`, `time_fsp_col`, `datetime_col`, `datetime_fsp_col`, `timestamp_col`, `timestamp_fsp_col`, `year_col`, `enum_col`, `set_col`, `json_col`, `inet4_col`, `inet6_col`
    """.trimMargin())) else interpolate(
      typo.runtime.Fragment.lit("insert into `mariatestnull`("),
      Fragment.comma(columns),
      typo.runtime.Fragment.lit("""
        )
        values (""".trimMargin()),
      Fragment.comma(values),
      typo.runtime.Fragment.lit("""
        )
        returning `tinyint_col`, `smallint_col`, `mediumint_col`, `int_col`, `bigint_col`, `tinyint_u_col`, `smallint_u_col`, `mediumint_u_col`, `int_u_col`, `bigint_u_col`, `decimal_col`, `numeric_col`, `float_col`, `double_col`, `bool_col`, `bit_col`, `bit1_col`, `char_col`, `varchar_col`, `tinytext_col`, `text_col`, `mediumtext_col`, `longtext_col`, `binary_col`, `varbinary_col`, `tinyblob_col`, `blob_col`, `mediumblob_col`, `longblob_col`, `date_col`, `time_col`, `time_fsp_col`, `datetime_col`, `datetime_fsp_col`, `timestamp_col`, `timestamp_fsp_col`, `year_col`, `enum_col`, `set_col`, `json_col`, `inet4_col`, `inet6_col`
      """.trimMargin())
    )
    return q.updateReturning(MariatestnullRow._rowParser.exactlyOne()).runUnchecked(c)
  }

  override fun select(): SelectBuilder<MariatestnullFields, MariatestnullRow> = SelectBuilder.of("`mariatestnull`", MariatestnullFields.structure, MariatestnullRow._rowParser, Dialect.MARIADB)

  override fun selectAll(c: Connection): List<MariatestnullRow> = interpolate(typo.runtime.Fragment.lit("""
    select `tinyint_col`, `smallint_col`, `mediumint_col`, `int_col`, `bigint_col`, `tinyint_u_col`, `smallint_u_col`, `mediumint_u_col`, `int_u_col`, `bigint_u_col`, `decimal_col`, `numeric_col`, `float_col`, `double_col`, `bool_col`, `bit_col`, `bit1_col`, `char_col`, `varchar_col`, `tinytext_col`, `text_col`, `mediumtext_col`, `longtext_col`, `binary_col`, `varbinary_col`, `tinyblob_col`, `blob_col`, `mediumblob_col`, `longblob_col`, `date_col`, `time_col`, `time_fsp_col`, `datetime_col`, `datetime_fsp_col`, `timestamp_col`, `timestamp_fsp_col`, `year_col`, `enum_col`, `set_col`, `json_col`, `inet4_col`, `inet6_col`
    from `mariatestnull`
  """.trimMargin())).query(MariatestnullRow._rowParser.all()).runUnchecked(c)

  override fun update(): UpdateBuilder<MariatestnullFields, MariatestnullRow> = UpdateBuilder.of("`mariatestnull`", MariatestnullFields.structure, MariatestnullRow._rowParser.all(), Dialect.MARIADB)
}