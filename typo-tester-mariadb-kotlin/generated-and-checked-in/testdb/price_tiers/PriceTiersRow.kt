/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.price_tiers

import com.fasterxml.jackson.annotation.JsonProperty
import java.math.BigDecimal
import testdb.customtypes.Defaulted
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers

/** Table: price_tiers
  * Primary key: tier_id
  */
data class PriceTiersRow(
  /** 
    * AUTO_INCREMENT
    */
  @JsonProperty("tier_id") val tierId: PriceTiersId,
  /**  */
  val name: String,
  /** 
    * Default: 1
    */
  @JsonProperty("min_quantity") val minQuantity: Long,
  /**  */
  @JsonProperty("discount_type") val discountType: String,
  /**  */
  @JsonProperty("discount_value") val discountValue: BigDecimal
) {
  fun id(): PriceTiersId = tierId

  fun toUnsavedRow(minQuantity: Defaulted<Long>): PriceTiersRowUnsaved = PriceTiersRowUnsaved(name, discountType, discountValue, minQuantity)

  companion object {
    val _rowParser: RowParser<PriceTiersRow> = RowParsers.of(PriceTiersId.pgType, MariaTypes.varchar, MariaTypes.intUnsigned, MariaTypes.text, MariaTypes.decimal, { t0, t1, t2, t3, t4 -> PriceTiersRow(t0!!, t1!!, t2!!, t3!!, t4!!) }, { row -> arrayOf<Any?>(row.tierId, row.name, row.minQuantity, row.discountType, row.discountValue) })

    val mariaText: MariaText<PriceTiersRow> =
      MariaText.from(_rowParser)
  }
}