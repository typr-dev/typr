/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.reviews

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import java.util.Optional
import testdb.customers.CustomersId
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import testdb.order_items.OrderItemsId
import testdb.products.ProductsId
import typo.runtime.MariaText
import typo.runtime.MariaTypes

/** This class corresponds to a row in table `reviews` which has not been persisted yet */
data class ReviewsRowUnsaved(
  /** 
    * Points to [testdb.products.ProductsRow.productId]
    */
  @JsonProperty("product_id") val productId: ProductsId,
  /** 
    * Points to [testdb.customers.CustomersRow.customerId]
    */
  @JsonProperty("customer_id") val customerId: CustomersId,
  /**  */
  val rating: Short,
  /** Default: NULL
    * Points to [testdb.order_items.OrderItemsRow.itemId]
    */
  @JsonProperty("order_item_id") val orderItemId: Defaulted<Optional<OrderItemsId>> = UseDefault(),
  /** Default: NULL

    */
  val title: Defaulted<Optional<String>> = UseDefault(),
  /** Default: NULL

    */
  val content: Defaulted<Optional<String>> = UseDefault(),
  /** Default: NULL

    */
  val pros: Defaulted<Optional<String>> = UseDefault(),
  /** Default: NULL

    */
  val cons: Defaulted<Optional<String>> = UseDefault(),
  /** Default: NULL
    * Array of image URLs
    */
  val images: Defaulted<Optional<String>> = UseDefault(),
  /** Default: 0

    */
  @JsonProperty("is_verified_purchase") val isVerifiedPurchase: Defaulted<Boolean> = UseDefault(),
  /** Default: 0

    */
  @JsonProperty("is_approved") val isApproved: Defaulted<Boolean> = UseDefault(),
  /** Default: 0

    */
  @JsonProperty("helpful_votes") val helpfulVotes: Defaulted<Long> = UseDefault(),
  /** Default: 0

    */
  @JsonProperty("unhelpful_votes") val unhelpfulVotes: Defaulted<Long> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("admin_response") val adminResponse: Defaulted<Optional<String>> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("responded_at") val respondedAt: Defaulted<Optional<LocalDateTime>> = UseDefault(),
  /** Default: current_timestamp(6)

    */
  @JsonProperty("created_at") val createdAt: Defaulted<LocalDateTime> = UseDefault(),
  /** Default: current_timestamp(6)

    */
  @JsonProperty("updated_at") val updatedAt: Defaulted<LocalDateTime> = UseDefault()
) {
  fun toRow(
    orderItemIdDefault: () -> Optional<OrderItemsId>,
    titleDefault: () -> Optional<String>,
    contentDefault: () -> Optional<String>,
    prosDefault: () -> Optional<String>,
    consDefault: () -> Optional<String>,
    imagesDefault: () -> Optional<String>,
    isVerifiedPurchaseDefault: () -> Boolean,
    isApprovedDefault: () -> Boolean,
    helpfulVotesDefault: () -> Long,
    unhelpfulVotesDefault: () -> Long,
    adminResponseDefault: () -> Optional<String>,
    respondedAtDefault: () -> Optional<LocalDateTime>,
    createdAtDefault: () -> LocalDateTime,
    updatedAtDefault: () -> LocalDateTime,
    reviewIdDefault: () -> ReviewsId
  ): ReviewsRow = ReviewsRow(reviewId = reviewIdDefault(), productId = productId, customerId = customerId, orderItemId = orderItemId.getOrElse(orderItemIdDefault), rating = rating, title = title.getOrElse(titleDefault), content = content.getOrElse(contentDefault), pros = pros.getOrElse(prosDefault), cons = cons.getOrElse(consDefault), images = images.getOrElse(imagesDefault), isVerifiedPurchase = isVerifiedPurchase.getOrElse(isVerifiedPurchaseDefault), isApproved = isApproved.getOrElse(isApprovedDefault), helpfulVotes = helpfulVotes.getOrElse(helpfulVotesDefault), unhelpfulVotes = unhelpfulVotes.getOrElse(unhelpfulVotesDefault), adminResponse = adminResponse.getOrElse(adminResponseDefault), respondedAt = respondedAt.getOrElse(respondedAtDefault), createdAt = createdAt.getOrElse(createdAtDefault), updatedAt = updatedAt.getOrElse(updatedAtDefault))

  companion object {
    val mariaText: MariaText<ReviewsRowUnsaved> =
      MariaText.instance({ row, sb -> ProductsId.pgType.mariaText().unsafeEncode(row.productId, sb)
      sb.append(MariaText.DELIMETER)
      CustomersId.pgType.mariaText().unsafeEncode(row.customerId, sb)
      sb.append(MariaText.DELIMETER)
      MariaTypes.tinyintUnsigned.mariaText().unsafeEncode(row.rating, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(OrderItemsId.pgType.opt().mariaText()).unsafeEncode(row.orderItemId, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.varchar.opt().mariaText()).unsafeEncode(row.title, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.text.opt().mariaText()).unsafeEncode(row.content, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.longtext.opt().mariaText()).unsafeEncode(row.pros, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.longtext.opt().mariaText()).unsafeEncode(row.cons, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.longtext.opt().mariaText()).unsafeEncode(row.images, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.bool.mariaText()).unsafeEncode(row.isVerifiedPurchase, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.bool.mariaText()).unsafeEncode(row.isApproved, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.intUnsigned.mariaText()).unsafeEncode(row.helpfulVotes, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.intUnsigned.mariaText()).unsafeEncode(row.unhelpfulVotes, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.text.opt().mariaText()).unsafeEncode(row.adminResponse, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.datetime.opt().mariaText()).unsafeEncode(row.respondedAt, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.datetime.mariaText()).unsafeEncode(row.createdAt, sb)
      sb.append(MariaText.DELIMETER)
      Defaulted.mariaText(MariaTypes.datetime.mariaText()).unsafeEncode(row.updatedAt, sb) })
  }
}