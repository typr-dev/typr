/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_history

import java.time.LocalDateTime
import java.util.Optional
import kotlin.collections.List
import testdb.orders.OrdersFields
import testdb.orders.OrdersId
import testdb.orders.OrdersRow
import typo.dsl.ForeignKey
import typo.dsl.Path
import typo.dsl.SqlExpr.Field
import typo.dsl.SqlExpr.FieldLike
import typo.dsl.SqlExpr.IdField
import typo.dsl.SqlExpr.OptField
import typo.dsl.Structure.Relation
import typo.runtime.MariaTypes

interface OrderHistoryFields {
  fun changeReason(): OptField<String, OrderHistoryRow>

  fun changedBy(): OptField<String, OrderHistoryRow>

  fun createdAt(): Field<LocalDateTime, OrderHistoryRow>

  fun fkOrders(): ForeignKey<OrdersFields, OrdersRow> = ForeignKey.of<OrdersFields, OrdersRow>("fk_oh_order").withColumnPair(orderId(), OrdersFields::orderId)

  fun historyId(): IdField<OrderHistoryId, OrderHistoryRow>

  fun metadata(): OptField<String, OrderHistoryRow>

  fun newStatus(): Field<String, OrderHistoryRow>

  fun orderId(): Field<OrdersId, OrderHistoryRow>

  fun previousStatus(): OptField<String, OrderHistoryRow>

  companion object {
    private class Impl(path: List<Path>) : Relation<OrderHistoryFields, OrderHistoryRow>(path) {
      override fun fields(): OrderHistoryFields = object : OrderHistoryFields {
        override fun historyId(): IdField<OrderHistoryId, OrderHistoryRow> = IdField<OrderHistoryId, OrderHistoryRow>(_path, "history_id", OrderHistoryRow::historyId, Optional.empty(), Optional.empty(), { row, value -> row.copy(historyId = value) }, OrderHistoryId.pgType)
        override fun orderId(): Field<OrdersId, OrderHistoryRow> = Field<OrdersId, OrderHistoryRow>(_path, "order_id", OrderHistoryRow::orderId, Optional.empty(), Optional.empty(), { row, value -> row.copy(orderId = value) }, OrdersId.pgType)
        override fun previousStatus(): OptField<String, OrderHistoryRow> = OptField<String, OrderHistoryRow>(_path, "previous_status", OrderHistoryRow::previousStatus, Optional.empty(), Optional.empty(), { row, value -> row.copy(previousStatus = value) }, MariaTypes.text)
        override fun newStatus(): Field<String, OrderHistoryRow> = Field<String, OrderHistoryRow>(_path, "new_status", OrderHistoryRow::newStatus, Optional.empty(), Optional.empty(), { row, value -> row.copy(newStatus = value) }, MariaTypes.text)
        override fun changedBy(): OptField<String, OrderHistoryRow> = OptField<String, OrderHistoryRow>(_path, "changed_by", OrderHistoryRow::changedBy, Optional.empty(), Optional.empty(), { row, value -> row.copy(changedBy = value) }, MariaTypes.varchar)
        override fun changeReason(): OptField<String, OrderHistoryRow> = OptField<String, OrderHistoryRow>(_path, "change_reason", OrderHistoryRow::changeReason, Optional.empty(), Optional.empty(), { row, value -> row.copy(changeReason = value) }, MariaTypes.varchar)
        override fun metadata(): OptField<String, OrderHistoryRow> = OptField<String, OrderHistoryRow>(_path, "metadata", OrderHistoryRow::metadata, Optional.empty(), Optional.empty(), { row, value -> row.copy(metadata = value) }, MariaTypes.longtext)
        override fun createdAt(): Field<LocalDateTime, OrderHistoryRow> = Field<LocalDateTime, OrderHistoryRow>(_path, "created_at", OrderHistoryRow::createdAt, Optional.empty(), Optional.empty(), { row, value -> row.copy(createdAt = value) }, MariaTypes.datetime)
      }

      override fun columns(): List<FieldLike<*, OrderHistoryRow>> = listOf(this.fields().historyId(), this.fields().orderId(), this.fields().previousStatus(), this.fields().newStatus(), this.fields().changedBy(), this.fields().changeReason(), this.fields().metadata(), this.fields().createdAt())

      override fun copy(path: List<Path>): Impl = Impl(path)
    }

    val structure: Relation<OrderHistoryFields, OrderHistoryRow> = Impl(listOf())
  }
}