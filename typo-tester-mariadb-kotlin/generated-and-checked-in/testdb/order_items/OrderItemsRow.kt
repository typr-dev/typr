/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_items

import com.fasterxml.jackson.annotation.JsonProperty
import java.math.BigDecimal
import java.util.Optional
import testdb.customtypes.Defaulted
import testdb.orders.OrdersId
import testdb.products.ProductsId
import testdb.warehouses.WarehousesId
import typo.runtime.MariaText
import typo.runtime.MariaTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers

/** Table: order_items
  * Primary key: item_id
  */
data class OrderItemsRow(
  /** 
    * AUTO_INCREMENT
    */
  @JsonProperty("item_id") val itemId: OrderItemsId,
  /** 
    * Points to [testdb.orders.OrdersRow.orderId]
    */
  @JsonProperty("order_id") val orderId: OrdersId,
  /** 
    * Points to [testdb.products.ProductsRow.productId]
    */
  @JsonProperty("product_id") val productId: ProductsId,
  /**  */
  val sku: String,
  /**  */
  @JsonProperty("product_name") val productName: String,
  /**  */
  val quantity: Int,
  /**  */
  @JsonProperty("unit_price") val unitPrice: BigDecimal,
  /** 
    * Default: 0.0000
    */
  @JsonProperty("discount_amount") val discountAmount: BigDecimal,
  /** 
    * Default: 0.0000
    */
  @JsonProperty("tax_amount") val taxAmount: BigDecimal,
  /**  */
  @JsonProperty("line_total") val lineTotal: BigDecimal,
  /** 
    * Default: 'pending'
    */
  @JsonProperty("fulfillment_status") val fulfillmentStatus: String,
  /** 
    * Default: NULL
    * Points to [testdb.warehouses.WarehousesRow.warehouseId]
    */
  @JsonProperty("warehouse_id") val warehouseId: Optional<WarehousesId>,
  /** 
    * Default: NULL
    */
  val notes: Optional<String>
) {
  fun id(): OrderItemsId = itemId

  fun toUnsavedRow(
    discountAmount: Defaulted<BigDecimal>,
    taxAmount: Defaulted<BigDecimal>,
    fulfillmentStatus: Defaulted<String>,
    warehouseId: Defaulted<Optional<WarehousesId>>,
    notes: Defaulted<Optional<String>>
  ): OrderItemsRowUnsaved = OrderItemsRowUnsaved(orderId, productId, sku, productName, quantity, unitPrice, lineTotal, discountAmount, taxAmount, fulfillmentStatus, warehouseId, notes)

  companion object {
    val _rowParser: RowParser<OrderItemsRow> = RowParsers.of(OrderItemsId.pgType, OrdersId.pgType, ProductsId.pgType, MariaTypes.varchar, MariaTypes.varchar, MariaTypes.smallintUnsigned, MariaTypes.decimal, MariaTypes.decimal, MariaTypes.decimal, MariaTypes.decimal, MariaTypes.text, WarehousesId.pgType.opt(), MariaTypes.tinytext.opt(), { t0, t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11, t12 -> OrderItemsRow(t0!!, t1!!, t2!!, t3!!, t4!!, t5!!, t6!!, t7!!, t8!!, t9!!, t10!!, t11!!, t12!!) }, { row -> arrayOf<Any?>(row.itemId, row.orderId, row.productId, row.sku, row.productName, row.quantity, row.unitPrice, row.discountAmount, row.taxAmount, row.lineTotal, row.fulfillmentStatus, row.warehouseId, row.notes) })

    val mariaText: MariaText<OrderItemsRow> =
      MariaText.from(_rowParser)
  }
}