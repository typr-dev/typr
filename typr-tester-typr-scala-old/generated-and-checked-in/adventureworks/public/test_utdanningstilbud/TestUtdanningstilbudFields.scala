/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.test_utdanningstilbud

import adventureworks.public.test_organisasjon.TestOrganisasjonFields
import adventureworks.public.test_organisasjon.TestOrganisasjonId
import adventureworks.public.test_organisasjon.TestOrganisasjonRow
import java.util.Optional
import typr.dsl.FieldsExpr0
import typr.dsl.ForeignKey
import typr.dsl.Path
import typr.dsl.RelationStructure
import typr.dsl.SqlExpr
import typr.dsl.SqlExpr.CompositeIn
import typr.dsl.SqlExpr.FieldLike
import typr.dsl.SqlExpr.IdField
import typr.runtime.PgTypes
import typr.runtime.RowParser

trait TestUtdanningstilbudFields extends FieldsExpr0[TestUtdanningstilbudRow] {
  def organisasjonskode: IdField[TestOrganisasjonId, TestUtdanningstilbudRow]

  def utdanningsmulighetKode: IdField[String, TestUtdanningstilbudRow]

  def fkTestOrganisasjon: ForeignKey[TestOrganisasjonFields, TestOrganisasjonRow] = ForeignKey.of[TestOrganisasjonFields, TestOrganisasjonRow]("public.test_utdanningstilbud_organisasjonskode_fkey").withColumnPair[TestOrganisasjonId](organisasjonskode, _.organisasjonskode)

  def compositeIdIs(compositeId: TestUtdanningstilbudId): SqlExpr[java.lang.Boolean] = SqlExpr.all(organisasjonskode.isEqual(compositeId.organisasjonskode), utdanningsmulighetKode.isEqual(compositeId.utdanningsmulighetKode))

  def compositeIdIn(compositeIds: java.util.List[TestUtdanningstilbudId]): SqlExpr[java.lang.Boolean] = CompositeIn(java.util.List.of(CompositeIn.Part[TestOrganisasjonId, TestUtdanningstilbudId, TestUtdanningstilbudRow](organisasjonskode, _.organisasjonskode, TestOrganisasjonId.pgType), CompositeIn.Part[String, TestUtdanningstilbudId, TestUtdanningstilbudRow](utdanningsmulighetKode, _.utdanningsmulighetKode, PgTypes.text)), compositeIds)

  override def columns: java.util.List[FieldLike[?, TestUtdanningstilbudRow]]

  override def rowParser: RowParser[TestUtdanningstilbudRow] = TestUtdanningstilbudRow._rowParser
}

object TestUtdanningstilbudFields {
  case class Impl(val `_path`: java.util.List[Path]) extends TestUtdanningstilbudFields with RelationStructure[TestUtdanningstilbudFields, TestUtdanningstilbudRow] {

    override def organisasjonskode: IdField[TestOrganisasjonId, TestUtdanningstilbudRow] = {
      new IdField[TestOrganisasjonId, TestUtdanningstilbudRow](
        _path,
        "organisasjonskode",
        _.organisasjonskode,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(organisasjonskode = value),
        TestOrganisasjonId.pgType
      )
    }

    override def utdanningsmulighetKode: IdField[String, TestUtdanningstilbudRow] = {
      new IdField[String, TestUtdanningstilbudRow](
        _path,
        "utdanningsmulighet_kode",
        _.utdanningsmulighetKode,
        Optional.empty(),
        Optional.empty(),
        (row, value) => row.copy(utdanningsmulighetKode = value),
        PgTypes.text
      )
    }

    override def columns: java.util.List[FieldLike[?, TestUtdanningstilbudRow]] = java.util.List.of(this.organisasjonskode, this.utdanningsmulighetKode)

    override def withPaths(`_path`: java.util.List[Path]): RelationStructure[TestUtdanningstilbudFields, TestUtdanningstilbudRow] = new Impl(`_path`)
  }

  def structure: Impl = new Impl(java.util.Collections.emptyList())
}