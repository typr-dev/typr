/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.pr.d

import adventureworks.customtypes.TypoBytea
import adventureworks.customtypes.TypoLocalDateTime
import adventureworks.customtypes.TypoShort
import adventureworks.customtypes.TypoUUID
import adventureworks.person.businessentity.BusinessentityId
import adventureworks.production.document.DocumentId
import adventureworks.public.Flag
import anorm.Column
import anorm.RowParser
import anorm.Success
import play.api.libs.json.JsObject
import play.api.libs.json.JsResult
import play.api.libs.json.JsValue
import play.api.libs.json.OWrites
import play.api.libs.json.Reads
import play.api.libs.json.Writes
import scala.collection.immutable.ListMap
import scala.util.Try

/** View: pr.d */
case class DViewRow(
  /** Points to [[adventureworks.production.document.DocumentRow.title]] */
  title: String,
  /** Points to [[adventureworks.production.document.DocumentRow.owner]] */
  owner: BusinessentityId,
  /** Points to [[adventureworks.production.document.DocumentRow.folderflag]] */
  folderflag: Flag,
  /** Points to [[adventureworks.production.document.DocumentRow.filename]] */
  filename: String,
  /** Points to [[adventureworks.production.document.DocumentRow.fileextension]] */
  fileextension: String,
  /** Points to [[adventureworks.production.document.DocumentRow.revision]] */
  revision: String,
  /** Points to [[adventureworks.production.document.DocumentRow.changenumber]] */
  changenumber: Int,
  /** Points to [[adventureworks.production.document.DocumentRow.status]] */
  status: TypoShort,
  /** Points to [[adventureworks.production.document.DocumentRow.documentsummary]] */
  documentsummary: String,
  /** Points to [[adventureworks.production.document.DocumentRow.document]] */
  document: TypoBytea,
  /** Points to [[adventureworks.production.document.DocumentRow.rowguid]] */
  rowguid: TypoUUID,
  /** Points to [[adventureworks.production.document.DocumentRow.modifieddate]] */
  modifieddate: TypoLocalDateTime,
  /** Points to [[adventureworks.production.document.DocumentRow.documentnode]] */
  documentnode: DocumentId
)

object DViewRow {
  given reads: Reads[DViewRow] = {
    Reads[DViewRow](json => JsResult.fromTry(
        Try(
          DViewRow(
            title = json.\("title").as(using Reads.StringReads),
            owner = json.\("owner").as(using BusinessentityId.reads),
            folderflag = json.\("folderflag").as(using Flag.reads),
            filename = json.\("filename").as(using Reads.StringReads),
            fileextension = json.\("fileextension").as(using Reads.StringReads),
            revision = json.\("revision").as(using Reads.StringReads),
            changenumber = json.\("changenumber").as(using Reads.IntReads),
            status = json.\("status").as(using TypoShort.reads),
            documentsummary = json.\("documentsummary").as(using Reads.StringReads),
            document = json.\("document").as(using TypoBytea.reads),
            rowguid = json.\("rowguid").as(using TypoUUID.reads),
            modifieddate = json.\("modifieddate").as(using TypoLocalDateTime.reads),
            documentnode = json.\("documentnode").as(using DocumentId.reads)
          )
        )
      ),
    )
  }

  def rowParser(idx: Int): RowParser[DViewRow] = {
    RowParser[DViewRow] { row =>
      Success(
        DViewRow(
          title = row(idx + 0)(using Column.columnToString),
          owner = row(idx + 1)(using BusinessentityId.column),
          folderflag = row(idx + 2)(using Flag.column),
          filename = row(idx + 3)(using Column.columnToString),
          fileextension = row(idx + 4)(using Column.columnToString),
          revision = row(idx + 5)(using Column.columnToString),
          changenumber = row(idx + 6)(using Column.columnToInt),
          status = row(idx + 7)(using TypoShort.column),
          documentsummary = row(idx + 8)(using Column.columnToString),
          document = row(idx + 9)(using TypoBytea.column),
          rowguid = row(idx + 10)(using TypoUUID.column),
          modifieddate = row(idx + 11)(using TypoLocalDateTime.column),
          documentnode = row(idx + 12)(using DocumentId.column)
        )
      )
    }
  }

  given writes: OWrites[DViewRow] = {
    OWrites[DViewRow](o =>
      new JsObject(ListMap[String, JsValue](
        "title" -> Writes.StringWrites.writes(o.title),
        "owner" -> BusinessentityId.writes.writes(o.owner),
        "folderflag" -> Flag.writes.writes(o.folderflag),
        "filename" -> Writes.StringWrites.writes(o.filename),
        "fileextension" -> Writes.StringWrites.writes(o.fileextension),
        "revision" -> Writes.StringWrites.writes(o.revision),
        "changenumber" -> Writes.IntWrites.writes(o.changenumber),
        "status" -> TypoShort.writes.writes(o.status),
        "documentsummary" -> Writes.StringWrites.writes(o.documentsummary),
        "document" -> TypoBytea.writes.writes(o.document),
        "rowguid" -> TypoUUID.writes.writes(o.rowguid),
        "modifieddate" -> TypoLocalDateTime.writes.writes(o.modifieddate),
        "documentnode" -> DocumentId.writes.writes(o.documentnode)
      ))
    )
  }
}