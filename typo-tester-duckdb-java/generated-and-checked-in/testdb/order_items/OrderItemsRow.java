/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_items;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.math.BigDecimal;
import testdb.customtypes.Defaulted;
import typo.runtime.DuckDbTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: order_items Composite primary key: order_id, product_id */
public record OrderItemsRow(
    @JsonProperty("order_id") Integer orderId,
    @JsonProperty("product_id") Integer productId,
    /** Default: 1 */
    Integer quantity,
    @JsonProperty("unit_price") BigDecimal unitPrice) {
  public OrderItemsRow withOrderId(Integer orderId) {
    return new OrderItemsRow(orderId, productId, quantity, unitPrice);
  }
  ;

  public OrderItemsRow withProductId(Integer productId) {
    return new OrderItemsRow(orderId, productId, quantity, unitPrice);
  }
  ;

  /** Default: 1 */
  public OrderItemsRow withQuantity(Integer quantity) {
    return new OrderItemsRow(orderId, productId, quantity, unitPrice);
  }
  ;

  public OrderItemsRow withUnitPrice(BigDecimal unitPrice) {
    return new OrderItemsRow(orderId, productId, quantity, unitPrice);
  }
  ;

  public static RowParser<OrderItemsRow> _rowParser =
      RowParsers.of(
          DuckDbTypes.integer,
          DuckDbTypes.integer,
          DuckDbTypes.integer,
          DuckDbTypes.numeric,
          OrderItemsRow::new,
          row -> new Object[] {row.orderId(), row.productId(), row.quantity(), row.unitPrice()});
  ;

  public static OrderItemsRow apply(
      OrderItemsId compositeId, Integer quantity, BigDecimal unitPrice) {
    return new OrderItemsRow(compositeId.orderId(), compositeId.productId(), quantity, unitPrice);
  }
  ;

  public OrderItemsId compositeId() {
    return new OrderItemsId(orderId, productId);
  }
  ;

  public OrderItemsId id() {
    return this.compositeId();
  }
  ;

  public OrderItemsRowUnsaved toUnsavedRow(Defaulted<Integer> quantity) {
    return new OrderItemsRowUnsaved(orderId, productId, unitPrice, quantity);
  }
  ;
}
