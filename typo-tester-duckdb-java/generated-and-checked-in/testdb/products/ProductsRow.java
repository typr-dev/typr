/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.products;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.math.BigDecimal;
import java.util.Optional;
import typo.data.Json;
import typo.runtime.DuckDbText;
import typo.runtime.DuckDbTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: products Primary key: product_id */
public record ProductsRow(
    @JsonProperty("product_id") ProductsId productId,
    String sku,
    String name,
    BigDecimal price,
    Optional<Json> metadata) {
  public ProductsRow withProductId(ProductsId productId) {
    return new ProductsRow(productId, sku, name, price, metadata);
  }
  ;

  public ProductsRow withSku(String sku) {
    return new ProductsRow(productId, sku, name, price, metadata);
  }
  ;

  public ProductsRow withName(String name) {
    return new ProductsRow(productId, sku, name, price, metadata);
  }
  ;

  public ProductsRow withPrice(BigDecimal price) {
    return new ProductsRow(productId, sku, name, price, metadata);
  }
  ;

  public ProductsRow withMetadata(Optional<Json> metadata) {
    return new ProductsRow(productId, sku, name, price, metadata);
  }
  ;

  static RowParser<ProductsRow> _rowParser =
      RowParsers.of(
          ProductsId.duckDbType,
          DuckDbTypes.varchar,
          DuckDbTypes.varchar,
          DuckDbTypes.numeric,
          DuckDbTypes.json.opt(),
          (t0, t1, t2, t3, t4) -> new ProductsRow(t0, t1, t2, t3, t4),
          row ->
              new Object[] {row.productId(), row.sku(), row.name(), row.price(), row.metadata()});
  ;

  public static DuckDbText<ProductsRow> duckDbText = DuckDbText.from(_rowParser);

  public ProductsId id() {
    return productId;
  }
  ;
}
