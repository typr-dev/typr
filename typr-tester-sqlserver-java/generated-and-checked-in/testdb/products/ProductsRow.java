/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.products;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.math.BigDecimal;
import java.util.Optional;
import typr.runtime.RowParser;
import typr.runtime.RowParsers;
import typr.runtime.SqlServerTypes;

/** Table: products Primary key: product_id */
public record ProductsRow(
    /** IDENTITY(1, 1) */
    @JsonProperty("product_id") ProductsId productId,
    String name,
    BigDecimal price,
    Optional<String> description) {
  /** IDENTITY(1, 1) */
  public ProductsRow withProductId(ProductsId productId) {
    return new ProductsRow(productId, name, price, description);
  }
  ;

  public ProductsRow withName(String name) {
    return new ProductsRow(productId, name, price, description);
  }
  ;

  public ProductsRow withPrice(BigDecimal price) {
    return new ProductsRow(productId, name, price, description);
  }
  ;

  public ProductsRow withDescription(Optional<String> description) {
    return new ProductsRow(productId, name, price, description);
  }
  ;

  public static RowParser<ProductsRow> _rowParser =
      RowParsers.of(
          ProductsId.sqlServerType,
          SqlServerTypes.nvarchar,
          SqlServerTypes.money,
          SqlServerTypes.nvarchar.opt(),
          ProductsRow::new,
          row -> new Object[] {row.productId(), row.name(), row.price(), row.description()});
  ;

  public ProductsId id() {
    return productId;
  }
  ;

  public ProductsRowUnsaved toUnsavedRow() {
    return new ProductsRowUnsaved(name, price, description);
  }
  ;
}
