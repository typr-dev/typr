plugins {
    `java-library`
}

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(21))
    }
}

sourceSets {
    main {
        java {
            srcDirs(
                "src/java",
                // Generated by bleep: bleep compile typr-runtime-java
                "../.bleep/generated-sources/typr-runtime-java/scripts.GeneratedRowParsers"
            )
        }
    }
}

dependencies {
    api("org.postgresql:postgresql:42.7.3")
    api("org.jetbrains:annotations:26.0.1")
    api("org.mariadb.jdbc:mariadb-java-client:3.5.1")
    api("org.duckdb:duckdb_jdbc:1.1.3")
    api("com.oracle.database.jdbc:ojdbc11:23.6.0.24.10")
    api("com.microsoft.sqlserver:mssql-jdbc:12.8.1.jre11")
}

tasks.withType<JavaCompile> {
    options.compilerArgs.addAll(listOf("-proc:none"))
}
