/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.salesorderheader

import adventureworks.customtypes.Defaulted
import adventureworks.customtypes.Defaulted.UseDefault
import adventureworks.person.address.AddressId
import adventureworks.person.businessentity.BusinessentityId
import adventureworks.public.AccountNumber
import adventureworks.public.Flag
import adventureworks.public.OrderNumber
import adventureworks.purchasing.shipmethod.ShipmethodId
import adventureworks.sales.currencyrate.CurrencyrateId
import adventureworks.sales.customer.CustomerId
import adventureworks.sales.salesterritory.SalesterritoryId
import adventureworks.userdefined.CustomCreditcardId
import java.math.BigDecimal
import java.time.LocalDateTime
import java.util.UUID
import typr.kotlindsl.KotlinDbTypes
import typr.kotlindsl.nullable
import typr.runtime.PgText
import typr.runtime.PgTypes

/** This class corresponds to a row in table `sales.salesorderheader` which has not been persisted yet */
data class SalesorderheaderRowUnsaved(
  /** Date the order is due to the customer.
    * Constraint CK_SalesOrderHeader_DueDate affecting columns duedate, orderdate:  ((duedate >= orderdate))
    */
  val duedate: LocalDateTime,
  /** Date the order was shipped to the customer.
    * Constraint CK_SalesOrderHeader_ShipDate affecting columns orderdate, shipdate:  (((shipdate >= orderdate) OR (shipdate IS NULL)))
    */
  val shipdate: LocalDateTime? = null,
  /** Customer purchase order number reference. */
  val purchaseordernumber: OrderNumber? = null,
  /** Financial accounting number reference. */
  val accountnumber: AccountNumber? = null,
  /** Customer identification number. Foreign key to Customer.BusinessEntityID.
    * Points to [adventureworks.sales.customer.CustomerRow.customerid]
    */
  val customerid: CustomerId,
  /** Sales person who created the sales order. Foreign key to SalesPerson.BusinessEntityID.
    * Points to [adventureworks.sales.salesperson.SalespersonRow.businessentityid]
    */
  val salespersonid: BusinessentityId? = null,
  /** Territory in which the sale was made. Foreign key to SalesTerritory.SalesTerritoryID.
    * Points to [adventureworks.sales.salesterritory.SalesterritoryRow.territoryid]
    */
  val territoryid: SalesterritoryId? = null,
  /** Customer billing address. Foreign key to Address.AddressID.
    * Points to [adventureworks.person.address.AddressRow.addressid]
    */
  val billtoaddressid: AddressId,
  /** Customer shipping address. Foreign key to Address.AddressID.
    * Points to [adventureworks.person.address.AddressRow.addressid]
    */
  val shiptoaddressid: AddressId,
  /** Shipping method. Foreign key to ShipMethod.ShipMethodID.
    * Points to [adventureworks.purchasing.shipmethod.ShipmethodRow.shipmethodid]
    */
  val shipmethodid: ShipmethodId,
  /** Credit card identification number. Foreign key to CreditCard.CreditCardID.
    * Points to [adventureworks.sales.creditcard.CreditcardRow.creditcardid]
    */
  val creditcardid: /* user-picked */ CustomCreditcardId? = null,
  /** Approval code provided by the credit card company. */
  val creditcardapprovalcode: /* max 15 chars */ String? = null,
  /** Currency exchange rate used. Foreign key to CurrencyRate.CurrencyRateID.
    * Points to [adventureworks.sales.currencyrate.CurrencyrateRow.currencyrateid]
    */
  val currencyrateid: CurrencyrateId? = null,
  /** Total due from customer. Computed as Subtotal + TaxAmt + Freight. */
  val totaldue: BigDecimal? = null,
  /** Sales representative comments. */
  val comment: /* max 128 chars */ String? = null,
  /** Default: nextval('sales.salesorderheader_salesorderid_seq'::regclass)
    * Primary key.
    */
  val salesorderid: Defaulted<SalesorderheaderId> = UseDefault(),
  /** Default: 0
    * Incremental number to track changes to the sales order over time.
    */
  val revisionnumber: Defaulted<Short> = UseDefault(),
  /** Default: now()
    * Dates the sales order was created.
    * Constraint CK_SalesOrderHeader_DueDate affecting columns duedate, orderdate:  ((duedate >= orderdate))
    * Constraint CK_SalesOrderHeader_ShipDate affecting columns orderdate, shipdate:  (((shipdate >= orderdate) OR (shipdate IS NULL)))
    */
  val orderdate: Defaulted<LocalDateTime> = UseDefault(),
  /** Default: 1
    * Order current status. 1 = In process; 2 = Approved; 3 = Backordered; 4 = Rejected; 5 = Shipped; 6 = Cancelled
    * Constraint CK_SalesOrderHeader_Status affecting columns status:  (((status >= 0) AND (status <= 8)))
    */
  val status: Defaulted<Short> = UseDefault(),
  /** Default: true
    * 0 = Order placed by sales person. 1 = Order placed online by customer.
    */
  val onlineorderflag: Defaulted<Flag> = UseDefault(),
  /** Default: 0.00
    * Sales subtotal. Computed as SUM(SalesOrderDetail.LineTotal)for the appropriate SalesOrderID.
    * Constraint CK_SalesOrderHeader_SubTotal affecting columns subtotal:  ((subtotal >= 0.00))
    */
  val subtotal: Defaulted<BigDecimal> = UseDefault(),
  /** Default: 0.00
    * Tax amount.
    * Constraint CK_SalesOrderHeader_TaxAmt affecting columns taxamt:  ((taxamt >= 0.00))
    */
  val taxamt: Defaulted<BigDecimal> = UseDefault(),
  /** Default: 0.00
    * Shipping cost.
    * Constraint CK_SalesOrderHeader_Freight affecting columns freight:  ((freight >= 0.00))
    */
  val freight: Defaulted<BigDecimal> = UseDefault(),
  /** Default: uuid_generate_v1() */
  val rowguid: Defaulted<UUID> = UseDefault(),
  /** Default: now() */
  val modifieddate: Defaulted<LocalDateTime> = UseDefault()
) {
  fun toRow(
    salesorderidDefault: () -> SalesorderheaderId,
    revisionnumberDefault: () -> Short,
    orderdateDefault: () -> LocalDateTime,
    statusDefault: () -> Short,
    onlineorderflagDefault: () -> Flag,
    subtotalDefault: () -> BigDecimal,
    taxamtDefault: () -> BigDecimal,
    freightDefault: () -> BigDecimal,
    rowguidDefault: () -> UUID,
    modifieddateDefault: () -> LocalDateTime
  ): SalesorderheaderRow = SalesorderheaderRow(salesorderid = salesorderid.getOrElse(salesorderidDefault), revisionnumber = revisionnumber.getOrElse(revisionnumberDefault), orderdate = orderdate.getOrElse(orderdateDefault), duedate = duedate, shipdate = shipdate, status = status.getOrElse(statusDefault), onlineorderflag = onlineorderflag.getOrElse(onlineorderflagDefault), purchaseordernumber = purchaseordernumber, accountnumber = accountnumber, customerid = customerid, salespersonid = salespersonid, territoryid = territoryid, billtoaddressid = billtoaddressid, shiptoaddressid = shiptoaddressid, shipmethodid = shipmethodid, creditcardid = creditcardid, creditcardapprovalcode = creditcardapprovalcode, currencyrateid = currencyrateid, subtotal = subtotal.getOrElse(subtotalDefault), taxamt = taxamt.getOrElse(taxamtDefault), freight = freight.getOrElse(freightDefault), totaldue = totaldue, comment = comment, rowguid = rowguid.getOrElse(rowguidDefault), modifieddate = modifieddate.getOrElse(modifieddateDefault))

  companion object {
    val pgText: PgText<SalesorderheaderRowUnsaved> =
      PgText.instance({ row, sb -> PgTypes.timestamp.pgText().unsafeEncode(row.duedate, sb)
      sb.append(PgText.DELIMETER)
      PgTypes.timestamp.nullable().pgText().unsafeEncode(row.shipdate, sb)
      sb.append(PgText.DELIMETER)
      OrderNumber.pgType.nullable().pgText().unsafeEncode(row.purchaseordernumber, sb)
      sb.append(PgText.DELIMETER)
      AccountNumber.pgType.nullable().pgText().unsafeEncode(row.accountnumber, sb)
      sb.append(PgText.DELIMETER)
      CustomerId.pgType.pgText().unsafeEncode(row.customerid, sb)
      sb.append(PgText.DELIMETER)
      BusinessentityId.pgType.nullable().pgText().unsafeEncode(row.salespersonid, sb)
      sb.append(PgText.DELIMETER)
      SalesterritoryId.pgType.nullable().pgText().unsafeEncode(row.territoryid, sb)
      sb.append(PgText.DELIMETER)
      AddressId.pgType.pgText().unsafeEncode(row.billtoaddressid, sb)
      sb.append(PgText.DELIMETER)
      AddressId.pgType.pgText().unsafeEncode(row.shiptoaddressid, sb)
      sb.append(PgText.DELIMETER)
      ShipmethodId.pgType.pgText().unsafeEncode(row.shipmethodid, sb)
      sb.append(PgText.DELIMETER)
      CustomCreditcardId.pgType.nullable().pgText().unsafeEncode(row.creditcardid, sb)
      sb.append(PgText.DELIMETER)
      PgTypes.text.nullable().pgText().unsafeEncode(row.creditcardapprovalcode, sb)
      sb.append(PgText.DELIMETER)
      CurrencyrateId.pgType.nullable().pgText().unsafeEncode(row.currencyrateid, sb)
      sb.append(PgText.DELIMETER)
      PgTypes.numeric.nullable().pgText().unsafeEncode(row.totaldue, sb)
      sb.append(PgText.DELIMETER)
      PgTypes.text.nullable().pgText().unsafeEncode(row.comment, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(SalesorderheaderId.pgType.pgText()).unsafeEncode(row.salesorderid, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(KotlinDbTypes.PgTypes.int2.pgText()).unsafeEncode(row.revisionnumber, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.orderdate, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(KotlinDbTypes.PgTypes.int2.pgText()).unsafeEncode(row.status, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(Flag.pgType.pgText()).unsafeEncode(row.onlineorderflag, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(PgTypes.numeric.pgText()).unsafeEncode(row.subtotal, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(PgTypes.numeric.pgText()).unsafeEncode(row.taxamt, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(PgTypes.numeric.pgText()).unsafeEncode(row.freight, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(PgTypes.uuid.pgText()).unsafeEncode(row.rowguid, sb)
      sb.append(PgText.DELIMETER)
      Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb) })
  }
}