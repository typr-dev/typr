/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.productsubcategory

import adventureworks.customtypes.Defaulted
import adventureworks.production.productcategory.ProductcategoryId
import adventureworks.public.Name
import java.time.LocalDateTime
import java.util.UUID
import typo.runtime.PgText
import typo.runtime.PgTypes
import typo.scaladsl.RowParser
import typo.scaladsl.RowParsers

/** Table: production.productsubcategory
 * Product subcategories. See ProductCategory table.
 * Primary key: productsubcategoryid
 */
case class ProductsubcategoryRow(
  /** Primary key for ProductSubcategory records.
   * Default: nextval('production.productsubcategory_productsubcategoryid_seq'::regclass)
   */
  productsubcategoryid: ProductsubcategoryId,
  /** Product category identification number. Foreign key to ProductCategory.ProductCategoryID.
   * Points to [[adventureworks.production.productcategory.ProductcategoryRow.productcategoryid]]
   */
  productcategoryid: ProductcategoryId,
  /** Subcategory description. */
  name: Name,
  /** Default: uuid_generate_v1() */
  rowguid: UUID,
  /** Default: now() */
  modifieddate: LocalDateTime
) {
  def id: ProductsubcategoryId = productsubcategoryid

  def toUnsavedRow(
    productsubcategoryid: Defaulted[ProductsubcategoryId],
    rowguid: Defaulted[UUID] = Defaulted.Provided(this.rowguid),
    modifieddate: Defaulted[LocalDateTime] = Defaulted.Provided(this.modifieddate)
  ): ProductsubcategoryRowUnsaved = {
    new ProductsubcategoryRowUnsaved(
      productcategoryid,
      name,
      productsubcategoryid,
      rowguid,
      modifieddate
    )
  }
}

object ProductsubcategoryRow {
  val `_rowParser`: RowParser[ProductsubcategoryRow] = RowParsers.of(ProductsubcategoryId.pgType, ProductcategoryId.pgType, Name.pgType, PgTypes.uuid, PgTypes.timestamp)(ProductsubcategoryRow.apply)(row => Array[Any](row.productsubcategoryid, row.productcategoryid, row.name, row.rowguid, row.modifieddate))

  given pgText: PgText[ProductsubcategoryRow] = PgText.from(`_rowParser`.underlying)
}