/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.test_connection

import java.time.LocalDateTime
import kotlin.collections.List
import typo.dsl.FieldsExpr
import typo.dsl.Path
import typo.dsl.SqlExpr.FieldLike
import typo.kotlindsl.RelationStructure
import typo.kotlindsl.SqlExpr.Field
import typo.kotlindsl.SqlExpr.IdField
import typo.kotlindsl.SqlExpr.OptField
import typo.runtime.RowParser
import typo.runtime.SqlServerTypes

interface TestConnectionFields : FieldsExpr<TestConnectionRow> {
  abstract override fun columns(): List<FieldLike<*, TestConnectionRow>>

  abstract fun createdAt(): OptField<LocalDateTime, TestConnectionRow>

  abstract fun id(): IdField<TestConnectionId, TestConnectionRow>

  abstract fun message(): Field<String, TestConnectionRow>

  override fun rowParser(): RowParser<TestConnectionRow> = TestConnectionRow._rowParser.underlying

  companion object {
    data class Impl(val _path: List<Path>) : TestConnectionFields, RelationStructure<TestConnectionFields, TestConnectionRow> {
      override fun id(): IdField<TestConnectionId, TestConnectionRow> = IdField<TestConnectionId, TestConnectionRow>(_path, "id", TestConnectionRow::id, null, null, { row, value -> row.copy(id = value) }, TestConnectionId.sqlServerType)

      override fun message(): Field<String, TestConnectionRow> = Field<String, TestConnectionRow>(_path, "message", TestConnectionRow::message, null, null, { row, value -> row.copy(message = value) }, SqlServerTypes.nvarchar)

      override fun createdAt(): OptField<LocalDateTime, TestConnectionRow> = OptField<LocalDateTime, TestConnectionRow>(_path, "created_at", TestConnectionRow::createdAt, null, null, { row, value -> row.copy(createdAt = value) }, SqlServerTypes.datetime2)

      override fun _path(): List<Path> = _path

      override fun columns(): List<FieldLike<*, TestConnectionRow>> = listOf(this.id().underlying, this.message().underlying, this.createdAt().underlying)

      override fun withPaths(_path: List<Path>): RelationStructure<TestConnectionFields, TestConnectionRow> = Impl(_path)
    }

    val structure: Impl = Impl(emptyList<typo.dsl.Path>())
  }
}