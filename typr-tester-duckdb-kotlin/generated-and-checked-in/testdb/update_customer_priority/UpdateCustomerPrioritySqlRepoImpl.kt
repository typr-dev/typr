/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.update_customer_priority

import java.sql.Connection
import testdb.Priority
import testdb.customers.CustomersId
import typr.kotlindsl.Fragment

class UpdateCustomerPrioritySqlRepoImpl() : UpdateCustomerPrioritySqlRepo {
  override fun apply(
    newPriority: /* user-picked */ Priority,
    customerId: /* user-picked */ CustomersId,
    c: Connection
  ): Int = Fragment.interpolate(Fragment.lit("-- Update customer priority based on spending and return updated rows\n-- Tests: UPDATE with RETURNING, enum parameters\n\nUPDATE customers\nSET priority = "), Fragment.encode(Priority.duckDbType, newPriority), Fragment.lit("\nWHERE customer_id = "), Fragment.encode(CustomersId.duckDbType, customerId), Fragment.lit("\nRETURNING\n    customer_id,\n    name,\n    email,\n    created_at,\n    priority")).update().runUnchecked(c)
}