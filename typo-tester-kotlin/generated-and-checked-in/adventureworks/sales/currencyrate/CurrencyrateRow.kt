/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.currencyrate

import adventureworks.customtypes.Defaulted
import adventureworks.customtypes.TypoLocalDateTime
import adventureworks.sales.currency.CurrencyId
import java.math.BigDecimal
import typo.runtime.PgText
import typo.runtime.PgTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers
import typo.runtime.RowParsers.Tuple7

/** Table: sales.currencyrate
  * Currency exchange rates.
  * Primary key: currencyrateid
  */
data class CurrencyrateRow(
  /** Primary key for CurrencyRate records.
    * Default: nextval('sales.currencyrate_currencyrateid_seq'::regclass)
    */
  val currencyrateid: CurrencyrateId,
  /** Date and time the exchange rate was obtained. */
  val currencyratedate: TypoLocalDateTime,
  /** Exchange rate was converted from this currency code.
    * Points to [adventureworks.sales.currency.CurrencyRow.currencycode]
    */
  val fromcurrencycode: CurrencyId,
  /** Exchange rate was converted to this currency code.
    * Points to [adventureworks.sales.currency.CurrencyRow.currencycode]
    */
  val tocurrencycode: CurrencyId,
  /** Average exchange rate for the day. */
  val averagerate: BigDecimal,
  /** Final exchange rate for the day. */
  val endofdayrate: BigDecimal,
  /** Default: now() */
  val modifieddate: TypoLocalDateTime
) {
  fun id(): CurrencyrateId = currencyrateid

  fun toUnsavedRow(
    currencyrateid: Defaulted<CurrencyrateId>,
    modifieddate: Defaulted<TypoLocalDateTime>
  ): CurrencyrateRowUnsaved = CurrencyrateRowUnsaved(currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, currencyrateid, modifieddate)

  companion object {
    val _rowParser: RowParser<CurrencyrateRow> = RowParsers.of(CurrencyrateId.pgType, TypoLocalDateTime.pgType, CurrencyId.pgType, CurrencyId.pgType, PgTypes.numeric, PgTypes.numeric, TypoLocalDateTime.pgType, ::CurrencyrateRow, { row -> Tuple7(row.currencyrateid, row.currencyratedate, row.fromcurrencycode, row.tocurrencycode, row.averagerate, row.endofdayrate, row.modifieddate) })

    val pgText: PgText<CurrencyrateRow> =
      PgText.from(_rowParser)
  }
}