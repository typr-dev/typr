/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes

import org.postgresql.geometric.PGline
import typo.runtime.PgRead
import typo.runtime.PgText
import typo.runtime.PgType
import typo.runtime.PgWrite
import typo.runtime.internal.arrayMap
import typo.runtime.internal.stringInterpolator.str

/** This implements a line represented by the linear equation Ax + By + C = 0 */
data class TypoLine(
  val a: Double,
  val b: Double,
  val c: Double
) {
  companion object {
    val pgText: PgText<TypoLine> =
      PgText.textString.contramap({ v -> str("{", v.a, ",", v.b, ",", v.c, "}") })

    val pgType: PgType<TypoLine> =
      PgType.of(
        "line",
        PgRead.castJdbcObjectTo(PGline::class.java).map({ v -> TypoLine(v.a, v.b, v.c) }),
        PgWrite.passObjectToJdbc().contramap({ v -> PGline(v.a, v.b, v.c) }),
        TypoLine.pgText
      )

    val pgTypeArray: PgType<Array<TypoLine>> =
      TypoLine.pgType.array(PgRead.castJdbcArrayTo(PGline::class.java).map({ xs -> arrayMap.map(xs, { v -> TypoLine(v.a, v.b, v.c) }, TypoLine::class.java) }), PgWrite.<PGline>passObjectToJdbc().array(TypoLine.pgType.typename().<PGline>as()).contramap({ xs -> arrayMap.map(xs, (TypoLine v) -> PGline(v.a, v.b, v.c), PGline::class.java) }))
  }
}