/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.table_with_generated_columns

import typo.runtime.PgText
import typo.runtime.PgTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers
import typo.runtime.RowParsers.Tuple2

/** Table: public.table-with-generated-columns
  * Primary key: name
  */
data class TableWithGeneratedColumnsRow(
  val name: TableWithGeneratedColumnsId,
  /** Generated ALWAYS, expression: 
  CASE
      WHEN (name IS NOT NULL) THEN 'no-name'::text
      WHEN (name = 'a'::text) THEN 'a-name'::text
      ELSE 'some-name'::text
  END */
  val nameTypeAlways: java.lang.String
) {
  fun id(): TableWithGeneratedColumnsId = name

  fun toUnsavedRow(): TableWithGeneratedColumnsRowUnsaved = TableWithGeneratedColumnsRowUnsaved(name)

  companion object {
    val _rowParser: RowParser<TableWithGeneratedColumnsRow> = RowParsers.of(TableWithGeneratedColumnsId.pgType, PgTypes.text, ::TableWithGeneratedColumnsRow, { row -> Tuple2(row.name, row.nameTypeAlways) })

    val pgText: PgText<TableWithGeneratedColumnsRow> =
      PgText.from(_rowParser)
  }
}