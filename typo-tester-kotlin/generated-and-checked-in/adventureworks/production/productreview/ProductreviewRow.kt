/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.productreview

import adventureworks.customtypes.Defaulted
import adventureworks.customtypes.TypoLocalDateTime
import adventureworks.production.product.ProductId
import adventureworks.public.Name
import typo.runtime.PgText
import typo.runtime.PgTypes
import typo.runtime.RowParser
import typo.runtime.RowParsers
import typo.runtime.RowParsers.Tuple8

/** Table: production.productreview
  * Customer reviews of products they have purchased.
  * Primary key: productreviewid
  */
data class ProductreviewRow(
  /** Primary key for ProductReview records.
    * Default: nextval('production.productreview_productreviewid_seq'::regclass)
    */
  val productreviewid: ProductreviewId,
  /** Product identification number. Foreign key to Product.ProductID.
    * Points to [adventureworks.production.product.ProductRow.productid]
    */
  val productid: ProductId,
  /** Name of the reviewer. */
  val reviewername: Name,
  /** Date review was submitted.
    * Default: now()
    */
  val reviewdate: TypoLocalDateTime,
  /** Reviewer's e-mail address. */
  val emailaddress: /* max 50 chars */ java.lang.String,
  /** Product rating given by the reviewer. Scale is 1 to 5 with 5 as the highest rating.
    * Constraint CK_ProductReview_Rating affecting columns rating: (((rating >= 1) AND (rating <= 5)))
    */
  val rating: Int,
  /** Reviewer's comments */
  val comments: /* max 3850 chars */ java.lang.String?,
  /** Default: now() */
  val modifieddate: TypoLocalDateTime
) {
  fun id(): ProductreviewId = productreviewid

  fun toUnsavedRow(
    productreviewid: Defaulted<ProductreviewId>,
    reviewdate: Defaulted<TypoLocalDateTime>,
    modifieddate: Defaulted<TypoLocalDateTime>
  ): ProductreviewRowUnsaved = ProductreviewRowUnsaved(productid, reviewername, emailaddress, rating, comments, productreviewid, reviewdate, modifieddate)

  companion object {
    val _rowParser: RowParser<ProductreviewRow> = RowParsers.of(ProductreviewId.pgType, ProductId.pgType, Name.pgType, TypoLocalDateTime.pgType, PgTypes.text, PgTypes.int4, PgTypes.text.opt(), TypoLocalDateTime.pgType, ::ProductreviewRow, { row -> Tuple8(row.productreviewid, row.productid, row.reviewername, row.reviewdate, row.emailaddress, row.rating, row.comments, row.modifieddate) })

    val pgText: PgText<ProductreviewRow> =
      PgText.from(_rowParser)
  }
}