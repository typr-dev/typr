/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices

import java.time.LocalDate
import testdb.price_tiers.PriceTiersFields
import testdb.price_tiers.PriceTiersId
import testdb.price_tiers.PriceTiersRow
import testdb.products.ProductsFields
import testdb.products.ProductsId
import testdb.products.ProductsRow
import typr.dsl.FieldsExpr0
import typr.dsl.Path
import typr.dsl.SqlExpr.FieldLike
import typr.runtime.MariaTypes
import typr.runtime.RowParser
import typr.scaladsl.ForeignKey
import typr.scaladsl.RelationStructure
import typr.scaladsl.ScalaDbTypes
import typr.scaladsl.SqlExpr.Field
import typr.scaladsl.SqlExpr.IdField
import typr.scaladsl.SqlExpr.OptField

trait ProductPricesFields extends FieldsExpr0[ProductPricesRow] {
  def priceId: IdField[ProductPricesId, ProductPricesRow]

  def productId: Field[ProductsId, ProductPricesRow]

  def tierId: OptField[PriceTiersId, ProductPricesRow]

  def price: Field[BigDecimal, ProductPricesRow]

  def currencyCode: Field[String, ProductPricesRow]

  def validFrom: Field[LocalDate, ProductPricesRow]

  def validTo: OptField[LocalDate, ProductPricesRow]

  def fkProducts: ForeignKey[ProductsFields, ProductsRow] = ForeignKey.of[ProductsFields, ProductsRow]("fk_pp_product").withColumnPair[ProductsId](productId, _.productId)

  def fkPriceTiers: ForeignKey[PriceTiersFields, PriceTiersRow] = ForeignKey.of[PriceTiersFields, PriceTiersRow]("fk_pp_tier").withColumnPair[PriceTiersId](tierId, _.tierId)

  override def columns: java.util.List[FieldLike[?, ProductPricesRow]]

  override def rowParser: RowParser[ProductPricesRow] = ProductPricesRow._rowParser.underlying
}

object ProductPricesFields {
  case class Impl(val `_path`: java.util.List[Path]) extends ProductPricesFields with RelationStructure[ProductPricesFields, ProductPricesRow] {

    override def priceId: IdField[ProductPricesId, ProductPricesRow] = {
      new IdField[ProductPricesId, ProductPricesRow](
        _path,
        "price_id",
        _.priceId,
        None,
        None,
        (row, value) => row.copy(priceId = value),
        ProductPricesId.pgType
      )
    }

    override def productId: Field[ProductsId, ProductPricesRow] = {
      new Field[ProductsId, ProductPricesRow](
        _path,
        "product_id",
        _.productId,
        None,
        None,
        (row, value) => row.copy(productId = value),
        ProductsId.pgType
      )
    }

    override def tierId: OptField[PriceTiersId, ProductPricesRow] = {
      new OptField[PriceTiersId, ProductPricesRow](
        _path,
        "tier_id",
        _.tierId,
        None,
        None,
        (row, value) => row.copy(tierId = value),
        PriceTiersId.pgType
      )
    }

    override def price: Field[BigDecimal, ProductPricesRow] = {
      new Field[BigDecimal, ProductPricesRow](
        _path,
        "price",
        _.price,
        None,
        None,
        (row, value) => row.copy(price = value),
        ScalaDbTypes.MariaTypes.numeric
      )
    }

    override def currencyCode: Field[String, ProductPricesRow] = {
      new Field[String, ProductPricesRow](
        _path,
        "currency_code",
        _.currencyCode,
        None,
        None,
        (row, value) => row.copy(currencyCode = value),
        MariaTypes.char_
      )
    }

    override def validFrom: Field[LocalDate, ProductPricesRow] = {
      new Field[LocalDate, ProductPricesRow](
        _path,
        "valid_from",
        _.validFrom,
        None,
        None,
        (row, value) => row.copy(validFrom = value),
        MariaTypes.date
      )
    }

    override def validTo: OptField[LocalDate, ProductPricesRow] = {
      new OptField[LocalDate, ProductPricesRow](
        _path,
        "valid_to",
        _.validTo,
        None,
        None,
        (row, value) => row.copy(validTo = value),
        MariaTypes.date
      )
    }

    override def columns: java.util.List[FieldLike[?, ProductPricesRow]] = java.util.List.of(this.priceId.underlying, this.productId.underlying, this.tierId.underlying, this.price.underlying, this.currencyCode.underlying, this.validFrom.underlying, this.validTo.underlying)

    override def withPaths(`_path`: java.util.List[Path]): RelationStructure[ProductPricesFields, ProductPricesRow] = new Impl(`_path`)
  }

  def structure: Impl = new Impl(java.util.Collections.emptyList())
}