/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.price_tiers

import com.fasterxml.jackson.annotation.JsonProperty
import testdb.customtypes.Defaulted
import typr.runtime.MariaTypes
import typr.scaladsl.RowParser
import typr.scaladsl.RowParsers
import typr.scaladsl.ScalaDbTypes

/** Table: price_tiers
 * Primary key: tier_id
 */
case class PriceTiersRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("tier_id") tierId: PriceTiersId,
  /**  */
  name: String,
  /** 
   * Default: 1
   */
  @JsonProperty("min_quantity") minQuantity: Long,
  /**  */
  @JsonProperty("discount_type") discountType: String,
  /**  */
  @JsonProperty("discount_value") discountValue: BigDecimal
) {
  def id: PriceTiersId = tierId

  def toUnsavedRow(minQuantity: Defaulted[Long] = Defaulted.Provided(this.minQuantity)): PriceTiersRowUnsaved = {
    new PriceTiersRowUnsaved(
      name,
      discountType,
      discountValue,
      minQuantity
    )
  }
}

object PriceTiersRow {
  val `_rowParser`: RowParser[PriceTiersRow] = RowParsers.of(PriceTiersId.pgType, MariaTypes.varchar, ScalaDbTypes.MariaTypes.intUnsigned, MariaTypes.text, ScalaDbTypes.MariaTypes.numeric)(PriceTiersRow.apply)(row => Array[Any](row.tierId, row.name, row.minQuantity, row.discountType, row.discountValue))
}