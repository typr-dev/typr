/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.humanresources.jobcandidate;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.person.businessentity.BusinessentityId;
import java.time.LocalDateTime;
import java.util.Optional;
import typr.data.Xml;
import typr.runtime.PgText;
import typr.runtime.PgTypes;

/**
 * This class corresponds to a row in table `humanresources.jobcandidate` which has not been
 * persisted yet
 */
public record JobcandidateRowUnsaved(
    /**
     * Employee identification number if applicant was hired. Foreign key to
     * Employee.BusinessEntityID. Points to {@link
     * adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
     */
    Optional<BusinessentityId> businessentityid,
    /** RÃ©sumÃ© in XML format. */
    Optional<Xml> resume,
    /**
     * Default: nextval('humanresources.jobcandidate_jobcandidateid_seq'::regclass) Primary key for
     * JobCandidate records.
     */
    Defaulted<JobcandidateId> jobcandidateid,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public JobcandidateRowUnsaved() {
    this(Optional.empty(), Optional.empty(), new UseDefault<>(), new UseDefault<>());
  }
  ;

  /**
   * Employee identification number if applicant was hired. Foreign key to
   * Employee.BusinessEntityID. Points to {@link
   * adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
   */
  public JobcandidateRowUnsaved withBusinessentityid(Optional<BusinessentityId> businessentityid) {
    return new JobcandidateRowUnsaved(businessentityid, resume, jobcandidateid, modifieddate);
  }
  ;

  /** RÃ©sumÃ© in XML format. */
  public JobcandidateRowUnsaved withResume(Optional<Xml> resume) {
    return new JobcandidateRowUnsaved(businessentityid, resume, jobcandidateid, modifieddate);
  }
  ;

  /**
   * Default: nextval('humanresources.jobcandidate_jobcandidateid_seq'::regclass) Primary key for
   * JobCandidate records.
   */
  public JobcandidateRowUnsaved withJobcandidateid(Defaulted<JobcandidateId> jobcandidateid) {
    return new JobcandidateRowUnsaved(businessentityid, resume, jobcandidateid, modifieddate);
  }
  ;

  /** Default: now() */
  public JobcandidateRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new JobcandidateRowUnsaved(businessentityid, resume, jobcandidateid, modifieddate);
  }
  ;

  public static PgText<JobcandidateRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            BusinessentityId.pgType.opt().pgText().unsafeEncode(row.businessentityid, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.xml.opt().pgText().unsafeEncode(row.resume, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(JobcandidateId.pgType.pgText()).unsafeEncode(row.jobcandidateid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public JobcandidateRow toRow(
      java.util.function.Supplier<JobcandidateId> jobcandidateidDefault,
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new JobcandidateRow(
        jobcandidateid.getOrElse(jobcandidateidDefault),
        businessentityid,
        resume,
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
