/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.issue142;

import typr.runtime.PgType;
import typr.runtime.PgTypes;
import typr.runtime.internal.arrayMap;

public sealed interface Issue142Id permits Issue142Id.Unknown, Issue142Id.Known {
  String value();

  record Unknown(String value) implements Issue142Id {}

  enum Known implements Issue142Id {
    aa("aa"),
    bb("bb");
    final String value;

    @Override
    public String value() {
      return value;
    }

    Known(String value) {
      this.value = value;
    }
  }

  java.util.Map<String, Known> ByName =
      java.util.Arrays.stream(Known.values())
          .collect(java.util.stream.Collectors.toMap(n -> n.value, n -> n));

  static Issue142Id apply(String str) {
    if (Known.ByName.containsKey(str)) {
      return Known.ByName.get(str);
    } else {
      return new Unknown(str);
    }
  }

  public static PgType<Issue142Id[]> pgTypeArray =
      PgTypes.textArray.bimap(
          xs -> arrayMap.map(xs, Issue142Id::apply, Issue142Id.class),
          xs -> arrayMap.map(xs, Issue142Id::value, String.class));
  public static PgType<Issue142Id> pgType =
      PgTypes.text.bimap(Issue142Id::apply, Issue142Id::value);
}
