/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.users;

import adventureworks.customtypes.Defaulted;
import com.fasterxml.jackson.annotation.JsonProperty;
import java.time.Instant;
import java.util.Optional;
import typr.data.Unknown;
import typr.runtime.PgText;
import typr.runtime.PgTypes;
import typr.runtime.RowParser;
import typr.runtime.RowParsers;

/** Table: public.users Primary key: user_id */
public record UsersRow(
    @JsonProperty("user_id") UsersId userId,
    String name,
    @JsonProperty("last_name") Optional<String> lastName,
    Unknown email,
    String password,
    /** Default: now() */
    @JsonProperty("created_at") Instant createdAt,
    @JsonProperty("verified_on") Optional<Instant> verifiedOn) {
  public UsersRow withUserId(UsersId userId) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  }
  ;

  public UsersRow withName(String name) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  }
  ;

  public UsersRow withLastName(Optional<String> lastName) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  }
  ;

  public UsersRow withEmail(Unknown email) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  }
  ;

  public UsersRow withPassword(String password) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  }
  ;

  /** Default: now() */
  public UsersRow withCreatedAt(Instant createdAt) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  }
  ;

  public UsersRow withVerifiedOn(Optional<Instant> verifiedOn) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  }
  ;

  public static RowParser<UsersRow> _rowParser =
      RowParsers.of(
          UsersId.pgType,
          PgTypes.text,
          PgTypes.text.opt(),
          PgTypes.unknown,
          PgTypes.text,
          PgTypes.timestamptz,
          PgTypes.timestamptz.opt(),
          UsersRow::new,
          row ->
              new Object[] {
                row.userId(),
                row.name(),
                row.lastName(),
                row.email(),
                row.password(),
                row.createdAt(),
                row.verifiedOn()
              });
  ;

  public static PgText<UsersRow> pgText = PgText.from(_rowParser);

  public UsersId id() {
    return userId;
  }
  ;

  public UsersRowUnsaved toUnsavedRow(Defaulted<Instant> createdAt) {
    return new UsersRowUnsaved(userId, name, lastName, email, password, verifiedOn, createdAt);
  }
  ;
}
