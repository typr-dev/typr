/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.title;

import typr.runtime.PgType;
import typr.runtime.PgTypes;
import typr.runtime.internal.arrayMap;

public sealed interface TitleId permits TitleId.Unknown, TitleId.Known {
  String value();

  record Unknown(String value) implements TitleId {}

  enum Known implements TitleId {
    dr("dr"),
    mr("mr"),
    ms("ms"),
    phd("phd");
    final String value;

    @Override
    public String value() {
      return value;
    }

    Known(String value) {
      this.value = value;
    }
  }

  java.util.Map<String, Known> ByName =
      java.util.Arrays.stream(Known.values())
          .collect(java.util.stream.Collectors.toMap(n -> n.value, n -> n));

  static TitleId apply(String str) {
    if (Known.ByName.containsKey(str)) {
      return Known.ByName.get(str);
    } else {
      return new Unknown(str);
    }
  }

  public static PgType<TitleId[]> pgTypeArray =
      PgTypes.textArray.bimap(
          xs -> arrayMap.map(xs, TitleId::apply, TitleId.class),
          xs -> arrayMap.map(xs, TitleId::value, String.class));
  public static PgType<TitleId> pgType = PgTypes.text.bimap(TitleId::apply, TitleId::value);
}
