/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.purchasing.vendor;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.person.businessentity.BusinessentityId;
import adventureworks.public_.AccountNumber;
import adventureworks.public_.Flag;
import adventureworks.public_.Name;
import java.time.LocalDateTime;
import java.util.Optional;
import typr.runtime.PgText;
import typr.runtime.PgTypes;

/** This class corresponds to a row in table `purchasing.vendor` which has not been persisted yet */
public record VendorRowUnsaved(
    /**
     * Primary key for Vendor records. Foreign key to BusinessEntity.BusinessEntityID Points to
     * {@link adventureworks.person.businessentity.BusinessentityRow#businessentityid()}
     */
    BusinessentityId businessentityid,
    /** Vendor account (identification) number. */
    AccountNumber accountnumber,
    /** Company name. */
    Name name,
    /**
     * 1 = Superior, 2 = Excellent, 3 = Above average, 4 = Average, 5 = Below average Constraint
     * CK_Vendor_CreditRating affecting columns creditrating: (((creditrating >= 1) AND
     * (creditrating <= 5)))
     */
    Short creditrating,
    /** Vendor URL. */
    Optional</* max 1024 chars */ String> purchasingwebserviceurl,
    /**
     * Default: true 0 = Do not use if another vendor is available. 1 = Preferred over other vendors
     * supplying the same product.
     */
    Defaulted<Flag> preferredvendorstatus,
    /** Default: true 0 = Vendor no longer used. 1 = Vendor is actively used. */
    Defaulted<Flag> activeflag,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public VendorRowUnsaved(
      /**
       * Primary key for Vendor records. Foreign key to BusinessEntity.BusinessEntityID Points to
       * {@link adventureworks.person.businessentity.BusinessentityRow#businessentityid()}
       */
      BusinessentityId businessentityid,
      /** Vendor account (identification) number. */
      AccountNumber accountnumber,
      /** Company name. */
      Name name,
      /**
       * 1 = Superior, 2 = Excellent, 3 = Above average, 4 = Average, 5 = Below average Constraint
       * CK_Vendor_CreditRating affecting columns creditrating: (((creditrating >= 1) AND
       * (creditrating <= 5)))
       */
      Short creditrating) {
    this(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        Optional.empty(),
        new UseDefault<>(),
        new UseDefault<>(),
        new UseDefault<>());
  }
  ;

  /**
   * Primary key for Vendor records. Foreign key to BusinessEntity.BusinessEntityID Points to {@link
   * adventureworks.person.businessentity.BusinessentityRow#businessentityid()}
   */
  public VendorRowUnsaved withBusinessentityid(BusinessentityId businessentityid) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  /** Vendor account (identification) number. */
  public VendorRowUnsaved withAccountnumber(AccountNumber accountnumber) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  /** Company name. */
  public VendorRowUnsaved withName(Name name) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  /**
   * 1 = Superior, 2 = Excellent, 3 = Above average, 4 = Average, 5 = Below average Constraint
   * CK_Vendor_CreditRating affecting columns creditrating: (((creditrating >= 1) AND (creditrating
   * <= 5)))
   */
  public VendorRowUnsaved withCreditrating(Short creditrating) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  /** Vendor URL. */
  public VendorRowUnsaved withPurchasingwebserviceurl(
      Optional</* max 1024 chars */ String> purchasingwebserviceurl) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  /**
   * Default: true 0 = Do not use if another vendor is available. 1 = Preferred over other vendors
   * supplying the same product.
   */
  public VendorRowUnsaved withPreferredvendorstatus(Defaulted<Flag> preferredvendorstatus) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  /** Default: true 0 = Vendor no longer used. 1 = Vendor is actively used. */
  public VendorRowUnsaved withActiveflag(Defaulted<Flag> activeflag) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  /** Default: now() */
  public VendorRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new VendorRowUnsaved(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        purchasingwebserviceurl,
        preferredvendorstatus,
        activeflag,
        modifieddate);
  }
  ;

  public static PgText<VendorRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            BusinessentityId.pgType.pgText().unsafeEncode(row.businessentityid, sb);
            sb.append(PgText.DELIMETER);
            AccountNumber.pgType.pgText().unsafeEncode(row.accountnumber, sb);
            sb.append(PgText.DELIMETER);
            Name.pgType.pgText().unsafeEncode(row.name, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.int2.pgText().unsafeEncode(row.creditrating, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.text.opt().pgText().unsafeEncode(row.purchasingwebserviceurl, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(Flag.pgType.pgText()).unsafeEncode(row.preferredvendorstatus, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(Flag.pgType.pgText()).unsafeEncode(row.activeflag, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public VendorRow toRow(
      java.util.function.Supplier<Flag> preferredvendorstatusDefault,
      java.util.function.Supplier<Flag> activeflagDefault,
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new VendorRow(
        businessentityid,
        accountnumber,
        name,
        creditrating,
        preferredvendorstatus.getOrElse(preferredvendorstatusDefault),
        activeflag.getOrElse(activeflagDefault),
        purchasingwebserviceurl,
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
