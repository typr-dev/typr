/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.productphoto;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import java.time.LocalDateTime;
import java.util.Optional;
import typr.runtime.PgText;
import typr.runtime.PgTypes;

/**
 * This class corresponds to a row in table `production.productphoto` which has not been persisted
 * yet
 */
public record ProductphotoRowUnsaved(
    /** Small image of the product. */
    Optional<byte[]> thumbnailphoto,
    /** Small image file name. */
    Optional</* max 50 chars */ String> thumbnailphotofilename,
    /** Large image of the product. */
    Optional<byte[]> largephoto,
    /** Large image file name. */
    Optional</* max 50 chars */ String> largephotofilename,
    /**
     * Default: nextval('production.productphoto_productphotoid_seq'::regclass) Primary key for
     * ProductPhoto records.
     */
    Defaulted<ProductphotoId> productphotoid,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public ProductphotoRowUnsaved() {
    this(
        Optional.empty(),
        Optional.empty(),
        Optional.empty(),
        Optional.empty(),
        new UseDefault<>(),
        new UseDefault<>());
  }
  ;

  /** Small image of the product. */
  public ProductphotoRowUnsaved withThumbnailphoto(Optional<byte[]> thumbnailphoto) {
    return new ProductphotoRowUnsaved(
        thumbnailphoto,
        thumbnailphotofilename,
        largephoto,
        largephotofilename,
        productphotoid,
        modifieddate);
  }
  ;

  /** Small image file name. */
  public ProductphotoRowUnsaved withThumbnailphotofilename(
      Optional</* max 50 chars */ String> thumbnailphotofilename) {
    return new ProductphotoRowUnsaved(
        thumbnailphoto,
        thumbnailphotofilename,
        largephoto,
        largephotofilename,
        productphotoid,
        modifieddate);
  }
  ;

  /** Large image of the product. */
  public ProductphotoRowUnsaved withLargephoto(Optional<byte[]> largephoto) {
    return new ProductphotoRowUnsaved(
        thumbnailphoto,
        thumbnailphotofilename,
        largephoto,
        largephotofilename,
        productphotoid,
        modifieddate);
  }
  ;

  /** Large image file name. */
  public ProductphotoRowUnsaved withLargephotofilename(
      Optional</* max 50 chars */ String> largephotofilename) {
    return new ProductphotoRowUnsaved(
        thumbnailphoto,
        thumbnailphotofilename,
        largephoto,
        largephotofilename,
        productphotoid,
        modifieddate);
  }
  ;

  /**
   * Default: nextval('production.productphoto_productphotoid_seq'::regclass) Primary key for
   * ProductPhoto records.
   */
  public ProductphotoRowUnsaved withProductphotoid(Defaulted<ProductphotoId> productphotoid) {
    return new ProductphotoRowUnsaved(
        thumbnailphoto,
        thumbnailphotofilename,
        largephoto,
        largephotofilename,
        productphotoid,
        modifieddate);
  }
  ;

  /** Default: now() */
  public ProductphotoRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new ProductphotoRowUnsaved(
        thumbnailphoto,
        thumbnailphotofilename,
        largephoto,
        largephotofilename,
        productphotoid,
        modifieddate);
  }
  ;

  public static PgText<ProductphotoRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            PgTypes.bytea.opt().pgText().unsafeEncode(row.thumbnailphoto, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.text.opt().pgText().unsafeEncode(row.thumbnailphotofilename, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.bytea.opt().pgText().unsafeEncode(row.largephoto, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.text.opt().pgText().unsafeEncode(row.largephotofilename, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(ProductphotoId.pgType.pgText()).unsafeEncode(row.productphotoid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public ProductphotoRow toRow(
      java.util.function.Supplier<ProductphotoId> productphotoidDefault,
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new ProductphotoRow(
        productphotoid.getOrElse(productphotoidDefault),
        thumbnailphoto,
        thumbnailphotofilename,
        largephoto,
        largephotofilename,
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
