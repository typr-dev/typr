/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.currencyrate;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.sales.currency.CurrencyId;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import typr.runtime.PgText;
import typr.runtime.PgTypes;

/**
 * This class corresponds to a row in table `sales.currencyrate` which has not been persisted yet
 */
public record CurrencyrateRowUnsaved(
    /** Date and time the exchange rate was obtained. */
    LocalDateTime currencyratedate,
    /**
     * Exchange rate was converted from this currency code. Points to {@link
     * adventureworks.sales.currency.CurrencyRow#currencycode()}
     */
    CurrencyId fromcurrencycode,
    /**
     * Exchange rate was converted to this currency code. Points to {@link
     * adventureworks.sales.currency.CurrencyRow#currencycode()}
     */
    CurrencyId tocurrencycode,
    /** Average exchange rate for the day. */
    BigDecimal averagerate,
    /** Final exchange rate for the day. */
    BigDecimal endofdayrate,
    /**
     * Default: nextval('sales.currencyrate_currencyrateid_seq'::regclass) Primary key for
     * CurrencyRate records.
     */
    Defaulted<CurrencyrateId> currencyrateid,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public CurrencyrateRowUnsaved(
      /** Date and time the exchange rate was obtained. */
      LocalDateTime currencyratedate,
      /**
       * Exchange rate was converted from this currency code. Points to {@link
       * adventureworks.sales.currency.CurrencyRow#currencycode()}
       */
      CurrencyId fromcurrencycode,
      /**
       * Exchange rate was converted to this currency code. Points to {@link
       * adventureworks.sales.currency.CurrencyRow#currencycode()}
       */
      CurrencyId tocurrencycode,
      /** Average exchange rate for the day. */
      BigDecimal averagerate,
      /** Final exchange rate for the day. */
      BigDecimal endofdayrate) {
    this(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        new UseDefault<>(),
        new UseDefault<>());
  }
  ;

  /** Date and time the exchange rate was obtained. */
  public CurrencyrateRowUnsaved withCurrencyratedate(LocalDateTime currencyratedate) {
    return new CurrencyrateRowUnsaved(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        currencyrateid,
        modifieddate);
  }
  ;

  /**
   * Exchange rate was converted from this currency code. Points to {@link
   * adventureworks.sales.currency.CurrencyRow#currencycode()}
   */
  public CurrencyrateRowUnsaved withFromcurrencycode(CurrencyId fromcurrencycode) {
    return new CurrencyrateRowUnsaved(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        currencyrateid,
        modifieddate);
  }
  ;

  /**
   * Exchange rate was converted to this currency code. Points to {@link
   * adventureworks.sales.currency.CurrencyRow#currencycode()}
   */
  public CurrencyrateRowUnsaved withTocurrencycode(CurrencyId tocurrencycode) {
    return new CurrencyrateRowUnsaved(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        currencyrateid,
        modifieddate);
  }
  ;

  /** Average exchange rate for the day. */
  public CurrencyrateRowUnsaved withAveragerate(BigDecimal averagerate) {
    return new CurrencyrateRowUnsaved(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        currencyrateid,
        modifieddate);
  }
  ;

  /** Final exchange rate for the day. */
  public CurrencyrateRowUnsaved withEndofdayrate(BigDecimal endofdayrate) {
    return new CurrencyrateRowUnsaved(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        currencyrateid,
        modifieddate);
  }
  ;

  /**
   * Default: nextval('sales.currencyrate_currencyrateid_seq'::regclass) Primary key for
   * CurrencyRate records.
   */
  public CurrencyrateRowUnsaved withCurrencyrateid(Defaulted<CurrencyrateId> currencyrateid) {
    return new CurrencyrateRowUnsaved(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        currencyrateid,
        modifieddate);
  }
  ;

  /** Default: now() */
  public CurrencyrateRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new CurrencyrateRowUnsaved(
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        currencyrateid,
        modifieddate);
  }
  ;

  public static PgText<CurrencyrateRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            PgTypes.timestamp.pgText().unsafeEncode(row.currencyratedate, sb);
            sb.append(PgText.DELIMETER);
            CurrencyId.pgType.pgText().unsafeEncode(row.fromcurrencycode, sb);
            sb.append(PgText.DELIMETER);
            CurrencyId.pgType.pgText().unsafeEncode(row.tocurrencycode, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.numeric.pgText().unsafeEncode(row.averagerate, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.numeric.pgText().unsafeEncode(row.endofdayrate, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(CurrencyrateId.pgType.pgText()).unsafeEncode(row.currencyrateid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public CurrencyrateRow toRow(
      java.util.function.Supplier<CurrencyrateId> currencyrateidDefault,
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new CurrencyrateRow(
        currencyrateid.getOrElse(currencyrateidDefault),
        currencyratedate,
        fromcurrencycode,
        tocurrencycode,
        averagerate,
        endofdayrate,
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
