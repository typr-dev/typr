/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.salesorderdetail;

import adventureworks.customtypes.Defaulted;
import adventureworks.production.product.ProductId;
import adventureworks.sales.salesorderheader.SalesorderheaderId;
import adventureworks.sales.specialoffer.SpecialofferId;
import adventureworks.sales.specialofferproduct.SpecialofferproductId;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.Optional;
import java.util.UUID;
import typr.runtime.PgText;
import typr.runtime.PgTypes;
import typr.runtime.RowParser;
import typr.runtime.RowParsers;

/**
 * Table: sales.salesorderdetail Individual products associated with a specific sales order. See
 * SalesOrderHeader. Composite primary key: salesorderid, salesorderdetailid
 */
public record SalesorderdetailRow(
    /**
     * Primary key. Foreign key to SalesOrderHeader.SalesOrderID. Points to {@link
     * adventureworks.sales.salesorderheader.SalesorderheaderRow#salesorderid()}
     */
    SalesorderheaderId salesorderid,
    /**
     * Primary key. One incremental unique number per product sold. Default:
     * nextval('sales.salesorderdetail_salesorderdetailid_seq'::regclass)
     */
    Integer salesorderdetailid,
    /** Shipment tracking number supplied by the shipper. */
    Optional</* max 25 chars */ String> carriertrackingnumber,
    /**
     * Quantity ordered per product. Constraint CK_SalesOrderDetail_OrderQty affecting columns
     * orderqty: ((orderqty > 0))
     */
    Short orderqty,
    /**
     * Product sold to customer. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.sales.specialofferproduct.SpecialofferproductRow#productid()}
     */
    ProductId productid,
    /**
     * Promotional code. Foreign key to SpecialOffer.SpecialOfferID. Points to {@link
     * adventureworks.sales.specialofferproduct.SpecialofferproductRow#specialofferid()}
     */
    SpecialofferId specialofferid,
    /**
     * Selling price of a single product. Constraint CK_SalesOrderDetail_UnitPrice affecting columns
     * unitprice: ((unitprice >= 0.00))
     */
    BigDecimal unitprice,
    /**
     * Discount amount. Default: 0.0 Constraint CK_SalesOrderDetail_UnitPriceDiscount affecting
     * columns unitpricediscount: ((unitpricediscount >= 0.00))
     */
    BigDecimal unitpricediscount,
    /** Default: uuid_generate_v1() */
    UUID rowguid,
    /** Default: now() */
    LocalDateTime modifieddate) {
  /**
   * Primary key. Foreign key to SalesOrderHeader.SalesOrderID. Points to {@link
   * adventureworks.sales.salesorderheader.SalesorderheaderRow#salesorderid()}
   */
  public SalesorderdetailRow withSalesorderid(SalesorderheaderId salesorderid) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /**
   * Primary key. One incremental unique number per product sold. Default:
   * nextval('sales.salesorderdetail_salesorderdetailid_seq'::regclass)
   */
  public SalesorderdetailRow withSalesorderdetailid(Integer salesorderdetailid) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /** Shipment tracking number supplied by the shipper. */
  public SalesorderdetailRow withCarriertrackingnumber(
      Optional</* max 25 chars */ String> carriertrackingnumber) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /**
   * Quantity ordered per product. Constraint CK_SalesOrderDetail_OrderQty affecting columns
   * orderqty: ((orderqty > 0))
   */
  public SalesorderdetailRow withOrderqty(Short orderqty) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /**
   * Product sold to customer. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.sales.specialofferproduct.SpecialofferproductRow#productid()}
   */
  public SalesorderdetailRow withProductid(ProductId productid) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /**
   * Promotional code. Foreign key to SpecialOffer.SpecialOfferID. Points to {@link
   * adventureworks.sales.specialofferproduct.SpecialofferproductRow#specialofferid()}
   */
  public SalesorderdetailRow withSpecialofferid(SpecialofferId specialofferid) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /**
   * Selling price of a single product. Constraint CK_SalesOrderDetail_UnitPrice affecting columns
   * unitprice: ((unitprice >= 0.00))
   */
  public SalesorderdetailRow withUnitprice(BigDecimal unitprice) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /**
   * Discount amount. Default: 0.0 Constraint CK_SalesOrderDetail_UnitPriceDiscount affecting
   * columns unitpricediscount: ((unitpricediscount >= 0.00))
   */
  public SalesorderdetailRow withUnitpricediscount(BigDecimal unitpricediscount) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /** Default: uuid_generate_v1() */
  public SalesorderdetailRow withRowguid(UUID rowguid) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  /** Default: now() */
  public SalesorderdetailRow withModifieddate(LocalDateTime modifieddate) {
    return new SalesorderdetailRow(
        salesorderid,
        salesorderdetailid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  public static RowParser<SalesorderdetailRow> _rowParser =
      RowParsers.of(
          SalesorderheaderId.pgType,
          PgTypes.int4,
          PgTypes.text.opt(),
          PgTypes.int2,
          ProductId.pgType,
          SpecialofferId.pgType,
          PgTypes.numeric,
          PgTypes.numeric,
          PgTypes.uuid,
          PgTypes.timestamp,
          SalesorderdetailRow::new,
          row ->
              new Object[] {
                row.salesorderid(),
                row.salesorderdetailid(),
                row.carriertrackingnumber(),
                row.orderqty(),
                row.productid(),
                row.specialofferid(),
                row.unitprice(),
                row.unitpricediscount(),
                row.rowguid(),
                row.modifieddate()
              });
  ;

  public static SalesorderdetailRow apply(
      SalesorderdetailId compositeId,
      Optional</* max 25 chars */ String> carriertrackingnumber,
      Short orderqty,
      ProductId productid,
      SpecialofferId specialofferid,
      BigDecimal unitprice,
      BigDecimal unitpricediscount,
      UUID rowguid,
      LocalDateTime modifieddate) {
    return new SalesorderdetailRow(
        compositeId.salesorderid(),
        compositeId.salesorderdetailid(),
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;

  public static PgText<SalesorderdetailRow> pgText = PgText.from(_rowParser);

  public SalesorderdetailId compositeId() {
    return new SalesorderdetailId(salesorderid, salesorderdetailid);
  }
  ;

  public SpecialofferproductId extractSpecialofferproductId() {
    return new SpecialofferproductId(specialofferid, productid);
  }
  ;

  public SalesorderdetailId id() {
    return this.compositeId();
  }
  ;

  public SalesorderdetailRowUnsaved toUnsavedRow(
      Defaulted<Integer> salesorderdetailid,
      Defaulted<BigDecimal> unitpricediscount,
      Defaulted<UUID> rowguid,
      Defaulted<LocalDateTime> modifieddate) {
    return new SalesorderdetailRowUnsaved(
        salesorderid,
        carriertrackingnumber,
        orderqty,
        productid,
        specialofferid,
        unitprice,
        salesorderdetailid,
        unitpricediscount,
        rowguid,
        modifieddate);
  }
  ;
}
