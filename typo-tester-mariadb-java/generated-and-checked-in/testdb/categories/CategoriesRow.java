/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.categories;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import typo.runtime.MariaText;
import typo.runtime.MariaTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: categories
  * Primary key: category_id
  */
public record CategoriesRow(
  /** 
    * AUTO_INCREMENT
    */
  @JsonProperty("category_id") CategoriesId categoryId,
  /** 
    * Default: NULL
    * Points to {@link testdb.categories.CategoriesRow#categoryId()}
    */
  @JsonProperty("parent_id") Optional<CategoriesId> parentId,
  /**  */
  String name,
  /**  */
  String slug,
  /** 
    * Default: NULL
    */
  Optional<String> description,
  /** 
    * Default: NULL
    */
  @JsonProperty("image_url") Optional<String> imageUrl,
  /** 
    * Default: 0
    */
  @JsonProperty("sort_order") Short sortOrder,
  /** 
    * Default: 1
    */
  @JsonProperty("is_visible") Boolean isVisible,
  /** 
    * Default: NULL
    */
  Optional<String> metadata
) {
  /** 
    * AUTO_INCREMENT
    */
  public CategoriesRow withCategoryId(CategoriesId categoryId) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /** 
    * Default: NULL
    * Points to {@link testdb.categories.CategoriesRow#categoryId()}
    */
  public CategoriesRow withParentId(Optional<CategoriesId> parentId) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /**  */
  public CategoriesRow withName(String name) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /**  */
  public CategoriesRow withSlug(String slug) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /** 
    * Default: NULL
    */
  public CategoriesRow withDescription(Optional<String> description) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /** 
    * Default: NULL
    */
  public CategoriesRow withImageUrl(Optional<String> imageUrl) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /** 
    * Default: 0
    */
  public CategoriesRow withSortOrder(Short sortOrder) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /** 
    * Default: 1
    */
  public CategoriesRow withIsVisible(Boolean isVisible) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  /** 
    * Default: NULL
    */
  public CategoriesRow withMetadata(Optional<String> metadata) {
    return new CategoriesRow(categoryId, parentId, name, slug, description, imageUrl, sortOrder, isVisible, metadata);
  };

  static RowParser<CategoriesRow> _rowParser = RowParsers.of(CategoriesId.pgType, CategoriesId.pgType.opt(), MariaTypes.varchar, MariaTypes.varchar, MariaTypes.mediumtext.opt(), MariaTypes.varchar.opt(), MariaTypes.smallint, MariaTypes.bool, MariaTypes.longtext.opt(), CategoriesRow::new, row -> new Object[]{row.categoryId(), row.parentId(), row.name(), row.slug(), row.description(), row.imageUrl(), row.sortOrder(), row.isVisible(), row.metadata()});;

  static public MariaText<CategoriesRow> mariaText =
    MariaText.from(_rowParser);

  public CategoriesId id() {
    return categoryId;
  };

  public CategoriesRowUnsaved toUnsavedRow(
    Defaulted<Optional<CategoriesId>> parentId,
    Defaulted<Optional<String>> description,
    Defaulted<Optional<String>> imageUrl,
    Defaulted<Short> sortOrder,
    Defaulted<Boolean> isVisible,
    Defaulted<Optional<String>> metadata
  ) {
    return new CategoriesRowUnsaved(name, slug, parentId, description, imageUrl, sortOrder, isVisible, metadata);
  };
}