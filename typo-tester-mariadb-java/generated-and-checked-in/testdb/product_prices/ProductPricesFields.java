/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices;

import java.math.BigDecimal;
import java.time.LocalDate;
import java.util.List;
import java.util.Optional;
import testdb.price_tiers.PriceTiersFields;
import testdb.price_tiers.PriceTiersId;
import testdb.price_tiers.PriceTiersRow;
import testdb.products.ProductsFields;
import testdb.products.ProductsId;
import testdb.products.ProductsRow;
import typo.dsl.ForeignKey;
import typo.dsl.Path;
import typo.dsl.SqlExpr.Field;
import typo.dsl.SqlExpr.FieldLike;
import typo.dsl.SqlExpr.IdField;
import typo.dsl.SqlExpr.OptField;
import typo.dsl.Structure.Relation;
import typo.runtime.MariaTypes;

public interface ProductPricesFields {
  final class Impl extends Relation<ProductPricesFields, ProductPricesRow> {
    Impl(List<Path> path) {
      super(path);
    }

    @Override
    public ProductPricesFields fields() {
      return new ProductPricesFields() {
               @Override
               public IdField<ProductPricesId, ProductPricesRow> priceId() {
                 return new IdField<ProductPricesId, ProductPricesRow>(_path, "price_id", ProductPricesRow::priceId, Optional.empty(), Optional.empty(), (row, value) -> row.withPriceId(value), ProductPricesId.pgType);
               };
               @Override
               public Field<ProductsId, ProductPricesRow> productId() {
                 return new Field<ProductsId, ProductPricesRow>(_path, "product_id", ProductPricesRow::productId, Optional.empty(), Optional.empty(), (row, value) -> row.withProductId(value), ProductsId.pgType);
               };
               @Override
               public OptField<PriceTiersId, ProductPricesRow> tierId() {
                 return new OptField<PriceTiersId, ProductPricesRow>(_path, "tier_id", ProductPricesRow::tierId, Optional.empty(), Optional.empty(), (row, value) -> row.withTierId(value), PriceTiersId.pgType);
               };
               @Override
               public Field<BigDecimal, ProductPricesRow> price() {
                 return new Field<BigDecimal, ProductPricesRow>(_path, "price", ProductPricesRow::price, Optional.empty(), Optional.empty(), (row, value) -> row.withPrice(value), MariaTypes.decimal);
               };
               @Override
               public Field<String, ProductPricesRow> currencyCode() {
                 return new Field<String, ProductPricesRow>(_path, "currency_code", ProductPricesRow::currencyCode, Optional.empty(), Optional.empty(), (row, value) -> row.withCurrencyCode(value), MariaTypes.char_);
               };
               @Override
               public Field<LocalDate, ProductPricesRow> validFrom() {
                 return new Field<LocalDate, ProductPricesRow>(_path, "valid_from", ProductPricesRow::validFrom, Optional.empty(), Optional.empty(), (row, value) -> row.withValidFrom(value), MariaTypes.date);
               };
               @Override
               public OptField<LocalDate, ProductPricesRow> validTo() {
                 return new OptField<LocalDate, ProductPricesRow>(_path, "valid_to", ProductPricesRow::validTo, Optional.empty(), Optional.empty(), (row, value) -> row.withValidTo(value), MariaTypes.date);
               };
             };
    };

    @Override
    public List<FieldLike<?, ProductPricesRow>> columns() {
      return List.of(this.fields().priceId(), this.fields().productId(), this.fields().tierId(), this.fields().price(), this.fields().currencyCode(), this.fields().validFrom(), this.fields().validTo());
    };

    @Override
    public Impl copy(List<Path> path) {
      return new Impl(path);
    };
  };

  static Relation<ProductPricesFields, ProductPricesRow> structure() {
    return new Impl(List.of());
  };

  IdField<ProductPricesId, ProductPricesRow> priceId();

  Field<ProductsId, ProductPricesRow> productId();

  OptField<PriceTiersId, ProductPricesRow> tierId();

  Field<BigDecimal, ProductPricesRow> price();

  Field<String, ProductPricesRow> currencyCode();

  Field<LocalDate, ProductPricesRow> validFrom();

  OptField<LocalDate, ProductPricesRow> validTo();

  default ForeignKey<ProductsFields, ProductsRow> fkProducts() {
    return ForeignKey.<ProductsFields, ProductsRow>of("fk_pp_product").withColumnPair(productId(), ProductsFields::productId);
  };

  default ForeignKey<PriceTiersFields, PriceTiersRow> fkPriceTiers() {
    return ForeignKey.<PriceTiersFields, PriceTiersRow>of("fk_pp_tier").withColumnPair(tierId(), PriceTiersFields::tierId);
  };
}