/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.payment_methods;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import testdb.customtypes.Defaulted.UseDefault;
import typo.runtime.MariaText;
import typo.runtime.MariaTypes;

/** This class corresponds to a row in table `payment_methods` which has not been persisted yet */
public record PaymentMethodsRowUnsaved(
  /**  */
  String code,
  /**  */
  String name,
  /**  */
  @JsonProperty("method_type") String methodType,
  /** Default: NULL

    */
  @JsonProperty("processor_config") Defaulted<Optional<String>> processorConfig,
  /** Default: 1

    */
  @JsonProperty("is_active") Defaulted<Boolean> isActive,
  /** Default: 0

    */
  @JsonProperty("sort_order") Defaulted<Byte> sortOrder
) {
  public PaymentMethodsRowUnsaved(
    /**  */
    String code,
    /**  */
    String name,
    /**  */
    @JsonProperty("method_type") String methodType
  ) {
    this(code, name, methodType, new UseDefault<>(), new UseDefault<>(), new UseDefault<>());
  };

  /**  */
  public PaymentMethodsRowUnsaved withCode(String code) {
    return new PaymentMethodsRowUnsaved(code, name, methodType, processorConfig, isActive, sortOrder);
  };

  /**  */
  public PaymentMethodsRowUnsaved withName(String name) {
    return new PaymentMethodsRowUnsaved(code, name, methodType, processorConfig, isActive, sortOrder);
  };

  /**  */
  public PaymentMethodsRowUnsaved withMethodType(String methodType) {
    return new PaymentMethodsRowUnsaved(code, name, methodType, processorConfig, isActive, sortOrder);
  };

  /** Default: NULL

    */
  public PaymentMethodsRowUnsaved withProcessorConfig(Defaulted<Optional<String>> processorConfig) {
    return new PaymentMethodsRowUnsaved(code, name, methodType, processorConfig, isActive, sortOrder);
  };

  /** Default: 1

    */
  public PaymentMethodsRowUnsaved withIsActive(Defaulted<Boolean> isActive) {
    return new PaymentMethodsRowUnsaved(code, name, methodType, processorConfig, isActive, sortOrder);
  };

  /** Default: 0

    */
  public PaymentMethodsRowUnsaved withSortOrder(Defaulted<Byte> sortOrder) {
    return new PaymentMethodsRowUnsaved(code, name, methodType, processorConfig, isActive, sortOrder);
  };

  static public MariaText<PaymentMethodsRowUnsaved> mariaText =
    MariaText.instance((row, sb) -> {
      MariaTypes.varchar.mariaText().unsafeEncode(row.code, sb);
      sb.append(MariaText.DELIMETER);
      MariaTypes.varchar.mariaText().unsafeEncode(row.name, sb);
      sb.append(MariaText.DELIMETER);
      MariaTypes.text.mariaText().unsafeEncode(row.methodType, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.longtext.opt().mariaText()).unsafeEncode(row.processorConfig, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.bool.mariaText()).unsafeEncode(row.isActive, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.tinyint.mariaText()).unsafeEncode(row.sortOrder, sb);
    });

  public PaymentMethodsRow toRow(
    java.util.function.Supplier<Optional<String>> processorConfigDefault,
    java.util.function.Supplier<Boolean> isActiveDefault,
    java.util.function.Supplier<Byte> sortOrderDefault,
    java.util.function.Supplier<PaymentMethodsId> methodIdDefault
  ) {
    return new PaymentMethodsRow(methodIdDefault.get(), code, name, methodType, processorConfig.getOrElse(processorConfigDefault), isActive.getOrElse(isActiveDefault), sortOrder.getOrElse(sortOrderDefault));
  };
}