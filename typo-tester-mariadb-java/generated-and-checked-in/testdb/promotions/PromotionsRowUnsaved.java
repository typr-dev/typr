/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.promotions;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import testdb.customtypes.Defaulted.UseDefault;
import typo.data.maria.MariaSet;
import typo.runtime.MariaText;
import typo.runtime.MariaTypes;

/** This class corresponds to a row in table `promotions` which has not been persisted yet */
public record PromotionsRowUnsaved(
  /**  */
  String code,
  /**  */
  String name,
  /**  */
  @JsonProperty("discount_type") String discountType,
  /**  */
  @JsonProperty("discount_value") BigDecimal discountValue,
  /**  */
  @JsonProperty("valid_from") LocalDateTime validFrom,
  /**  */
  @JsonProperty("valid_to") LocalDateTime validTo,
  /** Default: NULL

    */
  Defaulted<Optional<String>> description,
  /** Default: NULL

    */
  @JsonProperty("min_order_amount") Defaulted<Optional<BigDecimal>> minOrderAmount,
  /** Default: NULL

    */
  @JsonProperty("max_uses") Defaulted<Optional<Long>> maxUses,
  /** Default: 0

    */
  @JsonProperty("uses_count") Defaulted<Long> usesCount,
  /** Default: NULL

    */
  @JsonProperty("max_uses_per_customer") Defaulted<Optional<Short>> maxUsesPerCustomer,
  /** Default: NULL

    */
  @JsonProperty("applicable_to") Defaulted<Optional<MariaSet>> applicableTo,
  /** Default: NULL
    * Complex eligibility rules
    */
  @JsonProperty("rules_json") Defaulted<Optional<String>> rulesJson,
  /** Default: 1

    */
  @JsonProperty("is_active") Defaulted<Boolean> isActive,
  /** Default: current_timestamp()

    */
  @JsonProperty("created_at") Defaulted<LocalDateTime> createdAt
) {
  public PromotionsRowUnsaved(
    /**  */
    String code,
    /**  */
    String name,
    /**  */
    @JsonProperty("discount_type") String discountType,
    /**  */
    @JsonProperty("discount_value") BigDecimal discountValue,
    /**  */
    @JsonProperty("valid_from") LocalDateTime validFrom,
    /**  */
    @JsonProperty("valid_to") LocalDateTime validTo
  ) {
    this(code, name, discountType, discountValue, validFrom, validTo, new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>());
  };

  /**  */
  public PromotionsRowUnsaved withCode(String code) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /**  */
  public PromotionsRowUnsaved withName(String name) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /**  */
  public PromotionsRowUnsaved withDiscountType(String discountType) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /**  */
  public PromotionsRowUnsaved withDiscountValue(BigDecimal discountValue) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /**  */
  public PromotionsRowUnsaved withValidFrom(LocalDateTime validFrom) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /**  */
  public PromotionsRowUnsaved withValidTo(LocalDateTime validTo) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: NULL

    */
  public PromotionsRowUnsaved withDescription(Defaulted<Optional<String>> description) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: NULL

    */
  public PromotionsRowUnsaved withMinOrderAmount(Defaulted<Optional<BigDecimal>> minOrderAmount) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: NULL

    */
  public PromotionsRowUnsaved withMaxUses(Defaulted<Optional<Long>> maxUses) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: 0

    */
  public PromotionsRowUnsaved withUsesCount(Defaulted<Long> usesCount) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: NULL

    */
  public PromotionsRowUnsaved withMaxUsesPerCustomer(Defaulted<Optional<Short>> maxUsesPerCustomer) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: NULL

    */
  public PromotionsRowUnsaved withApplicableTo(Defaulted<Optional<MariaSet>> applicableTo) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: NULL
    * Complex eligibility rules
    */
  public PromotionsRowUnsaved withRulesJson(Defaulted<Optional<String>> rulesJson) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: 1

    */
  public PromotionsRowUnsaved withIsActive(Defaulted<Boolean> isActive) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  /** Default: current_timestamp()

    */
  public PromotionsRowUnsaved withCreatedAt(Defaulted<LocalDateTime> createdAt) {
    return new PromotionsRowUnsaved(code, name, discountType, discountValue, validFrom, validTo, description, minOrderAmount, maxUses, usesCount, maxUsesPerCustomer, applicableTo, rulesJson, isActive, createdAt);
  };

  static public MariaText<PromotionsRowUnsaved> mariaText =
    MariaText.instance((row, sb) -> {
      MariaTypes.varchar.mariaText().unsafeEncode(row.code, sb);
      sb.append(MariaText.DELIMETER);
      MariaTypes.varchar.mariaText().unsafeEncode(row.name, sb);
      sb.append(MariaText.DELIMETER);
      MariaTypes.text.mariaText().unsafeEncode(row.discountType, sb);
      sb.append(MariaText.DELIMETER);
      MariaTypes.decimal.mariaText().unsafeEncode(row.discountValue, sb);
      sb.append(MariaText.DELIMETER);
      MariaTypes.datetime.mariaText().unsafeEncode(row.validFrom, sb);
      sb.append(MariaText.DELIMETER);
      MariaTypes.datetime.mariaText().unsafeEncode(row.validTo, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.text.opt().mariaText()).unsafeEncode(row.description, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.decimal.opt().mariaText()).unsafeEncode(row.minOrderAmount, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.intUnsigned.opt().mariaText()).unsafeEncode(row.maxUses, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.intUnsigned.mariaText()).unsafeEncode(row.usesCount, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.tinyintUnsigned.opt().mariaText()).unsafeEncode(row.maxUsesPerCustomer, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.set.opt().mariaText()).unsafeEncode(row.applicableTo, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.longtext.opt().mariaText()).unsafeEncode(row.rulesJson, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.bool.mariaText()).unsafeEncode(row.isActive, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.datetime.mariaText()).unsafeEncode(row.createdAt, sb);
    });

  public PromotionsRow toRow(
    java.util.function.Supplier<Optional<String>> descriptionDefault,
    java.util.function.Supplier<Optional<BigDecimal>> minOrderAmountDefault,
    java.util.function.Supplier<Optional<Long>> maxUsesDefault,
    java.util.function.Supplier<Long> usesCountDefault,
    java.util.function.Supplier<Optional<Short>> maxUsesPerCustomerDefault,
    java.util.function.Supplier<Optional<MariaSet>> applicableToDefault,
    java.util.function.Supplier<Optional<String>> rulesJsonDefault,
    java.util.function.Supplier<Boolean> isActiveDefault,
    java.util.function.Supplier<LocalDateTime> createdAtDefault,
    java.util.function.Supplier<PromotionsId> promotionIdDefault
  ) {
    return new PromotionsRow(promotionIdDefault.get(), code, name, description.getOrElse(descriptionDefault), discountType, discountValue, minOrderAmount.getOrElse(minOrderAmountDefault), maxUses.getOrElse(maxUsesDefault), usesCount.getOrElse(usesCountDefault), maxUsesPerCustomer.getOrElse(maxUsesPerCustomerDefault), applicableTo.getOrElse(applicableToDefault), rulesJson.getOrElse(rulesJsonDefault), validFrom, validTo, isActive.getOrElse(isActiveDefault), createdAt.getOrElse(createdAtDefault));
  };
}