/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.promotions;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import typo.data.maria.MariaSet;
import typo.runtime.MariaTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: promotions Primary key: promotion_id */
public record PromotionsRow(
    /** AUTO_INCREMENT */
    @JsonProperty("promotion_id") PromotionsId promotionId,
    /** */
    String code,
    /** */
    String name,
    /** Default: NULL */
    Optional<String> description,
    /** */
    @JsonProperty("discount_type") String discountType,
    /** */
    @JsonProperty("discount_value") BigDecimal discountValue,
    /** Default: NULL */
    @JsonProperty("min_order_amount") Optional<BigDecimal> minOrderAmount,
    /** Default: NULL */
    @JsonProperty("max_uses") Optional<Long> maxUses,
    /** Default: 0 */
    @JsonProperty("uses_count") Long usesCount,
    /** Default: NULL */
    @JsonProperty("max_uses_per_customer") Optional<Short> maxUsesPerCustomer,
    /** Default: NULL */
    @JsonProperty("applicable_to") Optional<MariaSet> applicableTo,
    /** Complex eligibility rules Default: NULL */
    @JsonProperty("rules_json") Optional<String> rulesJson,
    /** */
    @JsonProperty("valid_from") LocalDateTime validFrom,
    /** */
    @JsonProperty("valid_to") LocalDateTime validTo,
    /** Default: 1 */
    @JsonProperty("is_active") Boolean isActive,
    /** Default: current_timestamp() */
    @JsonProperty("created_at") LocalDateTime createdAt) {
  /** AUTO_INCREMENT */
  public PromotionsRow withPromotionId(PromotionsId promotionId) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** */
  public PromotionsRow withCode(String code) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** */
  public PromotionsRow withName(String name) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: NULL */
  public PromotionsRow withDescription(Optional<String> description) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** */
  public PromotionsRow withDiscountType(String discountType) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** */
  public PromotionsRow withDiscountValue(BigDecimal discountValue) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: NULL */
  public PromotionsRow withMinOrderAmount(Optional<BigDecimal> minOrderAmount) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: NULL */
  public PromotionsRow withMaxUses(Optional<Long> maxUses) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: 0 */
  public PromotionsRow withUsesCount(Long usesCount) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: NULL */
  public PromotionsRow withMaxUsesPerCustomer(Optional<Short> maxUsesPerCustomer) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: NULL */
  public PromotionsRow withApplicableTo(Optional<MariaSet> applicableTo) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Complex eligibility rules Default: NULL */
  public PromotionsRow withRulesJson(Optional<String> rulesJson) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** */
  public PromotionsRow withValidFrom(LocalDateTime validFrom) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** */
  public PromotionsRow withValidTo(LocalDateTime validTo) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: 1 */
  public PromotionsRow withIsActive(Boolean isActive) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  /** Default: current_timestamp() */
  public PromotionsRow withCreatedAt(LocalDateTime createdAt) {
    return new PromotionsRow(
        promotionId,
        code,
        name,
        description,
        discountType,
        discountValue,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        validFrom,
        validTo,
        isActive,
        createdAt);
  }
  ;

  public static RowParser<PromotionsRow> _rowParser =
      RowParsers.of(
          PromotionsId.pgType,
          MariaTypes.varchar,
          MariaTypes.varchar,
          MariaTypes.text.opt(),
          MariaTypes.text,
          MariaTypes.numeric,
          MariaTypes.numeric.opt(),
          MariaTypes.intUnsigned.opt(),
          MariaTypes.intUnsigned,
          MariaTypes.tinyintUnsigned.opt(),
          MariaTypes.set.opt(),
          MariaTypes.longtext.opt(),
          MariaTypes.datetime,
          MariaTypes.datetime,
          MariaTypes.bool,
          MariaTypes.datetime,
          PromotionsRow::new,
          row ->
              new Object[] {
                row.promotionId(),
                row.code(),
                row.name(),
                row.description(),
                row.discountType(),
                row.discountValue(),
                row.minOrderAmount(),
                row.maxUses(),
                row.usesCount(),
                row.maxUsesPerCustomer(),
                row.applicableTo(),
                row.rulesJson(),
                row.validFrom(),
                row.validTo(),
                row.isActive(),
                row.createdAt()
              });
  ;

  public PromotionsId id() {
    return promotionId;
  }
  ;

  public PromotionsRowUnsaved toUnsavedRow(
      Defaulted<Optional<String>> description,
      Defaulted<Optional<BigDecimal>> minOrderAmount,
      Defaulted<Optional<Long>> maxUses,
      Defaulted<Long> usesCount,
      Defaulted<Optional<Short>> maxUsesPerCustomer,
      Defaulted<Optional<MariaSet>> applicableTo,
      Defaulted<Optional<String>> rulesJson,
      Defaulted<Boolean> isActive,
      Defaulted<LocalDateTime> createdAt) {
    return new PromotionsRowUnsaved(
        code,
        name,
        discountType,
        discountValue,
        validFrom,
        validTo,
        description,
        minOrderAmount,
        maxUses,
        usesCount,
        maxUsesPerCustomer,
        applicableTo,
        rulesJson,
        isActive,
        createdAt);
  }
  ;
}
