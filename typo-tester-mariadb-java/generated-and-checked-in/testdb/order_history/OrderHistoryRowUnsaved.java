/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_history;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import testdb.customtypes.Defaulted.UseDefault;
import testdb.orders.OrdersId;

/** This class corresponds to a row in table `order_history` which has not been persisted yet */
public record OrderHistoryRowUnsaved(
    /** Points to {@link testdb.orders.OrdersRow#orderId()} */
    @JsonProperty("order_id") OrdersId orderId,
    /** */
    @JsonProperty("new_status") String newStatus,
    /** Default: NULL */
    @JsonProperty("previous_status") Defaulted<Optional<String>> previousStatus,
    /** Default: NULL */
    @JsonProperty("changed_by") Defaulted<Optional<String>> changedBy,
    /** Default: NULL */
    @JsonProperty("change_reason") Defaulted<Optional<String>> changeReason,
    /** Default: NULL */
    Defaulted<Optional<String>> metadata,
    /** Default: current_timestamp(6) */
    @JsonProperty("created_at") Defaulted<LocalDateTime> createdAt) {
  public OrderHistoryRowUnsaved(
      /** Points to {@link testdb.orders.OrdersRow#orderId()} */
      @JsonProperty("order_id") OrdersId orderId,
      /** */
      @JsonProperty("new_status") String newStatus) {
    this(
        orderId,
        newStatus,
        new UseDefault<>(),
        new UseDefault<>(),
        new UseDefault<>(),
        new UseDefault<>(),
        new UseDefault<>());
  }
  ;

  /** Points to {@link testdb.orders.OrdersRow#orderId()} */
  public OrderHistoryRowUnsaved withOrderId(OrdersId orderId) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;

  /** */
  public OrderHistoryRowUnsaved withNewStatus(String newStatus) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRowUnsaved withPreviousStatus(Defaulted<Optional<String>> previousStatus) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRowUnsaved withChangedBy(Defaulted<Optional<String>> changedBy) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRowUnsaved withChangeReason(Defaulted<Optional<String>> changeReason) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRowUnsaved withMetadata(Defaulted<Optional<String>> metadata) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;

  /** Default: current_timestamp(6) */
  public OrderHistoryRowUnsaved withCreatedAt(Defaulted<LocalDateTime> createdAt) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;

  public OrderHistoryRow toRow(
      java.util.function.Supplier<Optional<String>> previousStatusDefault,
      java.util.function.Supplier<Optional<String>> changedByDefault,
      java.util.function.Supplier<Optional<String>> changeReasonDefault,
      java.util.function.Supplier<Optional<String>> metadataDefault,
      java.util.function.Supplier<LocalDateTime> createdAtDefault,
      java.util.function.Supplier<OrderHistoryId> historyIdDefault) {
    return new OrderHistoryRow(
        historyIdDefault.get(),
        orderId,
        previousStatus.getOrElse(previousStatusDefault),
        newStatus,
        changedBy.getOrElse(changedByDefault),
        changeReason.getOrElse(changeReasonDefault),
        metadata.getOrElse(metadataDefault),
        createdAt.getOrElse(createdAtDefault));
  }
  ;
}
