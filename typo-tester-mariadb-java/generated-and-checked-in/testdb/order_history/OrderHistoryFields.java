/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_history;

import java.time.LocalDateTime;
import java.util.List;
import java.util.Optional;
import testdb.orders.OrdersFields;
import testdb.orders.OrdersId;
import testdb.orders.OrdersRow;
import typo.dsl.ForeignKey;
import typo.dsl.Path;
import typo.dsl.SqlExpr.Field;
import typo.dsl.SqlExpr.FieldLike;
import typo.dsl.SqlExpr.IdField;
import typo.dsl.SqlExpr.OptField;
import typo.dsl.Structure.Relation;
import typo.runtime.MariaTypes;

public interface OrderHistoryFields {
  final class Impl extends Relation<OrderHistoryFields, OrderHistoryRow> {
    Impl(List<Path> path) {
      super(path);
    }

    @Override
    public OrderHistoryFields fields() {
      return new OrderHistoryFields() {
               @Override
               public IdField<OrderHistoryId, OrderHistoryRow> historyId() {
                 return new IdField<OrderHistoryId, OrderHistoryRow>(_path, "history_id", OrderHistoryRow::historyId, Optional.empty(), Optional.empty(), (row, value) -> row.withHistoryId(value), OrderHistoryId.pgType);
               };
               @Override
               public Field<OrdersId, OrderHistoryRow> orderId() {
                 return new Field<OrdersId, OrderHistoryRow>(_path, "order_id", OrderHistoryRow::orderId, Optional.empty(), Optional.empty(), (row, value) -> row.withOrderId(value), OrdersId.pgType);
               };
               @Override
               public OptField<String, OrderHistoryRow> previousStatus() {
                 return new OptField<String, OrderHistoryRow>(_path, "previous_status", OrderHistoryRow::previousStatus, Optional.empty(), Optional.empty(), (row, value) -> row.withPreviousStatus(value), MariaTypes.text);
               };
               @Override
               public Field<String, OrderHistoryRow> newStatus() {
                 return new Field<String, OrderHistoryRow>(_path, "new_status", OrderHistoryRow::newStatus, Optional.empty(), Optional.empty(), (row, value) -> row.withNewStatus(value), MariaTypes.text);
               };
               @Override
               public OptField<String, OrderHistoryRow> changedBy() {
                 return new OptField<String, OrderHistoryRow>(_path, "changed_by", OrderHistoryRow::changedBy, Optional.empty(), Optional.empty(), (row, value) -> row.withChangedBy(value), MariaTypes.varchar);
               };
               @Override
               public OptField<String, OrderHistoryRow> changeReason() {
                 return new OptField<String, OrderHistoryRow>(_path, "change_reason", OrderHistoryRow::changeReason, Optional.empty(), Optional.empty(), (row, value) -> row.withChangeReason(value), MariaTypes.varchar);
               };
               @Override
               public OptField<String, OrderHistoryRow> metadata() {
                 return new OptField<String, OrderHistoryRow>(_path, "metadata", OrderHistoryRow::metadata, Optional.empty(), Optional.empty(), (row, value) -> row.withMetadata(value), MariaTypes.longtext);
               };
               @Override
               public Field<LocalDateTime, OrderHistoryRow> createdAt() {
                 return new Field<LocalDateTime, OrderHistoryRow>(_path, "created_at", OrderHistoryRow::createdAt, Optional.empty(), Optional.empty(), (row, value) -> row.withCreatedAt(value), MariaTypes.datetime);
               };
             };
    };

    @Override
    public List<FieldLike<?, OrderHistoryRow>> columns() {
      return List.of(this.fields().historyId(), this.fields().orderId(), this.fields().previousStatus(), this.fields().newStatus(), this.fields().changedBy(), this.fields().changeReason(), this.fields().metadata(), this.fields().createdAt());
    };

    @Override
    public Impl copy(List<Path> path) {
      return new Impl(path);
    };
  };

  static Relation<OrderHistoryFields, OrderHistoryRow> structure() {
    return new Impl(List.of());
  };

  IdField<OrderHistoryId, OrderHistoryRow> historyId();

  Field<OrdersId, OrderHistoryRow> orderId();

  OptField<String, OrderHistoryRow> previousStatus();

  Field<String, OrderHistoryRow> newStatus();

  OptField<String, OrderHistoryRow> changedBy();

  OptField<String, OrderHistoryRow> changeReason();

  OptField<String, OrderHistoryRow> metadata();

  Field<LocalDateTime, OrderHistoryRow> createdAt();

  default ForeignKey<OrdersFields, OrdersRow> fkOrders() {
    return ForeignKey.<OrdersFields, OrdersRow>of("fk_oh_order").withColumnPair(orderId(), OrdersFields::orderId);
  };
}