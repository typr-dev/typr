/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.inventory;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import testdb.customtypes.Defaulted.UseDefault;
import testdb.products.ProductsId;
import testdb.warehouses.WarehousesId;
import typo.runtime.MariaText;
import typo.runtime.MariaTypes;

/** This class corresponds to a row in table `inventory` which has not been persisted yet */
public record InventoryRowUnsaved(
  /** 
    * Points to {@link testdb.products.ProductsRow#productId()}
    */
  @JsonProperty("product_id") ProductsId productId,
  /** 
    * Points to {@link testdb.warehouses.WarehousesRow#warehouseId()}
    */
  @JsonProperty("warehouse_id") WarehousesId warehouseId,
  /** Default: 0

    */
  @JsonProperty("quantity_on_hand") Defaulted<Integer> quantityOnHand,
  /** Default: 0

    */
  @JsonProperty("quantity_reserved") Defaulted<Integer> quantityReserved,
  /** Default: 0

    */
  @JsonProperty("quantity_on_order") Defaulted<Integer> quantityOnOrder,
  /** Default: 0

    */
  @JsonProperty("reorder_point") Defaulted<Integer> reorderPoint,
  /** Default: 0

    */
  @JsonProperty("reorder_quantity") Defaulted<Integer> reorderQuantity,
  /** Default: NULL

    */
  @JsonProperty("bin_location") Defaulted<Optional<String>> binLocation,
  /** Default: NULL

    */
  @JsonProperty("last_counted_at") Defaulted<Optional<LocalDateTime>> lastCountedAt,
  /** Default: current_timestamp(6)

    */
  @JsonProperty("updated_at") Defaulted<LocalDateTime> updatedAt
) {
  public InventoryRowUnsaved(
    /** 
      * Points to {@link testdb.products.ProductsRow#productId()}
      */
    @JsonProperty("product_id") ProductsId productId,
    /** 
      * Points to {@link testdb.warehouses.WarehousesRow#warehouseId()}
      */
    @JsonProperty("warehouse_id") WarehousesId warehouseId
  ) {
    this(productId, warehouseId, new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>());
  };

  /** 
    * Points to {@link testdb.products.ProductsRow#productId()}
    */
  public InventoryRowUnsaved withProductId(ProductsId productId) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** 
    * Points to {@link testdb.warehouses.WarehousesRow#warehouseId()}
    */
  public InventoryRowUnsaved withWarehouseId(WarehousesId warehouseId) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: 0

    */
  public InventoryRowUnsaved withQuantityOnHand(Defaulted<Integer> quantityOnHand) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: 0

    */
  public InventoryRowUnsaved withQuantityReserved(Defaulted<Integer> quantityReserved) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: 0

    */
  public InventoryRowUnsaved withQuantityOnOrder(Defaulted<Integer> quantityOnOrder) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: 0

    */
  public InventoryRowUnsaved withReorderPoint(Defaulted<Integer> reorderPoint) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: 0

    */
  public InventoryRowUnsaved withReorderQuantity(Defaulted<Integer> reorderQuantity) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: NULL

    */
  public InventoryRowUnsaved withBinLocation(Defaulted<Optional<String>> binLocation) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: NULL

    */
  public InventoryRowUnsaved withLastCountedAt(Defaulted<Optional<LocalDateTime>> lastCountedAt) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  /** Default: current_timestamp(6)

    */
  public InventoryRowUnsaved withUpdatedAt(Defaulted<LocalDateTime> updatedAt) {
    return new InventoryRowUnsaved(productId, warehouseId, quantityOnHand, quantityReserved, quantityOnOrder, reorderPoint, reorderQuantity, binLocation, lastCountedAt, updatedAt);
  };

  static public MariaText<InventoryRowUnsaved> mariaText =
    MariaText.instance((row, sb) -> {
      ProductsId.pgType.mariaText().unsafeEncode(row.productId, sb);
      sb.append(MariaText.DELIMETER);
      WarehousesId.pgType.mariaText().unsafeEncode(row.warehouseId, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.int_.mariaText()).unsafeEncode(row.quantityOnHand, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.int_.mariaText()).unsafeEncode(row.quantityReserved, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.int_.mariaText()).unsafeEncode(row.quantityOnOrder, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.int_.mariaText()).unsafeEncode(row.reorderPoint, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.int_.mariaText()).unsafeEncode(row.reorderQuantity, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.varchar.opt().mariaText()).unsafeEncode(row.binLocation, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.datetime.opt().mariaText()).unsafeEncode(row.lastCountedAt, sb);
      sb.append(MariaText.DELIMETER);
      Defaulted.mariaText(MariaTypes.datetime.mariaText()).unsafeEncode(row.updatedAt, sb);
    });

  public InventoryRow toRow(
    java.util.function.Supplier<Integer> quantityOnHandDefault,
    java.util.function.Supplier<Integer> quantityReservedDefault,
    java.util.function.Supplier<Integer> quantityOnOrderDefault,
    java.util.function.Supplier<Integer> reorderPointDefault,
    java.util.function.Supplier<Integer> reorderQuantityDefault,
    java.util.function.Supplier<Optional<String>> binLocationDefault,
    java.util.function.Supplier<Optional<LocalDateTime>> lastCountedAtDefault,
    java.util.function.Supplier<LocalDateTime> updatedAtDefault,
    java.util.function.Supplier<InventoryId> inventoryIdDefault
  ) {
    return new InventoryRow(inventoryIdDefault.get(), productId, warehouseId, quantityOnHand.getOrElse(quantityOnHandDefault), quantityReserved.getOrElse(quantityReservedDefault), quantityOnOrder.getOrElse(quantityOnOrderDefault), reorderPoint.getOrElse(reorderPointDefault), reorderQuantity.getOrElse(reorderQuantityDefault), binLocation.getOrElse(binLocationDefault), lastCountedAt.getOrElse(lastCountedAtDefault), updatedAt.getOrElse(updatedAtDefault));
  };
}