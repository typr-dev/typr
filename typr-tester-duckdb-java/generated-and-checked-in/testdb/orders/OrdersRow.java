/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.orders;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.math.BigDecimal;
import java.time.LocalDate;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import typr.runtime.DuckDbTypes;
import typr.runtime.RowParser;
import typr.runtime.RowParsers;

/** Table: orders Primary key: order_id */
public record OrdersRow(
    @JsonProperty("order_id") OrdersId orderId,
    @JsonProperty("customer_id") Integer customerId,
    /** Default: current_date */
    @JsonProperty("order_date") LocalDate orderDate,
    @JsonProperty("total_amount") Optional<BigDecimal> totalAmount,
    /** Default: 'pending' */
    Optional<String> status) {
  public OrdersRow withOrderId(OrdersId orderId) {
    return new OrdersRow(orderId, customerId, orderDate, totalAmount, status);
  }
  ;

  public OrdersRow withCustomerId(Integer customerId) {
    return new OrdersRow(orderId, customerId, orderDate, totalAmount, status);
  }
  ;

  /** Default: current_date */
  public OrdersRow withOrderDate(LocalDate orderDate) {
    return new OrdersRow(orderId, customerId, orderDate, totalAmount, status);
  }
  ;

  public OrdersRow withTotalAmount(Optional<BigDecimal> totalAmount) {
    return new OrdersRow(orderId, customerId, orderDate, totalAmount, status);
  }
  ;

  /** Default: 'pending' */
  public OrdersRow withStatus(Optional<String> status) {
    return new OrdersRow(orderId, customerId, orderDate, totalAmount, status);
  }
  ;

  public static RowParser<OrdersRow> _rowParser =
      RowParsers.of(
          OrdersId.duckDbType,
          DuckDbTypes.integer,
          DuckDbTypes.date,
          DuckDbTypes.numeric.opt(),
          DuckDbTypes.varchar.opt(),
          OrdersRow::new,
          row ->
              new Object[] {
                row.orderId(), row.customerId(), row.orderDate(), row.totalAmount(), row.status()
              });
  ;

  public OrdersId id() {
    return orderId;
  }
  ;

  public OrdersRowUnsaved toUnsavedRow(
      Defaulted<LocalDate> orderDate, Defaulted<Optional<String>> status) {
    return new OrdersRowUnsaved(orderId, customerId, totalAmount, orderDate, status);
  }
  ;
}
