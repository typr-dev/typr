/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.departments;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.math.BigDecimal;
import java.util.Optional;
import typr.runtime.DuckDbTypes;
import typr.runtime.RowParser;
import typr.runtime.RowParsers;

/** Table: departments Composite primary key: dept_code, dept_region */
public record DepartmentsRow(
    @JsonProperty("dept_code") String deptCode,
    @JsonProperty("dept_region") String deptRegion,
    @JsonProperty("dept_name") String deptName,
    Optional<BigDecimal> budget) {
  public DepartmentsRow withDeptCode(String deptCode) {
    return new DepartmentsRow(deptCode, deptRegion, deptName, budget);
  }
  ;

  public DepartmentsRow withDeptRegion(String deptRegion) {
    return new DepartmentsRow(deptCode, deptRegion, deptName, budget);
  }
  ;

  public DepartmentsRow withDeptName(String deptName) {
    return new DepartmentsRow(deptCode, deptRegion, deptName, budget);
  }
  ;

  public DepartmentsRow withBudget(Optional<BigDecimal> budget) {
    return new DepartmentsRow(deptCode, deptRegion, deptName, budget);
  }
  ;

  public static RowParser<DepartmentsRow> _rowParser =
      RowParsers.of(
          DuckDbTypes.varchar,
          DuckDbTypes.varchar,
          DuckDbTypes.varchar,
          DuckDbTypes.numeric.opt(),
          DepartmentsRow::new,
          row -> new Object[] {row.deptCode(), row.deptRegion(), row.deptName(), row.budget()});
  ;

  public static DepartmentsRow apply(
      DepartmentsId compositeId, String deptName, Optional<BigDecimal> budget) {
    return new DepartmentsRow(compositeId.deptCode(), compositeId.deptRegion(), deptName, budget);
  }
  ;

  public DepartmentsId compositeId() {
    return new DepartmentsId(deptCode, deptRegion);
  }
  ;

  public DepartmentsId id() {
    return this.compositeId();
  }
  ;
}
