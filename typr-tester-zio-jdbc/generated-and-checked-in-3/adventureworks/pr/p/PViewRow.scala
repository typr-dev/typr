/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.pr.p

import adventureworks.customtypes.TypoLocalDateTime
import adventureworks.customtypes.TypoShort
import adventureworks.customtypes.TypoUUID
import adventureworks.production.product.ProductId
import adventureworks.production.productmodel.ProductmodelId
import adventureworks.production.productsubcategory.ProductsubcategoryId
import adventureworks.production.unitmeasure.UnitmeasureId
import adventureworks.public.Flag
import adventureworks.public.Name
import java.sql.ResultSet
import zio.jdbc.JdbcDecoder
import zio.json.JsonDecoder
import zio.json.JsonEncoder
import zio.json.ast.Json
import zio.json.internal.Write

/** View: pr.p */
case class PViewRow(
  /** Points to [[adventureworks.production.product.ProductRow.productid]] */
  id: ProductId,
  /** Points to [[adventureworks.production.product.ProductRow.productid]] */
  productid: ProductId,
  /** Points to [[adventureworks.production.product.ProductRow.name]] */
  name: Name,
  /** Points to [[adventureworks.production.product.ProductRow.productnumber]] */
  productnumber: String,
  /** Points to [[adventureworks.production.product.ProductRow.makeflag]] */
  makeflag: Flag,
  /** Points to [[adventureworks.production.product.ProductRow.finishedgoodsflag]] */
  finishedgoodsflag: Flag,
  /** Points to [[adventureworks.production.product.ProductRow.color]] */
  color: String,
  /** Points to [[adventureworks.production.product.ProductRow.safetystocklevel]] */
  safetystocklevel: TypoShort,
  /** Points to [[adventureworks.production.product.ProductRow.reorderpoint]] */
  reorderpoint: TypoShort,
  /** Points to [[adventureworks.production.product.ProductRow.standardcost]] */
  standardcost: BigDecimal,
  /** Points to [[adventureworks.production.product.ProductRow.listprice]] */
  listprice: BigDecimal,
  /** Points to [[adventureworks.production.product.ProductRow.size]] */
  size: String,
  /** Points to [[adventureworks.production.product.ProductRow.sizeunitmeasurecode]] */
  sizeunitmeasurecode: UnitmeasureId,
  /** Points to [[adventureworks.production.product.ProductRow.weightunitmeasurecode]] */
  weightunitmeasurecode: UnitmeasureId,
  /** Points to [[adventureworks.production.product.ProductRow.weight]] */
  weight: BigDecimal,
  /** Points to [[adventureworks.production.product.ProductRow.daystomanufacture]] */
  daystomanufacture: Int,
  /** Points to [[adventureworks.production.product.ProductRow.productline]] */
  productline: String,
  /** Points to [[adventureworks.production.product.ProductRow.class]] */
  `class`: String,
  /** Points to [[adventureworks.production.product.ProductRow.style]] */
  style: String,
  /** Points to [[adventureworks.production.product.ProductRow.productsubcategoryid]] */
  productsubcategoryid: ProductsubcategoryId,
  /** Points to [[adventureworks.production.product.ProductRow.productmodelid]] */
  productmodelid: ProductmodelId,
  /** Points to [[adventureworks.production.product.ProductRow.sellstartdate]] */
  sellstartdate: TypoLocalDateTime,
  /** Points to [[adventureworks.production.product.ProductRow.sellenddate]] */
  sellenddate: TypoLocalDateTime,
  /** Points to [[adventureworks.production.product.ProductRow.discontinueddate]] */
  discontinueddate: TypoLocalDateTime,
  /** Points to [[adventureworks.production.product.ProductRow.rowguid]] */
  rowguid: TypoUUID,
  /** Points to [[adventureworks.production.product.ProductRow.modifieddate]] */
  modifieddate: TypoLocalDateTime
)

object PViewRow {
  given jdbcDecoder: JdbcDecoder[PViewRow] = {
    new JdbcDecoder[PViewRow] {
      override def unsafeDecode(columIndex: Int, rs: ResultSet): (Int, PViewRow) =
        columIndex + 25 ->
          PViewRow(
            id = ProductId.jdbcDecoder.unsafeDecode(columIndex + 0, rs)._2,
            productid = ProductId.jdbcDecoder.unsafeDecode(columIndex + 1, rs)._2,
            name = Name.jdbcDecoder.unsafeDecode(columIndex + 2, rs)._2,
            productnumber = JdbcDecoder.stringDecoder.unsafeDecode(columIndex + 3, rs)._2,
            makeflag = Flag.jdbcDecoder.unsafeDecode(columIndex + 4, rs)._2,
            finishedgoodsflag = Flag.jdbcDecoder.unsafeDecode(columIndex + 5, rs)._2,
            color = JdbcDecoder.stringDecoder.unsafeDecode(columIndex + 6, rs)._2,
            safetystocklevel = TypoShort.jdbcDecoder.unsafeDecode(columIndex + 7, rs)._2,
            reorderpoint = TypoShort.jdbcDecoder.unsafeDecode(columIndex + 8, rs)._2,
            standardcost = JdbcDecoder.bigDecimalDecoderScala.unsafeDecode(columIndex + 9, rs)._2,
            listprice = JdbcDecoder.bigDecimalDecoderScala.unsafeDecode(columIndex + 10, rs)._2,
            size = JdbcDecoder.stringDecoder.unsafeDecode(columIndex + 11, rs)._2,
            sizeunitmeasurecode = UnitmeasureId.jdbcDecoder.unsafeDecode(columIndex + 12, rs)._2,
            weightunitmeasurecode = UnitmeasureId.jdbcDecoder.unsafeDecode(columIndex + 13, rs)._2,
            weight = JdbcDecoder.bigDecimalDecoderScala.unsafeDecode(columIndex + 14, rs)._2,
            daystomanufacture = JdbcDecoder.intDecoder.unsafeDecode(columIndex + 15, rs)._2,
            productline = JdbcDecoder.stringDecoder.unsafeDecode(columIndex + 16, rs)._2,
            `class` = JdbcDecoder.stringDecoder.unsafeDecode(columIndex + 17, rs)._2,
            style = JdbcDecoder.stringDecoder.unsafeDecode(columIndex + 18, rs)._2,
            productsubcategoryid = ProductsubcategoryId.jdbcDecoder.unsafeDecode(columIndex + 19, rs)._2,
            productmodelid = ProductmodelId.jdbcDecoder.unsafeDecode(columIndex + 20, rs)._2,
            sellstartdate = TypoLocalDateTime.jdbcDecoder.unsafeDecode(columIndex + 21, rs)._2,
            sellenddate = TypoLocalDateTime.jdbcDecoder.unsafeDecode(columIndex + 22, rs)._2,
            discontinueddate = TypoLocalDateTime.jdbcDecoder.unsafeDecode(columIndex + 23, rs)._2,
            rowguid = TypoUUID.jdbcDecoder.unsafeDecode(columIndex + 24, rs)._2,
            modifieddate = TypoLocalDateTime.jdbcDecoder.unsafeDecode(columIndex + 25, rs)._2
          )
    }
  }

  given jsonDecoder: JsonDecoder[PViewRow] = {
    JsonDecoder[Json.Obj].mapOrFail { jsonObj =>
      val id = jsonObj.get("id").toRight("Missing field 'id'").flatMap(_.as(using ProductId.jsonDecoder))
      val productid = jsonObj.get("productid").toRight("Missing field 'productid'").flatMap(_.as(using ProductId.jsonDecoder))
      val name = jsonObj.get("name").toRight("Missing field 'name'").flatMap(_.as(using Name.jsonDecoder))
      val productnumber = jsonObj.get("productnumber").toRight("Missing field 'productnumber'").flatMap(_.as(using JsonDecoder.string))
      val makeflag = jsonObj.get("makeflag").toRight("Missing field 'makeflag'").flatMap(_.as(using Flag.jsonDecoder))
      val finishedgoodsflag = jsonObj.get("finishedgoodsflag").toRight("Missing field 'finishedgoodsflag'").flatMap(_.as(using Flag.jsonDecoder))
      val color = jsonObj.get("color").toRight("Missing field 'color'").flatMap(_.as(using JsonDecoder.string))
      val safetystocklevel = jsonObj.get("safetystocklevel").toRight("Missing field 'safetystocklevel'").flatMap(_.as(using TypoShort.jsonDecoder))
      val reorderpoint = jsonObj.get("reorderpoint").toRight("Missing field 'reorderpoint'").flatMap(_.as(using TypoShort.jsonDecoder))
      val standardcost = jsonObj.get("standardcost").toRight("Missing field 'standardcost'").flatMap(_.as(using JsonDecoder.scalaBigDecimal))
      val listprice = jsonObj.get("listprice").toRight("Missing field 'listprice'").flatMap(_.as(using JsonDecoder.scalaBigDecimal))
      val size = jsonObj.get("size").toRight("Missing field 'size'").flatMap(_.as(using JsonDecoder.string))
      val sizeunitmeasurecode = jsonObj.get("sizeunitmeasurecode").toRight("Missing field 'sizeunitmeasurecode'").flatMap(_.as(using UnitmeasureId.jsonDecoder))
      val weightunitmeasurecode = jsonObj.get("weightunitmeasurecode").toRight("Missing field 'weightunitmeasurecode'").flatMap(_.as(using UnitmeasureId.jsonDecoder))
      val weight = jsonObj.get("weight").toRight("Missing field 'weight'").flatMap(_.as(using JsonDecoder.scalaBigDecimal))
      val daystomanufacture = jsonObj.get("daystomanufacture").toRight("Missing field 'daystomanufacture'").flatMap(_.as(using JsonDecoder.int))
      val productline = jsonObj.get("productline").toRight("Missing field 'productline'").flatMap(_.as(using JsonDecoder.string))
      val `class` = jsonObj.get("class").toRight("Missing field 'class'").flatMap(_.as(using JsonDecoder.string))
      val style = jsonObj.get("style").toRight("Missing field 'style'").flatMap(_.as(using JsonDecoder.string))
      val productsubcategoryid = jsonObj.get("productsubcategoryid").toRight("Missing field 'productsubcategoryid'").flatMap(_.as(using ProductsubcategoryId.jsonDecoder))
      val productmodelid = jsonObj.get("productmodelid").toRight("Missing field 'productmodelid'").flatMap(_.as(using ProductmodelId.jsonDecoder))
      val sellstartdate = jsonObj.get("sellstartdate").toRight("Missing field 'sellstartdate'").flatMap(_.as(using TypoLocalDateTime.jsonDecoder))
      val sellenddate = jsonObj.get("sellenddate").toRight("Missing field 'sellenddate'").flatMap(_.as(using TypoLocalDateTime.jsonDecoder))
      val discontinueddate = jsonObj.get("discontinueddate").toRight("Missing field 'discontinueddate'").flatMap(_.as(using TypoLocalDateTime.jsonDecoder))
      val rowguid = jsonObj.get("rowguid").toRight("Missing field 'rowguid'").flatMap(_.as(using TypoUUID.jsonDecoder))
      val modifieddate = jsonObj.get("modifieddate").toRight("Missing field 'modifieddate'").flatMap(_.as(using TypoLocalDateTime.jsonDecoder))
      if (id.isRight && productid.isRight && name.isRight && productnumber.isRight && makeflag.isRight && finishedgoodsflag.isRight && color.isRight && safetystocklevel.isRight && reorderpoint.isRight && standardcost.isRight && listprice.isRight && size.isRight && sizeunitmeasurecode.isRight && weightunitmeasurecode.isRight && weight.isRight && daystomanufacture.isRight && productline.isRight && `class`.isRight && style.isRight && productsubcategoryid.isRight && productmodelid.isRight && sellstartdate.isRight && sellenddate.isRight && discontinueddate.isRight && rowguid.isRight && modifieddate.isRight)
        Right(PViewRow(id = id.toOption.get, productid = productid.toOption.get, name = name.toOption.get, productnumber = productnumber.toOption.get, makeflag = makeflag.toOption.get, finishedgoodsflag = finishedgoodsflag.toOption.get, color = color.toOption.get, safetystocklevel = safetystocklevel.toOption.get, reorderpoint = reorderpoint.toOption.get, standardcost = standardcost.toOption.get, listprice = listprice.toOption.get, size = size.toOption.get, sizeunitmeasurecode = sizeunitmeasurecode.toOption.get, weightunitmeasurecode = weightunitmeasurecode.toOption.get, weight = weight.toOption.get, daystomanufacture = daystomanufacture.toOption.get, productline = productline.toOption.get, `class` = `class`.toOption.get, style = style.toOption.get, productsubcategoryid = productsubcategoryid.toOption.get, productmodelid = productmodelid.toOption.get, sellstartdate = sellstartdate.toOption.get, sellenddate = sellenddate.toOption.get, discontinueddate = discontinueddate.toOption.get, rowguid = rowguid.toOption.get, modifieddate = modifieddate.toOption.get))
      else Left(List[Either[String, Any]](id, productid, name, productnumber, makeflag, finishedgoodsflag, color, safetystocklevel, reorderpoint, standardcost, listprice, size, sizeunitmeasurecode, weightunitmeasurecode, weight, daystomanufacture, productline, `class`, style, productsubcategoryid, productmodelid, sellstartdate, sellenddate, discontinueddate, rowguid, modifieddate).flatMap(_.left.toOption).mkString(", "))
    }
  }

  given jsonEncoder: JsonEncoder[PViewRow] = {
    new JsonEncoder[PViewRow] {
      override def unsafeEncode(a: PViewRow, indent: Option[Int], out: Write): Unit = {
        out.write("{")
        out.write(""""id":""")
        ProductId.jsonEncoder.unsafeEncode(a.id, indent, out)
        out.write(",")
        out.write(""""productid":""")
        ProductId.jsonEncoder.unsafeEncode(a.productid, indent, out)
        out.write(",")
        out.write(""""name":""")
        Name.jsonEncoder.unsafeEncode(a.name, indent, out)
        out.write(",")
        out.write(""""productnumber":""")
        JsonEncoder.string.unsafeEncode(a.productnumber, indent, out)
        out.write(",")
        out.write(""""makeflag":""")
        Flag.jsonEncoder.unsafeEncode(a.makeflag, indent, out)
        out.write(",")
        out.write(""""finishedgoodsflag":""")
        Flag.jsonEncoder.unsafeEncode(a.finishedgoodsflag, indent, out)
        out.write(",")
        out.write(""""color":""")
        JsonEncoder.string.unsafeEncode(a.color, indent, out)
        out.write(",")
        out.write(""""safetystocklevel":""")
        TypoShort.jsonEncoder.unsafeEncode(a.safetystocklevel, indent, out)
        out.write(",")
        out.write(""""reorderpoint":""")
        TypoShort.jsonEncoder.unsafeEncode(a.reorderpoint, indent, out)
        out.write(",")
        out.write(""""standardcost":""")
        JsonEncoder.scalaBigDecimal.unsafeEncode(a.standardcost, indent, out)
        out.write(",")
        out.write(""""listprice":""")
        JsonEncoder.scalaBigDecimal.unsafeEncode(a.listprice, indent, out)
        out.write(",")
        out.write(""""size":""")
        JsonEncoder.string.unsafeEncode(a.size, indent, out)
        out.write(",")
        out.write(""""sizeunitmeasurecode":""")
        UnitmeasureId.jsonEncoder.unsafeEncode(a.sizeunitmeasurecode, indent, out)
        out.write(",")
        out.write(""""weightunitmeasurecode":""")
        UnitmeasureId.jsonEncoder.unsafeEncode(a.weightunitmeasurecode, indent, out)
        out.write(",")
        out.write(""""weight":""")
        JsonEncoder.scalaBigDecimal.unsafeEncode(a.weight, indent, out)
        out.write(",")
        out.write(""""daystomanufacture":""")
        JsonEncoder.int.unsafeEncode(a.daystomanufacture, indent, out)
        out.write(",")
        out.write(""""productline":""")
        JsonEncoder.string.unsafeEncode(a.productline, indent, out)
        out.write(",")
        out.write(""""class":""")
        JsonEncoder.string.unsafeEncode(a.`class`, indent, out)
        out.write(",")
        out.write(""""style":""")
        JsonEncoder.string.unsafeEncode(a.style, indent, out)
        out.write(",")
        out.write(""""productsubcategoryid":""")
        ProductsubcategoryId.jsonEncoder.unsafeEncode(a.productsubcategoryid, indent, out)
        out.write(",")
        out.write(""""productmodelid":""")
        ProductmodelId.jsonEncoder.unsafeEncode(a.productmodelid, indent, out)
        out.write(",")
        out.write(""""sellstartdate":""")
        TypoLocalDateTime.jsonEncoder.unsafeEncode(a.sellstartdate, indent, out)
        out.write(",")
        out.write(""""sellenddate":""")
        TypoLocalDateTime.jsonEncoder.unsafeEncode(a.sellenddate, indent, out)
        out.write(",")
        out.write(""""discontinueddate":""")
        TypoLocalDateTime.jsonEncoder.unsafeEncode(a.discontinueddate, indent, out)
        out.write(",")
        out.write(""""rowguid":""")
        TypoUUID.jsonEncoder.unsafeEncode(a.rowguid, indent, out)
        out.write(",")
        out.write(""""modifieddate":""")
        TypoLocalDateTime.jsonEncoder.unsafeEncode(a.modifieddate, indent, out)
        out.write("}")
      }
    }
  }
}