/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.salesorderheadersalesreason

import adventureworks.customtypes.TypoLocalDateTime
import adventureworks.sales.salesorderheader.SalesorderheaderFields
import adventureworks.sales.salesorderheader.SalesorderheaderId
import adventureworks.sales.salesorderheader.SalesorderheaderRow
import adventureworks.sales.salesreason.SalesreasonFields
import adventureworks.sales.salesreason.SalesreasonId
import adventureworks.sales.salesreason.SalesreasonRow
import typr.dsl.ForeignKey
import typr.dsl.PGType
import typr.dsl.Path
import typr.dsl.RelationStructure
import typr.dsl.SqlExpr
import typr.dsl.SqlExpr.CompositeIn
import typr.dsl.SqlExpr.CompositeIn.TuplePart
import typr.dsl.SqlExpr.Const.As.as
import typr.dsl.SqlExpr.Field
import typr.dsl.SqlExpr.FieldLike
import typr.dsl.SqlExpr.IdField

trait SalesorderheadersalesreasonFields {
  def salesorderid: IdField[SalesorderheaderId, SalesorderheadersalesreasonRow]
  def salesreasonid: IdField[SalesreasonId, SalesorderheadersalesreasonRow]
  def modifieddate: Field[TypoLocalDateTime, SalesorderheadersalesreasonRow]
  def fkSalesorderheader: ForeignKey[SalesorderheaderFields, SalesorderheaderRow] =
    ForeignKey[SalesorderheaderFields, SalesorderheaderRow]("sales.FK_SalesOrderHeaderSalesReason_SalesOrderHeader_SalesOrderID", Nil)
      .withColumnPair(salesorderid, _.salesorderid)
  def fkSalesreason: ForeignKey[SalesreasonFields, SalesreasonRow] =
    ForeignKey[SalesreasonFields, SalesreasonRow]("sales.FK_SalesOrderHeaderSalesReason_SalesReason_SalesReasonID", Nil)
      .withColumnPair(salesreasonid, _.salesreasonid)
  def compositeIdIs(compositeId: SalesorderheadersalesreasonId): SqlExpr[Boolean] =
    salesorderid.isEqual(compositeId.salesorderid).and(salesreasonid.isEqual(compositeId.salesreasonid))
  def compositeIdIn(compositeIds: Array[SalesorderheadersalesreasonId]): SqlExpr[Boolean] =
    new CompositeIn(compositeIds)(TuplePart[SalesorderheadersalesreasonId](salesorderid)(_.salesorderid)(using as[Array[SalesorderheaderId]](using SalesorderheaderId.arrayJdbcEncoder, PGType.forArray(using SalesorderheaderId.pgType)), implicitly), TuplePart[SalesorderheadersalesreasonId](salesreasonid)(_.salesreasonid)(using as[Array[SalesreasonId]](using SalesreasonId.arrayJdbcEncoder, PGType.forArray(using SalesreasonId.pgType)), implicitly))

}

object SalesorderheadersalesreasonFields {
  lazy val structure: RelationStructure[SalesorderheadersalesreasonFields, SalesorderheadersalesreasonRow] =
    new Impl(List())

  private final class Impl(val _path: List[Path])
    extends RelationStructure[SalesorderheadersalesreasonFields, SalesorderheadersalesreasonRow] {

    override lazy val fields: SalesorderheadersalesreasonFields = new SalesorderheadersalesreasonFields {
      override def salesorderid = IdField[SalesorderheaderId, SalesorderheadersalesreasonRow](_path, "salesorderid", None, Some("int4"), x => x.salesorderid, (row, value) => row.copy(salesorderid = value))
      override def salesreasonid = IdField[SalesreasonId, SalesorderheadersalesreasonRow](_path, "salesreasonid", None, Some("int4"), x => x.salesreasonid, (row, value) => row.copy(salesreasonid = value))
      override def modifieddate = Field[TypoLocalDateTime, SalesorderheadersalesreasonRow](_path, "modifieddate", Some("text"), Some("timestamp"), x => x.modifieddate, (row, value) => row.copy(modifieddate = value))
    }

    override lazy val columns: List[FieldLike[?, SalesorderheadersalesreasonRow]] =
      List[FieldLike[?, SalesorderheadersalesreasonRow]](fields.salesorderid, fields.salesreasonid, fields.modifieddate)

    override def copy(path: List[Path]): Impl =
      new Impl(path)
  }
}
