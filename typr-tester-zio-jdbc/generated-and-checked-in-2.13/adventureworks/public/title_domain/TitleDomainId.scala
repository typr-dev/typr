/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.title_domain

import adventureworks.Text
import adventureworks.public.ShortText
import java.sql.Types
import typr.dsl.PGType
import zio.jdbc.JdbcDecoder
import zio.jdbc.JdbcEncoder
import zio.jdbc.SqlFragment.Setter
import zio.json.JsonDecoder
import zio.json.JsonEncoder

/** Type for the primary key of table `public.title_domain`. It has some known values: 
 *  - dr
 *  - mr
 *  - ms
 *  - phd
 */

sealed abstract class TitleDomainId(val value: ShortText)

object TitleDomainId {
  def apply(underlying: ShortText): TitleDomainId =
    ByName.getOrElse(underlying, Unknown(underlying))
  implicit lazy val arraySetter: Setter[Array[TitleDomainId]] = ShortText.arraySetter.contramap(_.map(_.value))

  implicit lazy val arrayJdbcDecoder: JdbcDecoder[Array[TitleDomainId]] = ShortText.arrayJdbcDecoder.map(a => if (a == null) null else a.map(apply))

  implicit lazy val arrayJdbcEncoder: JdbcEncoder[Array[TitleDomainId]] = JdbcEncoder.singleParamEncoder(arraySetter)

  implicit lazy val jdbcEncoder: JdbcEncoder[TitleDomainId] = ShortText.jdbcEncoder.contramap(_.value)

  implicit lazy val jdbcDecoder: JdbcDecoder[TitleDomainId] = ShortText.jdbcDecoder.map(TitleDomainId.apply)

  implicit lazy val setter: Setter[TitleDomainId] = ShortText.setter.contramap(_.value)

  implicit lazy val pgType: PGType[TitleDomainId] = PGType.instance[TitleDomainId](""""public"."short_text"""", Types.OTHER)

  implicit lazy val pgText: Text[TitleDomainId] = {
    new Text[TitleDomainId] {
      override def unsafeEncode(v: TitleDomainId, sb: StringBuilder): Unit = ShortText.pgText.unsafeEncode(v.value, sb)
      override def unsafeArrayEncode(v: TitleDomainId, sb: StringBuilder): Unit = ShortText.pgText.unsafeArrayEncode(v.value, sb)
    }
  }

  implicit lazy val jsonDecoder: JsonDecoder[TitleDomainId] = ShortText.jsonDecoder.map(TitleDomainId.apply)

  implicit lazy val jsonEncoder: JsonEncoder[TitleDomainId] = ShortText.jsonEncoder.contramap(_.value)

  def shortText(value: String): TitleDomainId = apply(new ShortText(value))

  case object dr extends TitleDomainId(new ShortText("dr"))

  case object mr extends TitleDomainId(new ShortText("mr"))

  case object ms extends TitleDomainId(new ShortText("ms"))

  case object phd extends TitleDomainId(new ShortText("phd"))
  case class Unknown(override val value: ShortText) extends TitleDomainId(value)
  val All: scala.List[TitleDomainId] = scala.List(dr, mr, ms, phd)
  val ByName: scala.collection.immutable.Map[ShortText, TitleDomainId] = All.map(x => (x.value, x)).toMap

}