/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices;

import java.math.BigDecimal;
import java.time.LocalDate;
import java.util.List;
import java.util.Optional;
import testdb.price_tiers.PriceTiersFields;
import testdb.price_tiers.PriceTiersId;
import testdb.price_tiers.PriceTiersRow;
import testdb.products.ProductsFields;
import testdb.products.ProductsId;
import testdb.products.ProductsRow;
import typr.dsl.FieldsExpr;
import typr.dsl.ForeignKey;
import typr.dsl.Path;
import typr.dsl.RelationStructure;
import typr.dsl.SqlExpr.Field;
import typr.dsl.SqlExpr.FieldLike;
import typr.dsl.SqlExpr.IdField;
import typr.dsl.SqlExpr.OptField;
import typr.runtime.MariaTypes;
import typr.runtime.RowParser;

public interface ProductPricesFields extends FieldsExpr<ProductPricesRow> {
  record Impl(List<Path> _path)
      implements ProductPricesFields, RelationStructure<ProductPricesFields, ProductPricesRow> {
    @Override
    public IdField<ProductPricesId, ProductPricesRow> priceId() {
      return new IdField<ProductPricesId, ProductPricesRow>(
          _path,
          "price_id",
          ProductPricesRow::priceId,
          Optional.empty(),
          Optional.empty(),
          (row, value) -> row.withPriceId(value),
          ProductPricesId.pgType);
    }
    ;

    @Override
    public Field<ProductsId, ProductPricesRow> productId() {
      return new Field<ProductsId, ProductPricesRow>(
          _path,
          "product_id",
          ProductPricesRow::productId,
          Optional.empty(),
          Optional.empty(),
          (row, value) -> row.withProductId(value),
          ProductsId.pgType);
    }
    ;

    @Override
    public OptField<PriceTiersId, ProductPricesRow> tierId() {
      return new OptField<PriceTiersId, ProductPricesRow>(
          _path,
          "tier_id",
          ProductPricesRow::tierId,
          Optional.empty(),
          Optional.empty(),
          (row, value) -> row.withTierId(value),
          PriceTiersId.pgType);
    }
    ;

    @Override
    public Field<BigDecimal, ProductPricesRow> price() {
      return new Field<BigDecimal, ProductPricesRow>(
          _path,
          "price",
          ProductPricesRow::price,
          Optional.empty(),
          Optional.empty(),
          (row, value) -> row.withPrice(value),
          MariaTypes.numeric);
    }
    ;

    @Override
    public Field<String, ProductPricesRow> currencyCode() {
      return new Field<String, ProductPricesRow>(
          _path,
          "currency_code",
          ProductPricesRow::currencyCode,
          Optional.empty(),
          Optional.empty(),
          (row, value) -> row.withCurrencyCode(value),
          MariaTypes.char_);
    }
    ;

    @Override
    public Field<LocalDate, ProductPricesRow> validFrom() {
      return new Field<LocalDate, ProductPricesRow>(
          _path,
          "valid_from",
          ProductPricesRow::validFrom,
          Optional.empty(),
          Optional.empty(),
          (row, value) -> row.withValidFrom(value),
          MariaTypes.date);
    }
    ;

    @Override
    public OptField<LocalDate, ProductPricesRow> validTo() {
      return new OptField<LocalDate, ProductPricesRow>(
          _path,
          "valid_to",
          ProductPricesRow::validTo,
          Optional.empty(),
          Optional.empty(),
          (row, value) -> row.withValidTo(value),
          MariaTypes.date);
    }
    ;

    @Override
    public List<FieldLike<?, ProductPricesRow>> columns() {
      return java.util.List.of(
          this.priceId(),
          this.productId(),
          this.tierId(),
          this.price(),
          this.currencyCode(),
          this.validFrom(),
          this.validTo());
    }
    ;

    @Override
    public RelationStructure<ProductPricesFields, ProductPricesRow> withPaths(List<Path> _path) {
      return new Impl(_path);
    }
    ;
  }
  ;

  static Impl structure() {
    return new Impl(java.util.Collections.emptyList());
  }
  ;

  IdField<ProductPricesId, ProductPricesRow> priceId();

  Field<ProductsId, ProductPricesRow> productId();

  OptField<PriceTiersId, ProductPricesRow> tierId();

  Field<BigDecimal, ProductPricesRow> price();

  Field<String, ProductPricesRow> currencyCode();

  Field<LocalDate, ProductPricesRow> validFrom();

  OptField<LocalDate, ProductPricesRow> validTo();

  default ForeignKey<ProductsFields, ProductsRow> fkProducts() {
    return ForeignKey.<ProductsFields, ProductsRow>of("fk_pp_product")
        .<ProductsId>withColumnPair(productId(), ProductsFields::productId);
  }
  ;

  default ForeignKey<PriceTiersFields, PriceTiersRow> fkPriceTiers() {
    return ForeignKey.<PriceTiersFields, PriceTiersRow>of("fk_pp_tier")
        .<PriceTiersId>withColumnPair(tierId(), PriceTiersFields::tierId);
  }
  ;

  @Override
  List<FieldLike<?, ProductPricesRow>> columns();

  @Override
  default RowParser<ProductPricesRow> rowParser() {
    return ProductPricesRow._rowParser;
  }
  ;
}
