/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.purchasing.shipmethod

import adventureworks.customtypes.Defaulted
import adventureworks.public.Name
import java.math.BigDecimal
import java.time.LocalDateTime
import java.util.UUID
import typo.kotlindsl.RowParser
import typo.kotlindsl.RowParsers
import typo.runtime.PgText
import typo.runtime.PgTypes

/** Table: purchasing.shipmethod
  * Shipping company lookup table.
  * Primary key: shipmethodid
  */
data class ShipmethodRow(
  /** Primary key for ShipMethod records.
    * Default: nextval('purchasing.shipmethod_shipmethodid_seq'::regclass)
    */
  val shipmethodid: ShipmethodId,
  /** Shipping company name. */
  val name: Name,
  /** Minimum shipping charge.
    * Default: 0.00
    * Constraint CK_ShipMethod_ShipBase affecting columns shipbase: ((shipbase > 0.00))
    */
  val shipbase: BigDecimal,
  /** Shipping charge per pound.
    * Default: 0.00
    * Constraint CK_ShipMethod_ShipRate affecting columns shiprate: ((shiprate > 0.00))
    */
  val shiprate: BigDecimal,
  /** Default: uuid_generate_v1() */
  val rowguid: UUID,
  /** Default: now() */
  val modifieddate: LocalDateTime
) {
  fun id(): ShipmethodId = shipmethodid

  fun toUnsavedRow(
    shipmethodid: Defaulted<ShipmethodId>,
    shipbase: Defaulted<BigDecimal>,
    shiprate: Defaulted<BigDecimal>,
    rowguid: Defaulted<UUID>,
    modifieddate: Defaulted<LocalDateTime>
  ): ShipmethodRowUnsaved = ShipmethodRowUnsaved(name, shipmethodid, shipbase, shiprate, rowguid, modifieddate)

  companion object {
    val _rowParser: RowParser<ShipmethodRow> = RowParsers.of(ShipmethodId.pgType, Name.pgType, PgTypes.numeric, PgTypes.numeric, PgTypes.uuid, PgTypes.timestamp, { t0, t1, t2, t3, t4, t5 -> ShipmethodRow(t0, t1, t2, t3, t4, t5) }, { row -> arrayOf<Any?>(row.shipmethodid, row.name, row.shipbase, row.shiprate, row.rowguid, row.modifieddate) })

    val pgText: PgText<ShipmethodRow> =
      PgText.from(_rowParser.underlying)
  }
}