/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.table_with_generated_columns

import com.fasterxml.jackson.annotation.JsonProperty
import typo.kotlindsl.RowParser
import typo.kotlindsl.RowParsers
import typo.runtime.PgText
import typo.runtime.PgTypes

/** Table: public.table-with-generated-columns
  * Primary key: name
  */
data class TableWithGeneratedColumnsRow(
  val name: TableWithGeneratedColumnsId,
  /** Generated ALWAYS, expression: 
  CASE
      WHEN (name IS NOT NULL) THEN 'no-name'::text
      WHEN (name = 'a'::text) THEN 'a-name'::text
      ELSE 'some-name'::text
  END */
  @JsonProperty("name-type-always") val nameTypeAlways: String
) {
  fun id(): TableWithGeneratedColumnsId = name

  fun toUnsavedRow(): TableWithGeneratedColumnsRowUnsaved = TableWithGeneratedColumnsRowUnsaved(name)

  companion object {
    val _rowParser: RowParser<TableWithGeneratedColumnsRow> = RowParsers.of(TableWithGeneratedColumnsId.pgType, PgTypes.text, { t0, t1 -> TableWithGeneratedColumnsRow(t0, t1) }, { row -> arrayOf<Any?>(row.name, row.nameTypeAlways) })

    val pgText: PgText<TableWithGeneratedColumnsRow> =
      PgText.from(_rowParser.underlying)
  }
}