/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes

import org.postgresql.util.PGInterval
import typo.runtime.PgRead
import typo.runtime.PgText
import typo.runtime.PgType
import typo.runtime.PgWrite
import typo.runtime.internal.arrayMap
import typo.runtime.internal.stringInterpolator.str

/** Interval type in PostgreSQL */
data class TypoInterval(
  val years: Int,
  val months: Int,
  val days: Int,
  val hours: Int,
  val minutes: Int,
  val seconds: Double
) {
  companion object {
    val pgText: PgText<TypoInterval> =
      PgText.textString.contramap({ v -> str("P", v.years.toString(), "Y", v.months.toString(), "M", v.days.toString(), "DT", v.hours.toString(), "H", v.minutes.toString(), "M", v.seconds.toString(), "S") })

    val pgType: PgType<TypoInterval> =
      PgType.of<TypoInterval>(
        "interval",
        PgRead.castJdbcObjectTo(PGInterval::class.java).map({ v: PGInterval -> TypoInterval(v.getYears(), v.getMonths(), v.getDays(), v.getHours(), v.getMinutes(), v.getSeconds()) }),
        PgWrite.passObjectToJdbc<PGInterval>().contramap({ v: TypoInterval -> PGInterval(v.years, v.months, v.days, v.hours, v.minutes, v.seconds) }),
        TypoInterval.pgText
      )

    val pgTypeArray: PgType<Array<TypoInterval>> =
      TypoInterval.pgType.array(PgRead.castJdbcArrayTo(PGInterval::class.java).map({ xs: Array<PGInterval> -> arrayMap.map(xs, { v: PGInterval -> TypoInterval(v.getYears(), v.getMonths(), v.getDays(), v.getHours(), v.getMinutes(), v.getSeconds()) }, TypoInterval::class.java) }), PgWrite.passObjectToJdbc<PGInterval>().array(TypoInterval.pgType.typename().`as`<PGInterval>()).contramap({ xs: Array<TypoInterval> -> arrayMap.map(xs, { v: TypoInterval -> PGInterval(v.years, v.months, v.days, v.hours, v.minutes, v.seconds) }, PGInterval::class.java) }))
  }
}