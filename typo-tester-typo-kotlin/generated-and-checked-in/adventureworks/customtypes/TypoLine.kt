/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes

import org.postgresql.geometric.PGline
import typo.runtime.PgRead
import typo.runtime.PgText
import typo.runtime.PgType
import typo.runtime.PgWrite
import typo.runtime.internal.arrayMap
import typo.runtime.internal.stringInterpolator.str

/** This implements a line represented by the linear equation Ax + By + C = 0 */
data class TypoLine(
  val a: Double,
  val b: Double,
  val c: Double
) {
  companion object {
    val pgText: PgText<TypoLine> =
      PgText.textString.contramap({ v -> str("{", v.a.toString(), ",", v.b.toString(), ",", v.c.toString(), "}") })

    val pgType: PgType<TypoLine> =
      PgType.of<TypoLine>(
        "line",
        PgRead.castJdbcObjectTo(PGline::class.java).map({ v: PGline -> TypoLine(v.a, v.b, v.c) }),
        PgWrite.passObjectToJdbc<PGline>().contramap({ v: TypoLine -> PGline(v.a, v.b, v.c) }),
        TypoLine.pgText
      )

    val pgTypeArray: PgType<Array<TypoLine>> =
      TypoLine.pgType.array(PgRead.castJdbcArrayTo(PGline::class.java).map({ xs: Array<PGline> -> arrayMap.map(xs, { v: PGline -> TypoLine(v.a, v.b, v.c) }, TypoLine::class.java) }), PgWrite.passObjectToJdbc<PGline>().array(TypoLine.pgType.typename().`as`<PGline>()).contramap({ xs: Array<TypoLine> -> arrayMap.map(xs, { v: TypoLine -> PGline(v.a, v.b, v.c) }, PGline::class.java) }))
  }
}