/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes

import com.fasterxml.jackson.annotation.JsonValue
import typo.dsl.Bijection
import typo.runtime.PgRead
import typo.runtime.PgText
import typo.runtime.PgType
import typo.runtime.PgTypes
import typo.runtime.PgWrite
import typo.runtime.internal.arrayMap

/** Short primitive */
data class TypoShort(@JsonValue val value: Short) {
  companion object {
    val bijection: Bijection<TypoShort, Short> =
      Bijection.of(TypoShort::value, ::TypoShort)

    val pgText: PgText<TypoShort> =
      PgText.textShort.contramap({ v -> v.value })

    val pgType: PgType<TypoShort> =
      PgTypes.int4.bimap({ v: Int -> TypoShort(v.toShort()) }, { v: TypoShort -> v.value.toInt() }).renamed("int2")

    val pgTypeArray: PgType<Array<TypoShort>> =
      TypoShort.pgType.array(PgRead.massageJdbcArrayTo(Array<Short>::class.java).map({ xs: Array<Short> -> arrayMap.map(xs, { v: Short -> TypoShort(v) }, TypoShort::class.java) }), PgWrite.passObjectToJdbc<Short>().array(TypoShort.pgType.typename().`as`<Short>()).contramap({ xs: Array<TypoShort> -> arrayMap.map(xs, { v: TypoShort -> v.value }, Short::class.javaObjectType) }))
  }
}