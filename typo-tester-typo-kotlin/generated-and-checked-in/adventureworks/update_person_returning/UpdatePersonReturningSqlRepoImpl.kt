/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.update_person_returning

import java.sql.Connection
import java.time.LocalDateTime
import kotlin.collections.List
import typo.kotlindsl.Fragment
import typo.kotlindsl.nullable
import typo.runtime.PgTypes

class UpdatePersonReturningSqlRepoImpl() : UpdatePersonReturningSqlRepo {
  override fun apply(
    suffix: /* nullability unknown */ String?,
    cutoff: /* nullability unknown */ LocalDateTime?,
    c: Connection
  ): List<UpdatePersonReturningSqlRow> = Fragment.interpolate(Fragment.lit("update person.person\nset firstname = firstname || '-' || "), Fragment.encode(PgTypes.text.nullable(), suffix), Fragment.lit("\nwhere modifieddate < "), Fragment.encode(PgTypes.timestamp.nullable(), cutoff), Fragment.lit("::timestamp\nreturning firstname, modifieddate")).query(UpdatePersonReturningSqlRow._rowParser.all()).runUnchecked(c)
}