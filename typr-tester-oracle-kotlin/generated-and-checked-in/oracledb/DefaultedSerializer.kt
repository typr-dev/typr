/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package oracledb

import com.fasterxml.jackson.core.JsonGenerator
import com.fasterxml.jackson.databind.JsonSerializer
import com.fasterxml.jackson.databind.SerializerProvider
import java.io.IOException
import oracledb.customtypes.Defaulted
import oracledb.customtypes.Defaulted.Provided
import oracledb.customtypes.Defaulted.UseDefault

/** Jackson serializer for Defaulted types */
class DefaultedSerializer() : JsonSerializer<Defaulted<*>>() {
  @Throws(IOException::class)
  override fun serialize(
    value: Defaulted<*>,
    gen: JsonGenerator,
    serializers: SerializerProvider
  ) {
    when (val __r = value) {
      null -> gen.writeNull()
      is UseDefault<*> -> { val u = __r as UseDefault<*>; gen.writeString("defaulted") }
      is Provided<*> -> {
        val p = __r as Provided<*>
        gen.writeStartObject();
          gen.writeFieldName("provided");
          serializers.defaultSerializeValue(p.value, gen);
          gen.writeEndObject();
      }
      else -> throw IOException("Unknown Defaulted subtype: " + value.javaClass.name)
    }
  }
}