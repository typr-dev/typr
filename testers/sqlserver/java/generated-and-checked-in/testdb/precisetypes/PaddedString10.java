/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.precisetypes;

import com.fasterxml.jackson.annotation.JsonValue;
import dev.typr.foundations.SqlServerType;
import dev.typr.foundations.SqlServerTypes;
import dev.typr.foundations.data.precise.PaddedStringN;
import dev.typr.foundations.dsl.Bijection;
import java.util.Optional;

public record PaddedString10(@JsonValue String value) implements PaddedStringN {
  @java.lang.Deprecated
  public PaddedString10 {}
  ;

  public PaddedString10 withValue(String value) {
    return new PaddedString10(value);
  }
  ;

  @Override
  public java.lang.String toString() {
    return value.toString();
  }
  ;

  public static Bijection<PaddedString10, String> bijection =
      Bijection.of(PaddedString10::value, PaddedString10::new);

  public static Optional<PaddedString10> of(String value) {
    return (value.length() <= 10
        ? Optional.of(new PaddedString10(String.format("%-10s", value)))
        : Optional.empty());
  }
  ;

  public static SqlServerType<PaddedString10> sqlServerType =
      SqlServerTypes.char_.bimap(PaddedString10::new, PaddedString10::value);

  public static PaddedString10 unsafeForce(String value) {
    if (value.length() > 10) {
      throw new IllegalArgumentException("Value length ${value.length()} exceeds fixed length 10");
    }
    ;
    return new PaddedString10(String.format("%-10s", value));
  }
  ;

  @Override
  public boolean equals(Object obj) {
    if (this == obj) return true;
    if (!(obj instanceof PaddedStringN other)) return false;
    return trimmed().equals(other.trimmed());
  }
  ;

  @Override
  public int hashCode() {
    return trimmed().hashCode();
  }
  ;

  @Override
  public int length() {
    return 10;
  }
  ;

  @Override
  public String rawValue() {
    return value;
  }
  ;

  @Override
  public boolean semanticEquals(PaddedStringN other) {
    return (other == null ? false : trimmed().equals(other.trimmed()));
  }
  ;

  @Override
  public int semanticHashCode() {
    return trimmed().hashCode();
  }
  ;

  @Override
  public String trimmed() {
    return value.stripTrailing();
  }
  ;
}
