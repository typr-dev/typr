/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.update_customer_email

import dev.typr.foundations.SqlServerTypes
import dev.typr.foundations.kotlin.Fragment
import dev.typr.foundations.kotlin.KotlinDbTypes
import java.sql.Connection

class UpdateCustomerEmailSqlRepoImpl() : UpdateCustomerEmailSqlRepo {
  override fun apply(
    newEmail: String,
    customerId: Int,
    c: Connection
  ): Int = Fragment.interpolate(Fragment.lit("-- Update customer email\nUPDATE customers\nSET email = "), Fragment.encode(SqlServerTypes.nvarchar, newEmail), Fragment.lit("\nWHERE customer_id = "), Fragment.encode(KotlinDbTypes.SqlServerTypes.int_, customerId), Fragment.lit("\n")).update().runUnchecked(c)
}