/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package oracledb.customers

import com.fasterxml.jackson.annotation.JsonProperty
import java.time.LocalDateTime
import oracledb.AddressT
import oracledb.MoneyT
import oracledb.customtypes.Defaulted
import oracledb.customtypes.Defaulted.UseDefault

/** This class corresponds to a row in table `CUSTOMERS` which has not been persisted yet */
data class CustomersRowUnsaved(
  @field:JsonProperty("NAME") val name: String,
  @field:JsonProperty("BILLING_ADDRESS") val billingAddress: AddressT,
  @field:JsonProperty("CREDIT_LIMIT") val creditLimit: MoneyT? = null,
  /** Default: "TYPR"."ISEQ$$_72850".nextval */
  @field:JsonProperty("CUSTOMER_ID") val customerId: Defaulted<CustomersId> = UseDefault(),
  /** Default: SYSTIMESTAMP  */
  @field:JsonProperty("CREATED_AT") val createdAt: Defaulted<LocalDateTime> = UseDefault()
) {
  fun toRow(
    customerIdDefault: () -> CustomersId,
    createdAtDefault: () -> LocalDateTime
  ): CustomersRow = CustomersRow(customerId = customerId.getOrElse(customerIdDefault), name = name, billingAddress = billingAddress, creditLimit = creditLimit, createdAt = createdAt.getOrElse(createdAtDefault))
}