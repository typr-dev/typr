/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package oracledb.precisetypes;

import com.fasterxml.jackson.annotation.JsonValue;
import dev.typr.foundations.OracleType;
import dev.typr.foundations.OracleTypes;
import dev.typr.foundations.RowParser;
import dev.typr.foundations.RowParsers;
import dev.typr.foundations.data.precise.NonEmptyStringN;
import dev.typr.foundations.dsl.Bijection;
import java.util.Optional;

public record NonEmptyString50(@JsonValue String value) implements NonEmptyStringN {
  @java.lang.Deprecated
  public NonEmptyString50 {}
  ;

  public NonEmptyString50 withValue(String value) {
    return new NonEmptyString50(value);
  }
  ;

  @Override
  public java.lang.String toString() {
    return value.toString();
  }
  ;

  public static RowParser<NonEmptyString50> _rowParser =
      RowParsers.of(
          OracleTypes.varchar2.bimap(NonEmptyString50::new, NonEmptyString50::value),
          x -> x,
          id -> new Object[] {id});

  public static Bijection<NonEmptyString50, String> bijection =
      Bijection.of(NonEmptyString50::value, NonEmptyString50::new);

  public static Optional<NonEmptyString50> of(String value) {
    return (!value.isEmpty() && value.length() <= 50
        ? Optional.of(new NonEmptyString50(value))
        : Optional.empty());
  }
  ;

  public static OracleType<NonEmptyString50> oracleType =
      OracleTypes.varchar2.bimap(NonEmptyString50::new, NonEmptyString50::value);

  public static NonEmptyString50 truncate(String value) {
    return new NonEmptyString50((value.length() <= 50 ? value : value.substring(0, 50)));
  }
  ;

  public static NonEmptyString50 unsafeForce(String value) {
    if (value == null || value.isEmpty()) {
      throw new IllegalArgumentException("Value must not be null or empty");
    }
    ;
    if (value.length() > 50) {
      throw new IllegalArgumentException("Value length ${value.length()} exceeds maximum 50");
    }
    ;
    return new NonEmptyString50(value);
  }
  ;

  @Override
  public boolean equals(Object obj) {
    if (this == obj) return true;
    if (!(obj instanceof NonEmptyStringN other)) return false;
    return value.equals(other.rawValue());
  }
  ;

  @Override
  public int hashCode() {
    return value.hashCode();
  }
  ;

  @Override
  public int maxLength() {
    return 50;
  }
  ;

  @Override
  public String rawValue() {
    return value;
  }
  ;

  @Override
  public boolean semanticEquals(NonEmptyStringN other) {
    return (other == null ? false : value.equals(other.rawValue()));
  }
  ;

  @Override
  public int semanticHashCode() {
    return value.hashCode();
  }
  ;
}
