/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package oracledb.precisetypes;

import com.fasterxml.jackson.annotation.JsonValue;
import dev.typr.foundations.OracleType;
import dev.typr.foundations.OracleTypes;
import dev.typr.foundations.data.precise.DecimalN;
import dev.typr.foundations.dsl.Bijection;
import java.math.BigDecimal;
import java.math.BigInteger;
import java.util.Optional;

public record Int18(@JsonValue BigInteger value) implements DecimalN {
  @java.lang.Deprecated
  public Int18 {}
  ;

  public Int18 withValue(BigInteger value) {
    return new Int18(value);
  }
  ;

  @Override
  public java.lang.String toString() {
    return value.toString();
  }
  ;

  public static Int18 Zero = new Int18(BigInteger.ZERO);

  public static Bijection<Int18, BigInteger> bijection = Bijection.of(Int18::value, Int18::new);

  public static Optional<Int18> of(BigInteger value) {
    return (value.bitLength() <= 72 ? Optional.of(new Int18(value)) : Optional.empty());
  }
  ;

  public static Int18 of(Integer value) {
    return new Int18(BigInteger.valueOf((long) (value)));
  }
  ;

  public static Optional<Int18> of(Long value) {
    return Int18.of(BigInteger.valueOf(value));
  }
  ;

  public static OracleType<Int18> oracleType =
      OracleTypes.number.bimap(
          bd -> new Int18(bd.toBigIntegerExact()), v -> new BigDecimal(v.value()));

  public static Int18 unsafeForce(BigInteger value) {
    if (value.bitLength() > 72) {
      throw new IllegalArgumentException("Value exceeds precision(18, 0)");
    }
    ;
    return new Int18(value);
  }
  ;

  @Override
  public BigDecimal decimalValue() {
    return new BigDecimal(value);
  }
  ;

  @Override
  public boolean equals(Object obj) {
    if (this == obj) return true;
    if (!(obj instanceof DecimalN other)) return false;
    return decimalValue().compareTo(other.decimalValue()) == 0;
  }
  ;

  @Override
  public int hashCode() {
    return decimalValue().stripTrailingZeros().hashCode();
  }
  ;

  @Override
  public int precision() {
    return 18;
  }
  ;

  @Override
  public int scale() {
    return 0;
  }
  ;

  @Override
  public boolean semanticEquals(DecimalN other) {
    return (other == null ? false : decimalValue().compareTo(other.decimalValue()) == 0);
  }
  ;

  @Override
  public int semanticHashCode() {
    return decimalValue().stripTrailingZeros().hashCode();
  }
  ;
}
