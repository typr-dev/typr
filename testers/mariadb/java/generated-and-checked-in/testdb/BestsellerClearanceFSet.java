/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb;

import dev.typr.foundations.MariaType;
import dev.typr.foundations.MariaTypes;
import dev.typr.foundations.data.maria.MariaSet;
import java.util.EnumSet;
import java.util.List;
import java.util.Set;
import java.util.StringJoiner;

/** MariaDB SET type with values: bestseller, clearance, featured, new, sale */
public record BestsellerClearanceFSet(Set<BestsellerClearanceFSetMember> members) {
  public BestsellerClearanceFSet withMembers(Set<BestsellerClearanceFSetMember> members) {
    return new BestsellerClearanceFSet(members);
  }
  ;

  public static BestsellerClearanceFSet empty() {
    return new BestsellerClearanceFSet(EnumSet.noneOf(BestsellerClearanceFSetMember.class));
  }
  ;

  public static BestsellerClearanceFSet fromString(String str) {
    if (str == null || str.isEmpty()) {
      return new BestsellerClearanceFSet(EnumSet.noneOf(BestsellerClearanceFSetMember.class));
    }
    ;
    var set = EnumSet.noneOf(BestsellerClearanceFSetMember.class);
    for (String v : str.split(",")) {
      var member = BestsellerClearanceFSetMember.ByName.get(v.trim());
      if (member != null) {
        set.add(member);
      }
    }
    ;
    return new BestsellerClearanceFSet(set);
  }
  ;

  public static MariaType<BestsellerClearanceFSet> mariaType =
      MariaTypes.set.bimap(
          (MariaSet ms) -> BestsellerClearanceFSet.fromString(ms.toCommaSeparated()),
          (BestsellerClearanceFSet s) -> MariaSet.fromString(s.toCommaSeparated()));

  public static BestsellerClearanceFSet of(List<BestsellerClearanceFSetMember> members) {
    if (members.isEmpty()) {
      return new BestsellerClearanceFSet(EnumSet.noneOf(BestsellerClearanceFSetMember.class));
    }
    ;
    return new BestsellerClearanceFSet(EnumSet.copyOf(members));
  }
  ;

  public Boolean contains(BestsellerClearanceFSetMember member) {
    return members.contains(member);
  }
  ;

  public Boolean isEmpty() {
    return members.isEmpty();
  }
  ;

  public Integer size() {
    return members.size();
  }
  ;

  public String toCommaSeparated() {
    var joiner = new StringJoiner(",");
    for (var m : members) {
      joiner.add(m.value);
    }
    ;
    return joiner.toString();
  }
  ;

  @Override
  public String toString() {
    return toCommaSeparated();
  }
  ;
}
