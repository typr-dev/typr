/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.order_history;

import com.fasterxml.jackson.annotation.JsonProperty;
import dev.typr.foundations.MariaTypes;
import dev.typr.foundations.RowParser;
import dev.typr.foundations.RowParsers;
import dev.typr.foundations.Tuple.Tuple8;
import dev.typr.foundations.data.Json;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import testdb.orders.OrdersId;

/** Table: order_history Primary key: history_id */
public record OrderHistoryRow(
    /** AUTO_INCREMENT */
    @JsonProperty("history_id") OrderHistoryId historyId,
    /** Points to {@link testdb.orders.OrdersRow#orderId()} */
    @JsonProperty("order_id") OrdersId orderId,
    /** Default: NULL */
    @JsonProperty("previous_status") Optional<String> previousStatus,
    /** */
    @JsonProperty("new_status") String newStatus,
    /** Default: NULL */
    @JsonProperty("changed_by") Optional<String> changedBy,
    /** Default: NULL */
    @JsonProperty("change_reason") Optional<String> changeReason,
    /** Default: NULL */
    Optional<Json> metadata,
    /** Default: current_timestamp(6) */
    @JsonProperty("created_at") LocalDateTime createdAt)
    implements Tuple8<
        OrderHistoryId,
        OrdersId,
        Optional<String>,
        String,
        Optional<String>,
        Optional<String>,
        Optional<Json>,
        LocalDateTime> {
  /** AUTO_INCREMENT */
  public OrderHistoryRow withHistoryId(OrderHistoryId historyId) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  /** Points to {@link testdb.orders.OrdersRow#orderId()} */
  public OrderHistoryRow withOrderId(OrdersId orderId) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRow withPreviousStatus(Optional<String> previousStatus) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  /** */
  public OrderHistoryRow withNewStatus(String newStatus) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRow withChangedBy(Optional<String> changedBy) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRow withChangeReason(Optional<String> changeReason) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  /** Default: NULL */
  public OrderHistoryRow withMetadata(Optional<Json> metadata) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  /** Default: current_timestamp(6) */
  public OrderHistoryRow withCreatedAt(LocalDateTime createdAt) {
    return new OrderHistoryRow(
        historyId,
        orderId,
        previousStatus,
        newStatus,
        changedBy,
        changeReason,
        metadata,
        createdAt);
  }
  ;

  public static RowParser<OrderHistoryRow> _rowParser =
      RowParsers.of(
          OrderHistoryId.mariaType,
          OrdersId.mariaType,
          MariaTypes.text.opt(),
          MariaTypes.text,
          MariaTypes.varchar.opt(),
          MariaTypes.varchar.opt(),
          MariaTypes.json.opt(),
          MariaTypes.datetime,
          OrderHistoryRow::new,
          row ->
              new Object[] {
                row.historyId(),
                row.orderId(),
                row.previousStatus(),
                row.newStatus(),
                row.changedBy(),
                row.changeReason(),
                row.metadata(),
                row.createdAt()
              });
  ;

  @Override
  public OrderHistoryId _1() {
    return historyId;
  }
  ;

  @Override
  public OrdersId _2() {
    return orderId;
  }
  ;

  @Override
  public Optional<String> _3() {
    return previousStatus;
  }
  ;

  @Override
  public String _4() {
    return newStatus;
  }
  ;

  @Override
  public Optional<String> _5() {
    return changedBy;
  }
  ;

  @Override
  public Optional<String> _6() {
    return changeReason;
  }
  ;

  @Override
  public Optional<Json> _7() {
    return metadata;
  }
  ;

  @Override
  public LocalDateTime _8() {
    return createdAt;
  }
  ;

  public OrderHistoryId id() {
    return historyId;
  }
  ;

  public OrderHistoryRowUnsaved toUnsavedRow(
      Defaulted<Optional<String>> previousStatus,
      Defaulted<Optional<String>> changedBy,
      Defaulted<Optional<String>> changeReason,
      Defaulted<Optional<Json>> metadata,
      Defaulted<LocalDateTime> createdAt) {
    return new OrderHistoryRowUnsaved(
        orderId, newStatus, previousStatus, changedBy, changeReason, metadata, createdAt);
  }
  ;
}
