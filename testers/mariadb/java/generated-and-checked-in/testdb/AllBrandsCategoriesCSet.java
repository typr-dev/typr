/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb;

import dev.typr.foundations.MariaType;
import dev.typr.foundations.MariaTypes;
import dev.typr.foundations.data.maria.MariaSet;
import java.util.EnumSet;
import java.util.List;
import java.util.Set;
import java.util.StringJoiner;

/** MariaDB SET type with values: all, brands, categories, customers, products */
public record AllBrandsCategoriesCSet(Set<AllBrandsCategoriesCSetMember> members) {
  public AllBrandsCategoriesCSet withMembers(Set<AllBrandsCategoriesCSetMember> members) {
    return new AllBrandsCategoriesCSet(members);
  }
  ;

  public static AllBrandsCategoriesCSet empty() {
    return new AllBrandsCategoriesCSet(EnumSet.noneOf(AllBrandsCategoriesCSetMember.class));
  }
  ;

  public static AllBrandsCategoriesCSet fromString(String str) {
    if (str == null || str.isEmpty()) {
      return new AllBrandsCategoriesCSet(EnumSet.noneOf(AllBrandsCategoriesCSetMember.class));
    }
    ;
    var set = EnumSet.noneOf(AllBrandsCategoriesCSetMember.class);
    for (String v : str.split(",")) {
      var member = AllBrandsCategoriesCSetMember.ByName.get(v.trim());
      if (member != null) {
        set.add(member);
      }
    }
    ;
    return new AllBrandsCategoriesCSet(set);
  }
  ;

  public static MariaType<AllBrandsCategoriesCSet> mariaType =
      MariaTypes.set.bimap(
          (MariaSet ms) -> AllBrandsCategoriesCSet.fromString(ms.toCommaSeparated()),
          (AllBrandsCategoriesCSet s) -> MariaSet.fromString(s.toCommaSeparated()));

  public static AllBrandsCategoriesCSet of(List<AllBrandsCategoriesCSetMember> members) {
    if (members.isEmpty()) {
      return new AllBrandsCategoriesCSet(EnumSet.noneOf(AllBrandsCategoriesCSetMember.class));
    }
    ;
    return new AllBrandsCategoriesCSet(EnumSet.copyOf(members));
  }
  ;

  public Boolean contains(AllBrandsCategoriesCSetMember member) {
    return members.contains(member);
  }
  ;

  public Boolean isEmpty() {
    return members.isEmpty();
  }
  ;

  public Integer size() {
    return members.size();
  }
  ;

  public String toCommaSeparated() {
    var joiner = new StringJoiner(",");
    for (var m : members) {
      joiner.add(m.value);
    }
    ;
    return joiner.toString();
  }
  ;

  @Override
  public String toString() {
    return toCommaSeparated();
  }
  ;
}
