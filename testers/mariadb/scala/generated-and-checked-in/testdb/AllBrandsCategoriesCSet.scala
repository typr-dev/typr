/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb

import dev.typr.foundations.MariaType
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.data.maria.MariaSet
import scala.collection.immutable.Set

/** MariaDB SET type with values: all, brands, categories, customers, products */
case class AllBrandsCategoriesCSet(members: Set[AllBrandsCategoriesCSetMember]) {
  def contains(member: AllBrandsCategoriesCSetMember): Boolean = members.contains(member)

  def isEmpty: Boolean = members.isEmpty

  def size: Int = members.size

  def toCommaSeparated: String = members.map(_.value).mkString(",")

  override def toString: String = toCommaSeparated
}

object AllBrandsCategoriesCSet {
  def empty: AllBrandsCategoriesCSet = AllBrandsCategoriesCSet(Set.empty)

  def fromString(str: String): AllBrandsCategoriesCSet = {
    {
      if (str == null || str.isEmpty) AllBrandsCategoriesCSet(Set.empty)
      else AllBrandsCategoriesCSet(str.split(",").flatMap(v => AllBrandsCategoriesCSetMember.ByName.get(v.trim)).toSet)
    }
  }

  given mariaType: MariaType[AllBrandsCategoriesCSet] = MariaTypes.set.bimap((ms: MariaSet) => AllBrandsCategoriesCSet.fromString(ms.toCommaSeparated), (s: AllBrandsCategoriesCSet) => MariaSet.fromString(s.toCommaSeparated))

  def of(members: List[AllBrandsCategoriesCSetMember]): AllBrandsCategoriesCSet = AllBrandsCategoriesCSet(members.toSet)
}