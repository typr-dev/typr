/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.audit_log

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.Tuple.Tuple10
import dev.typr.foundations.data.Json
import dev.typr.foundations.data.maria.Inet6
import dev.typr.foundations.scala.DbTypeOps
import dev.typr.foundations.scala.RowParser
import dev.typr.foundations.scala.RowParsers
import java.time.LocalDateTime
import testdb.customtypes.Defaulted

/** Table: audit_log
 * Primary key: log_id
 */
case class AuditLogRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("log_id") logId: AuditLogId,
  /**  */
  @JsonProperty("table_name") tableName: String,
  /**  */
  @JsonProperty("record_id") recordId: String,
  /**  */
  action: String,
  /** 
   * Default: NULL
   */
  @JsonProperty("old_values") oldValues: Option[Json],
  /** 
   * Default: NULL
   */
  @JsonProperty("new_values") newValues: Option[Json],
  /** 
   * Default: NULL
   */
  @JsonProperty("changed_by") changedBy: Option[String],
  /** 
   * Default: current_timestamp(6)
   */
  @JsonProperty("changed_at") changedAt: LocalDateTime,
  /** 
   * Default: NULL
   */
  @JsonProperty("client_ip") clientIp: Option[Inet6],
  /** 
   * Default: NULL
   */
  @JsonProperty("session_id") sessionId: Option[Array[Byte]]
) extends Tuple10[AuditLogId, String, String, String, Option[Json], Option[Json], Option[String], LocalDateTime, Option[Inet6], Option[Array[Byte]]] {
  def id: AuditLogId = logId

  def toUnsavedRow(
    oldValues: Defaulted[Option[Json]] = Defaulted.Provided(this.oldValues),
    newValues: Defaulted[Option[Json]] = Defaulted.Provided(this.newValues),
    changedBy: Defaulted[Option[String]] = Defaulted.Provided(this.changedBy),
    changedAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.changedAt),
    clientIp: Defaulted[Option[Inet6]] = Defaulted.Provided(this.clientIp),
    sessionId: Defaulted[Option[Array[Byte]]] = Defaulted.Provided(this.sessionId)
  ): AuditLogRowUnsaved = {
    new AuditLogRowUnsaved(
      tableName,
      recordId,
      action,
      oldValues,
      newValues,
      changedBy,
      changedAt,
      clientIp,
      sessionId
    )
  }

  override def `_1`: AuditLogId = logId

  override def `_2`: String = tableName

  override def `_3`: String = recordId

  override def `_4`: String = action

  override def `_5`: Option[Json] = oldValues

  override def `_6`: Option[Json] = newValues

  override def `_7`: Option[String] = changedBy

  override def `_8`: LocalDateTime = changedAt

  override def `_9`: Option[Inet6] = clientIp

  override def `_10`: Option[Array[Byte]] = sessionId
}

object AuditLogRow {
  val `_rowParser`: RowParser[AuditLogRow] = RowParsers.of(AuditLogId.mariaType, MariaTypes.varchar, MariaTypes.varchar, MariaTypes.text, MariaTypes.json.nullable, MariaTypes.json.nullable, MariaTypes.varchar.nullable, MariaTypes.datetime, MariaTypes.inet6.nullable, MariaTypes.varbinary.nullable)(AuditLogRow.apply)(row => Array[Any](row.logId, row.tableName, row.recordId, row.action, row.oldValues, row.newValues, row.changedBy, row.changedAt, row.clientIp, row.sessionId))
}