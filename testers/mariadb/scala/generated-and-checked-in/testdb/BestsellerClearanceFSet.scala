/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb

import dev.typr.foundations.MariaType
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.data.maria.MariaSet
import scala.collection.immutable.Set

/** MariaDB SET type with values: bestseller, clearance, featured, new, sale */
case class BestsellerClearanceFSet(members: Set[BestsellerClearanceFSetMember]) {
  def contains(member: BestsellerClearanceFSetMember): Boolean = members.contains(member)

  def isEmpty: Boolean = members.isEmpty

  def size: Int = members.size

  def toCommaSeparated: String = members.map(_.value).mkString(",")

  override def toString: String = toCommaSeparated
}

object BestsellerClearanceFSet {
  def empty: BestsellerClearanceFSet = BestsellerClearanceFSet(Set.empty)

  def fromString(str: String): BestsellerClearanceFSet = {
    {
      if (str == null || str.isEmpty) BestsellerClearanceFSet(Set.empty)
      else BestsellerClearanceFSet(str.split(",").flatMap(v => BestsellerClearanceFSetMember.ByName.get(v.trim)).toSet)
    }
  }

  given mariaType: MariaType[BestsellerClearanceFSet] = MariaTypes.set.bimap((ms: MariaSet) => BestsellerClearanceFSet.fromString(ms.toCommaSeparated), (s: BestsellerClearanceFSet) => MariaSet.fromString(s.toCommaSeparated))

  def of(members: List[BestsellerClearanceFSetMember]): BestsellerClearanceFSet = BestsellerClearanceFSet(members.toSet)
}