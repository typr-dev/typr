/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.Tuple.Tuple7
import dev.typr.foundations.scala.DbTypeOps
import dev.typr.foundations.scala.RowParser
import dev.typr.foundations.scala.RowParsers
import dev.typr.foundations.scala.ScalaDbTypes
import java.time.LocalDate
import testdb.customtypes.Defaulted
import testdb.price_tiers.PriceTiersId
import testdb.products.ProductsId

/** Table: product_prices
 * Primary key: price_id
 */
case class ProductPricesRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("price_id") priceId: ProductPricesId,
  /** 
   * Points to [[testdb.products.ProductsRow.productId]]
   */
  @JsonProperty("product_id") productId: ProductsId,
  /** 
   * Default: NULL
   * Points to [[testdb.price_tiers.PriceTiersRow.tierId]]
   */
  @JsonProperty("tier_id") tierId: Option[PriceTiersId],
  /**  */
  price: BigDecimal,
  /** 
   * Default: 'USD'
   */
  @JsonProperty("currency_code") currencyCode: String,
  /**  */
  @JsonProperty("valid_from") validFrom: LocalDate,
  /** 
   * Default: NULL
   */
  @JsonProperty("valid_to") validTo: Option[LocalDate]
) extends Tuple7[ProductPricesId, ProductsId, Option[PriceTiersId], BigDecimal, String, LocalDate, Option[LocalDate]] {
  def id: ProductPricesId = priceId

  def toUnsavedRow(
    tierId: Defaulted[Option[PriceTiersId]] = Defaulted.Provided(this.tierId),
    currencyCode: Defaulted[String] = Defaulted.Provided(this.currencyCode),
    validTo: Defaulted[Option[LocalDate]] = Defaulted.Provided(this.validTo)
  ): ProductPricesRowUnsaved = {
    new ProductPricesRowUnsaved(
      productId,
      price,
      validFrom,
      tierId,
      currencyCode,
      validTo
    )
  }

  override def `_1`: ProductPricesId = priceId

  override def `_2`: ProductsId = productId

  override def `_3`: Option[PriceTiersId] = tierId

  override def `_4`: BigDecimal = price

  override def `_5`: String = currencyCode

  override def `_6`: LocalDate = validFrom

  override def `_7`: Option[LocalDate] = validTo
}

object ProductPricesRow {
  val `_rowParser`: RowParser[ProductPricesRow] = RowParsers.of(ProductPricesId.mariaType, ProductsId.mariaType, PriceTiersId.mariaType.nullable, ScalaDbTypes.MariaTypes.numeric, MariaTypes.char_, MariaTypes.date, MariaTypes.date.nullable)(ProductPricesRow.apply)(row => Array[Any](row.priceId, row.productId, row.tierId, row.price, row.currencyCode, row.validFrom, row.validTo))
}