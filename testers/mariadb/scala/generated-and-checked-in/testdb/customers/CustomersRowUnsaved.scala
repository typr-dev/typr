/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.customers

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.data.Json
import java.time.LocalDateTime
import testdb.EmailMailPushSmsSet
import testdb.customer_status.CustomerStatusId
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import testdb.userdefined.Email
import testdb.userdefined.FirstName
import testdb.userdefined.LastName

/** This class corresponds to a row in table `customers` which has not been persisted yet */
case class CustomersRowUnsaved(
  /**  */
  email: /* user-picked */ Email,
  /**  */
  @JsonProperty("password_hash") passwordHash: Array[Byte],
  /**  */
  @JsonProperty("first_name") firstName: /* user-picked */ FirstName,
  /**  */
  @JsonProperty("last_name") lastName: /* user-picked */ LastName,
  /** Default: NULL

   */
  phone: Defaulted[Option[String]] = new UseDefault(),
  /** Default: 'pending'
   * Points to [[testdb.customer_status.CustomerStatusRow.statusCode]]
   */
  status: Defaulted[CustomerStatusId] = new UseDefault(),
  /** Default: 'bronze'

   */
  tier: Defaulted[String] = new UseDefault(),
  /** Default: NULL

   */
  preferences: Defaulted[Option[Json]] = new UseDefault(),
  /** Default: NULL

   */
  @JsonProperty("marketing_flags") marketingFlags: Defaulted[Option[EmailMailPushSmsSet]] = new UseDefault(),
  /** Default: NULL

   */
  notes: Defaulted[Option[String]] = new UseDefault(),
  /** Default: current_timestamp(6)

   */
  @JsonProperty("created_at") createdAt: Defaulted[LocalDateTime] = new UseDefault(),
  /** Default: current_timestamp(6)

   */
  @JsonProperty("updated_at") updatedAt: Defaulted[LocalDateTime] = new UseDefault(),
  /** Default: NULL

   */
  @JsonProperty("last_login_at") lastLoginAt: Defaulted[Option[LocalDateTime]] = new UseDefault()
) {
  def toRow(
    phoneDefault: => Option[String],
    statusDefault: => CustomerStatusId,
    tierDefault: => String,
    preferencesDefault: => Option[Json],
    marketingFlagsDefault: => Option[EmailMailPushSmsSet],
    notesDefault: => Option[String],
    createdAtDefault: => LocalDateTime,
    updatedAtDefault: => LocalDateTime,
    lastLoginAtDefault: => Option[LocalDateTime],
    customerIdDefault: => CustomersId
  ): CustomersRow = {
    new CustomersRow(
      customerId = customerIdDefault,
      email = email,
      passwordHash = passwordHash,
      firstName = firstName,
      lastName = lastName,
      phone = phone.getOrElse(phoneDefault),
      status = status.getOrElse(statusDefault),
      tier = tier.getOrElse(tierDefault),
      preferences = preferences.getOrElse(preferencesDefault),
      marketingFlags = marketingFlags.getOrElse(marketingFlagsDefault),
      notes = notes.getOrElse(notesDefault),
      createdAt = createdAt.getOrElse(createdAtDefault),
      updatedAt = updatedAt.getOrElse(updatedAtDefault),
      lastLoginAt = lastLoginAt.getOrElse(lastLoginAtDefault)
    )
  }
}