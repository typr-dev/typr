/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.promotions

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.Tuple.Tuple16
import dev.typr.foundations.data.Json
import dev.typr.foundations.data.Uint1
import dev.typr.foundations.data.Uint4
import dev.typr.foundations.scala.DbTypeOps
import dev.typr.foundations.scala.RowParser
import dev.typr.foundations.scala.RowParsers
import dev.typr.foundations.scala.ScalaDbTypes
import java.time.LocalDateTime
import testdb.AllBrandsCategoriesCSet
import testdb.customtypes.Defaulted
import testdb.userdefined.IsActive

/** Table: promotions
 * Primary key: promotion_id
 */
case class PromotionsRow(
  /** 
   * AUTO_INCREMENT
   */
  @JsonProperty("promotion_id") promotionId: PromotionsId,
  /**  */
  code: String,
  /**  */
  name: String,
  /** 
   * Default: NULL
   */
  description: Option[String],
  /**  */
  @JsonProperty("discount_type") discountType: String,
  /**  */
  @JsonProperty("discount_value") discountValue: BigDecimal,
  /** 
   * Default: NULL
   */
  @JsonProperty("min_order_amount") minOrderAmount: Option[BigDecimal],
  /** 
   * Default: NULL
   */
  @JsonProperty("max_uses") maxUses: Option[Uint4],
  /** 
   * Default: 0
   */
  @JsonProperty("uses_count") usesCount: Uint4,
  /** 
   * Default: NULL
   */
  @JsonProperty("max_uses_per_customer") maxUsesPerCustomer: Option[Uint1],
  /** 
   * Default: NULL
   */
  @JsonProperty("applicable_to") applicableTo: Option[AllBrandsCategoriesCSet],
  /** Complex eligibility rules
   * Default: NULL
   */
  @JsonProperty("rules_json") rulesJson: Option[Json],
  /**  */
  @JsonProperty("valid_from") validFrom: LocalDateTime,
  /**  */
  @JsonProperty("valid_to") validTo: LocalDateTime,
  /** 
   * Default: 1
   */
  @JsonProperty("is_active") isActive: /* user-picked */ IsActive,
  /** 
   * Default: current_timestamp()
   */
  @JsonProperty("created_at") createdAt: LocalDateTime
) extends Tuple16[PromotionsId, String, String, Option[String], String, BigDecimal, Option[BigDecimal], Option[Uint4], Uint4, Option[Uint1], Option[AllBrandsCategoriesCSet], Option[Json], LocalDateTime, LocalDateTime, /* user-picked */ IsActive, LocalDateTime] {
  def id: PromotionsId = promotionId

  def toUnsavedRow(
    description: Defaulted[Option[String]] = Defaulted.Provided(this.description),
    minOrderAmount: Defaulted[Option[BigDecimal]] = Defaulted.Provided(this.minOrderAmount),
    maxUses: Defaulted[Option[Uint4]] = Defaulted.Provided(this.maxUses),
    usesCount: Defaulted[Uint4] = Defaulted.Provided(this.usesCount),
    maxUsesPerCustomer: Defaulted[Option[Uint1]] = Defaulted.Provided(this.maxUsesPerCustomer),
    applicableTo: Defaulted[Option[AllBrandsCategoriesCSet]] = Defaulted.Provided(this.applicableTo),
    rulesJson: Defaulted[Option[Json]] = Defaulted.Provided(this.rulesJson),
    isActive: Defaulted[/* user-picked */ IsActive] = Defaulted.Provided(this.isActive),
    createdAt: Defaulted[LocalDateTime] = Defaulted.Provided(this.createdAt)
  ): PromotionsRowUnsaved = {
    new PromotionsRowUnsaved(
      code,
      name,
      discountType,
      discountValue,
      validFrom,
      validTo,
      description,
      minOrderAmount,
      maxUses,
      usesCount,
      maxUsesPerCustomer,
      applicableTo,
      rulesJson,
      isActive,
      createdAt
    )
  }

  override def `_1`: PromotionsId = promotionId

  override def `_2`: String = code

  override def `_3`: String = name

  override def `_4`: Option[String] = description

  override def `_5`: String = discountType

  override def `_6`: BigDecimal = discountValue

  override def `_7`: Option[BigDecimal] = minOrderAmount

  override def `_8`: Option[Uint4] = maxUses

  override def `_9`: Uint4 = usesCount

  override def `_10`: Option[Uint1] = maxUsesPerCustomer

  override def `_11`: Option[AllBrandsCategoriesCSet] = applicableTo

  override def `_12`: Option[Json] = rulesJson

  override def `_13`: LocalDateTime = validFrom

  override def `_14`: LocalDateTime = validTo

  override def `_15`: /* user-picked */ IsActive = isActive

  override def `_16`: LocalDateTime = createdAt
}

object PromotionsRow {
  val `_rowParser`: RowParser[PromotionsRow] = RowParsers.of(PromotionsId.mariaType, MariaTypes.varchar, MariaTypes.varchar, MariaTypes.text.nullable, MariaTypes.text, ScalaDbTypes.MariaTypes.numeric, ScalaDbTypes.MariaTypes.numeric.nullable, MariaTypes.intUnsigned.nullable, MariaTypes.intUnsigned, MariaTypes.tinyintUnsigned.nullable, AllBrandsCategoriesCSet.mariaType.nullable, MariaTypes.json.nullable, MariaTypes.datetime, MariaTypes.datetime, IsActive.mariaType, MariaTypes.datetime)(PromotionsRow.apply)(row => Array[Any](row.promotionId, row.code, row.name, row.description, row.discountType, row.discountValue, row.minOrderAmount, row.maxUses, row.usesCount, row.maxUsesPerCustomer, row.applicableTo, row.rulesJson, row.validFrom, row.validTo, row.isActive, row.createdAt))
}