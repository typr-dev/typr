/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_prices

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.Tuple.Tuple7
import dev.typr.foundations.kotlin.KotlinDbTypes
import dev.typr.foundations.kotlin.RowParser
import dev.typr.foundations.kotlin.RowParsers
import dev.typr.foundations.kotlin.nullable
import java.math.BigDecimal
import java.time.LocalDate
import testdb.customtypes.Defaulted
import testdb.price_tiers.PriceTiersId
import testdb.products.ProductsId

/** Table: product_prices
  * Primary key: price_id
  */
data class ProductPricesRow(
  /** 
    * AUTO_INCREMENT
    */
  @field:JsonProperty("price_id") val priceId: ProductPricesId,
  /** 
    * Points to [testdb.products.ProductsRow.productId]
    */
  @field:JsonProperty("product_id") val productId: ProductsId,
  /** 
    * Default: NULL
    * Points to [testdb.price_tiers.PriceTiersRow.tierId]
    */
  @field:JsonProperty("tier_id") val tierId: PriceTiersId?,
  /**  */
  val price: BigDecimal,
  /** 
    * Default: 'USD'
    */
  @field:JsonProperty("currency_code") val currencyCode: String,
  /**  */
  @field:JsonProperty("valid_from") val validFrom: LocalDate,
  /** 
    * Default: NULL
    */
  @field:JsonProperty("valid_to") val validTo: LocalDate?
) : Tuple7<ProductPricesId, ProductsId, PriceTiersId?, BigDecimal, String, LocalDate, LocalDate?> {
  override fun _1(): ProductPricesId = priceId

  override fun _2(): ProductsId = productId

  override fun _3(): PriceTiersId? = tierId

  override fun _4(): BigDecimal = price

  override fun _5(): String = currencyCode

  override fun _6(): LocalDate = validFrom

  override fun _7(): LocalDate? = validTo

  fun id(): ProductPricesId = priceId

  fun toUnsavedRow(
    tierId: Defaulted<PriceTiersId?> = Defaulted.Provided(this.tierId),
    currencyCode: Defaulted<String> = Defaulted.Provided(this.currencyCode),
    validTo: Defaulted<LocalDate?> = Defaulted.Provided(this.validTo)
  ): ProductPricesRowUnsaved = ProductPricesRowUnsaved(productId, price, validFrom, tierId, currencyCode, validTo)

  companion object {
    val _rowParser: RowParser<ProductPricesRow> = RowParsers.of(ProductPricesId.dbType, ProductsId.dbType, PriceTiersId.dbType.nullable(), KotlinDbTypes.MariaTypes.numeric, MariaTypes.char_, MariaTypes.date, MariaTypes.date.nullable(), { t0, t1, t2, t3, t4, t5, t6 -> ProductPricesRow(t0, t1, t2, t3, t4, t5, t6) }, { row -> arrayOf<Any?>(row.priceId, row.productId, row.tierId, row.price, row.currencyCode, row.validFrom, row.validTo) })
  }
}