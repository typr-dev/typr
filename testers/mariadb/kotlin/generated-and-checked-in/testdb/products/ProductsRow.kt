/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.products

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.data.maria.MariaSet
import dev.typr.foundations.kotlin.KotlinDbTypes
import dev.typr.foundations.kotlin.RowParser
import dev.typr.foundations.kotlin.RowParsers
import dev.typr.foundations.kotlin.nullable
import java.math.BigDecimal
import java.time.LocalDateTime
import testdb.brands.BrandsId
import testdb.customtypes.Defaulted

/** Table: products
  * Primary key: product_id
  */
data class ProductsRow(
  /** 
    * AUTO_INCREMENT
    */
  @JsonProperty("product_id") val productId: ProductsId,
  /**  */
  val sku: String,
  /** 
    * Default: NULL
    * Points to [testdb.brands.BrandsRow.brandId]
    */
  @JsonProperty("brand_id") val brandId: BrandsId?,
  /**  */
  val name: String,
  /** 
    * Default: NULL
    */
  @JsonProperty("short_description") val shortDescription: String?,
  /** 
    * Default: NULL
    */
  @JsonProperty("full_description") val fullDescription: String?,
  /**  */
  @JsonProperty("base_price") val basePrice: BigDecimal,
  /** 
    * Default: NULL
    */
  @JsonProperty("cost_price") val costPrice: BigDecimal?,
  /** 
    * Default: NULL
    */
  @JsonProperty("weight_kg") val weightKg: BigDecimal?,
  /** length, width, height in cm
    * Default: NULL
    */
  @JsonProperty("dimensions_json") val dimensionsJson: String?,
  /** 
    * Default: 'draft'
    */
  val status: String,
  /** 
    * Default: 'standard'
    */
  @JsonProperty("tax_class") val taxClass: String,
  /** 
    * Default: NULL
    */
  val tags: MariaSet?,
  /** 
    * Default: NULL
    */
  val attributes: String?,
  /** 
    * Default: NULL
    */
  @JsonProperty("seo_metadata") val seoMetadata: String?,
  /** 
    * Default: current_timestamp(6)
    */
  @JsonProperty("created_at") val createdAt: LocalDateTime,
  /** 
    * Default: current_timestamp(6)
    */
  @JsonProperty("updated_at") val updatedAt: LocalDateTime,
  /** 
    * Default: NULL
    */
  @JsonProperty("published_at") val publishedAt: LocalDateTime?
) {
  fun id(): ProductsId = productId

  fun toUnsavedRow(
    brandId: Defaulted<BrandsId?> = Defaulted.Provided(this.brandId),
    shortDescription: Defaulted<String?> = Defaulted.Provided(this.shortDescription),
    fullDescription: Defaulted<String?> = Defaulted.Provided(this.fullDescription),
    costPrice: Defaulted<BigDecimal?> = Defaulted.Provided(this.costPrice),
    weightKg: Defaulted<BigDecimal?> = Defaulted.Provided(this.weightKg),
    dimensionsJson: Defaulted<String?> = Defaulted.Provided(this.dimensionsJson),
    status: Defaulted<String> = Defaulted.Provided(this.status),
    taxClass: Defaulted<String> = Defaulted.Provided(this.taxClass),
    tags: Defaulted<MariaSet?> = Defaulted.Provided(this.tags),
    attributes: Defaulted<String?> = Defaulted.Provided(this.attributes),
    seoMetadata: Defaulted<String?> = Defaulted.Provided(this.seoMetadata),
    createdAt: Defaulted<LocalDateTime> = Defaulted.Provided(this.createdAt),
    updatedAt: Defaulted<LocalDateTime> = Defaulted.Provided(this.updatedAt),
    publishedAt: Defaulted<LocalDateTime?> = Defaulted.Provided(this.publishedAt)
  ): ProductsRowUnsaved = ProductsRowUnsaved(sku, name, basePrice, brandId, shortDescription, fullDescription, costPrice, weightKg, dimensionsJson, status, taxClass, tags, attributes, seoMetadata, createdAt, updatedAt, publishedAt)

  companion object {
    val _rowParser: RowParser<ProductsRow> = RowParsers.of(ProductsId.pgType, MariaTypes.varchar, BrandsId.pgType.nullable(), MariaTypes.varchar, MariaTypes.varchar.nullable(), MariaTypes.longtext.nullable(), KotlinDbTypes.MariaTypes.numeric, KotlinDbTypes.MariaTypes.numeric.nullable(), KotlinDbTypes.MariaTypes.numeric.nullable(), MariaTypes.longtext.nullable(), MariaTypes.text, MariaTypes.text, MariaTypes.set.nullable(), MariaTypes.longtext.nullable(), MariaTypes.longtext.nullable(), MariaTypes.datetime, MariaTypes.datetime, MariaTypes.datetime.nullable(), { t0, t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11, t12, t13, t14, t15, t16, t17 -> ProductsRow(t0, t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11, t12, t13, t14, t15, t16, t17) }, { row -> arrayOf<Any?>(row.productId, row.sku, row.brandId, row.name, row.shortDescription, row.fullDescription, row.basePrice, row.costPrice, row.weightKg, row.dimensionsJson, row.status, row.taxClass, row.tags, row.attributes, row.seoMetadata, row.createdAt, row.updatedAt, row.publishedAt) })
  }
}