/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb

import dev.typr.foundations.MariaType
import dev.typr.foundations.MariaTypes
import dev.typr.foundations.data.maria.MariaSet
import java.util.EnumSet
import kotlin.collections.List
import kotlin.collections.Set

/** MariaDB SET type with values: all, brands, categories, customers, products */
data class AllBrandsCategoriesCSet(val members: Set<AllBrandsCategoriesCSetMember>) {
  fun contains(member: AllBrandsCategoriesCSetMember): Boolean = members.contains(member)

  fun isEmpty(): Boolean = members.isEmpty()

  fun size(): Int = members.size

  fun toCommaSeparated(): String = members.joinToString(",") { it.value }

  override fun toString(): String = toCommaSeparated()

  companion object {
    fun empty(): AllBrandsCategoriesCSet = AllBrandsCategoriesCSet(EnumSet.noneOf(AllBrandsCategoriesCSetMember::class.java).toSet())

    fun fromString(str: String): AllBrandsCategoriesCSet = run {
      if (str.isNullOrEmpty()) AllBrandsCategoriesCSet(EnumSet.noneOf(AllBrandsCategoriesCSetMember::class.java).toSet())
      else {
        val set = EnumSet.noneOf(AllBrandsCategoriesCSetMember::class.java)
        str.split(",").forEach { v ->
          AllBrandsCategoriesCSetMember.ByName[v.trim()]?.let { set.add(it) }
        }
        AllBrandsCategoriesCSet(set.toSet())
      }
    }

    val mariaType: MariaType<AllBrandsCategoriesCSet> =
      MariaTypes.set.bimap({ ms: MariaSet -> AllBrandsCategoriesCSet.fromString(ms.toCommaSeparated()) }, { s: AllBrandsCategoriesCSet -> MariaSet.fromString(s.toCommaSeparated()) })

    fun of(members: List<AllBrandsCategoriesCSetMember>): AllBrandsCategoriesCSet = run {
      if (members.isEmpty()) AllBrandsCategoriesCSet(EnumSet.noneOf(AllBrandsCategoriesCSetMember::class.java).toSet())
      else AllBrandsCategoriesCSet(EnumSet.copyOf(members).toSet())
    }
  }
}