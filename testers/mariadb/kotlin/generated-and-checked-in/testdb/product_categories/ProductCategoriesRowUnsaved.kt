/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.product_categories

import com.fasterxml.jackson.annotation.JsonProperty
import testdb.categories.CategoriesId
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault
import testdb.products.ProductsId

/** This class corresponds to a row in table `product_categories` which has not been persisted yet */
data class ProductCategoriesRowUnsaved(
  /** 
    * Points to [testdb.products.ProductsRow.productId]
    */
  @field:JsonProperty("product_id") val productId: ProductsId,
  /** 
    * Points to [testdb.categories.CategoriesRow.categoryId]
    */
  @field:JsonProperty("category_id") val categoryId: CategoriesId,
  /** Default: 0

    */
  @field:JsonProperty("is_primary") val isPrimary: Defaulted<Boolean> = UseDefault(),
  /** Default: 0

    */
  @field:JsonProperty("sort_order") val sortOrder: Defaulted<Short> = UseDefault()
) {
  fun toRow(
    isPrimaryDefault: () -> Boolean,
    sortOrderDefault: () -> Short
  ): ProductCategoriesRow = ProductCategoriesRow(productId = productId, categoryId = categoryId, isPrimary = isPrimary.getOrElse(isPrimaryDefault), sortOrder = sortOrder.getOrElse(sortOrderDefault))
}