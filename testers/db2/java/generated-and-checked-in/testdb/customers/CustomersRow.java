/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.customers;

import com.fasterxml.jackson.annotation.JsonProperty;
import dev.typr.foundations.Db2Types;
import dev.typr.foundations.RowParser;
import dev.typr.foundations.RowParsers;
import dev.typr.foundations.Tuple.Tuple4;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;

/**
 * Table: CUSTOMERS Customer master table containing all customer information Primary key:
 * CUSTOMER_ID
 */
public record CustomersRow(
    /** Unique identifier for the customer Identity BY DEFAULT */
    @JsonProperty("CUSTOMER_ID") CustomersId customerId,
    /** Full name of the customer */
    @JsonProperty("NAME") String name,
    /** Email address used for contact and login */
    @JsonProperty("EMAIL") String email,
    /** Default: CURRENT TIMESTAMP */
    @JsonProperty("CREATED_AT") Optional<LocalDateTime> createdAt)
    implements Tuple4<CustomersId, String, String, Optional<LocalDateTime>> {
  /** Unique identifier for the customer Identity BY DEFAULT */
  public CustomersRow withCustomerId(CustomersId customerId) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  /** Full name of the customer */
  public CustomersRow withName(String name) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  /** Email address used for contact and login */
  public CustomersRow withEmail(String email) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  /** Default: CURRENT TIMESTAMP */
  public CustomersRow withCreatedAt(Optional<LocalDateTime> createdAt) {
    return new CustomersRow(customerId, name, email, createdAt);
  }
  ;

  public static RowParser<CustomersRow> _rowParser =
      RowParsers.of(
          CustomersId.db2Type,
          Db2Types.varchar,
          Db2Types.varchar,
          Db2Types.timestamp.opt(),
          CustomersRow::new,
          row -> new Object[] {row.customerId(), row.name(), row.email(), row.createdAt()});
  ;

  @Override
  public CustomersId _1() {
    return customerId;
  }
  ;

  @Override
  public String _2() {
    return name;
  }
  ;

  @Override
  public String _3() {
    return email;
  }
  ;

  @Override
  public Optional<LocalDateTime> _4() {
    return createdAt;
  }
  ;

  public CustomersId id() {
    return customerId;
  }
  ;

  public CustomersRowUnsaved toUnsavedRow(
      Defaulted<CustomersId> customerId, Defaulted<Optional<LocalDateTime>> createdAt) {
    return new CustomersRowUnsaved(name, email, customerId, createdAt);
  }
  ;
}
