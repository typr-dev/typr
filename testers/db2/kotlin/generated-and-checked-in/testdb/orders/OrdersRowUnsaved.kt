/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.orders

import com.fasterxml.jackson.annotation.JsonProperty
import java.math.BigDecimal
import java.time.LocalDate
import testdb.customers.CustomersId
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault

/** This class corresponds to a row in table `ORDERS` which has not been persisted yet */
data class OrdersRowUnsaved(
  /** Points to [testdb.customers.CustomersRow.customerId] */
  @field:JsonProperty("CUSTOMER_ID") val customerId: CustomersId,
  /** Total monetary value of the order */
  @field:JsonProperty("TOTAL_AMOUNT") val totalAmount: BigDecimal? = null,
  /** Default: CURRENT DATE */
  @field:JsonProperty("ORDER_DATE") val orderDate: Defaulted<LocalDate> = UseDefault(),
  /** Default: 'pending' */
  @field:JsonProperty("STATUS") val status: Defaulted<String?> = UseDefault()
) {
  fun toRow(
    orderDateDefault: () -> LocalDate,
    statusDefault: () -> String?,
    orderIdDefault: () -> OrdersId
  ): OrdersRow = OrdersRow(orderId = orderIdDefault(), customerId = customerId, orderDate = orderDate.getOrElse(orderDateDefault), totalAmount = totalAmount, status = status.getOrElse(statusDefault))
}