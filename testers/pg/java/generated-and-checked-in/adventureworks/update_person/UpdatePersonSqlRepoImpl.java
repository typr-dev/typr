/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.update_person;

import dev.typr.foundations.Fragment;
import dev.typr.foundations.PgTypes;
import java.sql.Connection;
import java.time.LocalDateTime;
import java.util.Optional;
import static dev.typr.foundations.Fragment.interpolate;

public class UpdatePersonSqlRepoImpl implements UpdatePersonSqlRepo {
  @Override
  public Integer apply(
    String suffix,
    Optional<LocalDateTime> cutoff,
    Connection c
  ) {
    return interpolate(Fragment.lit("update person.person\nset firstname = firstname || '-' || "), Fragment.encode(PgTypes.text, suffix), Fragment.lit("\nwhere modifieddate < "), Fragment.encode(PgTypes.timestamp.opt(), cutoff), Fragment.lit("::timestamp")).update().runUnchecked(c);
  };
}