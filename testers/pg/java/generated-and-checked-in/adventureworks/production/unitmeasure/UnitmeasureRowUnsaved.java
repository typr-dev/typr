/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.unitmeasure;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.public_.Name;
import dev.typr.foundations.PgText;
import dev.typr.foundations.PgTypes;
import java.time.LocalDateTime;

/**
 * This class corresponds to a row in table `production.unitmeasure` which has not been persisted
 * yet
 */
public record UnitmeasureRowUnsaved(
    /** Primary key. */
    UnitmeasureId unitmeasurecode,
    /** Unit of measure description. */
    Name name,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public UnitmeasureRowUnsaved(
      /** Primary key. */
      UnitmeasureId unitmeasurecode,
      /** Unit of measure description. */
      Name name) {
    this(unitmeasurecode, name, new UseDefault<>());
  }
  ;

  /** Primary key. */
  public UnitmeasureRowUnsaved withUnitmeasurecode(UnitmeasureId unitmeasurecode) {
    return new UnitmeasureRowUnsaved(unitmeasurecode, name, modifieddate);
  }
  ;

  /** Unit of measure description. */
  public UnitmeasureRowUnsaved withName(Name name) {
    return new UnitmeasureRowUnsaved(unitmeasurecode, name, modifieddate);
  }
  ;

  /** Default: now() */
  public UnitmeasureRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new UnitmeasureRowUnsaved(unitmeasurecode, name, modifieddate);
  }
  ;

  public static PgText<UnitmeasureRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            UnitmeasureId.pgType.text().unsafeEncode(row.unitmeasurecode, sb);
            sb.append(PgText.DELIMETER);
            Name.pgType.text().unsafeEncode(row.name, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.text()).unsafeEncode(row.modifieddate, sb);
          });

  public UnitmeasureRow toRow(java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new UnitmeasureRow(unitmeasurecode, name, modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
