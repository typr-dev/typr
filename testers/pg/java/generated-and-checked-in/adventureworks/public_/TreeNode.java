/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_;

import dev.typr.foundations.PgStruct;
import dev.typr.foundations.PgType;
import dev.typr.foundations.PgTypes;
import java.util.Optional;

/** PostgreSQL composite type: public.tree_node */
public record TreeNode(Optional<Integer> id, Optional<String> label, Optional<Integer> parentId) {
  public TreeNode withId(Optional<Integer> id) {
    return new TreeNode(id, label, parentId);
  }
  ;

  public TreeNode withLabel(Optional<String> label) {
    return new TreeNode(id, label, parentId);
  }
  ;

  public TreeNode withParentId(Optional<Integer> parentId) {
    return new TreeNode(id, label, parentId);
  }
  ;

  public static PgStruct<TreeNode> pgStruct =
      PgStruct.<TreeNode>builder("public.tree_node")
          .nullableField("id", PgTypes.int4, TreeNode::id)
          .nullableField("label", PgTypes.text, TreeNode::label)
          .nullableField("parentId", PgTypes.int4, TreeNode::parentId)
          .build(arr -> new TreeNode((Integer) arr[0], (String) arr[1], (Integer) arr[2]));

  public static PgType<TreeNode> pgType = pgStruct.asType();
}
