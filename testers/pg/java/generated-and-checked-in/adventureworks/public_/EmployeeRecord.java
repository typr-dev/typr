/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_;

import dev.typr.foundations.PgRead;
import dev.typr.foundations.PgStruct;
import dev.typr.foundations.PgType;
import dev.typr.foundations.PgTypes;
import java.math.BigDecimal;
import java.time.LocalDate;
import java.util.Optional;

/** PostgreSQL composite type: public.employee_record */
public record EmployeeRecord(
  Optional<PersonName> name,
  Optional<ContactInfo> contact,
  Optional<Integer> employeeId,
  Optional<BigDecimal> salary,
  Optional<LocalDate> hireDate
) {
  public EmployeeRecord withName(Optional<PersonName> name) {
    return new EmployeeRecord(name, contact, employeeId, salary, hireDate);
  };

  public EmployeeRecord withContact(Optional<ContactInfo> contact) {
    return new EmployeeRecord(name, contact, employeeId, salary, hireDate);
  };

  public EmployeeRecord withEmployeeId(Optional<Integer> employeeId) {
    return new EmployeeRecord(name, contact, employeeId, salary, hireDate);
  };

  public EmployeeRecord withSalary(Optional<BigDecimal> salary) {
    return new EmployeeRecord(name, contact, employeeId, salary, hireDate);
  };

  public EmployeeRecord withHireDate(Optional<LocalDate> hireDate) {
    return new EmployeeRecord(name, contact, employeeId, salary, hireDate);
  };

  static public PgStruct<EmployeeRecord> pgStruct =
    PgStruct.<EmployeeRecord>builder("public.employee_record").optField("name", PersonName.pgType, v -> v.name()).optField("contact", ContactInfo.pgType, v -> v.contact()).optField("employeeId", PgTypes.int4, v -> v.employeeId()).optField("salary", PgTypes.numeric, v -> v.salary()).optField("hireDate", PgTypes.date, v -> v.hireDate()).build(arr -> new EmployeeRecord(Optional.ofNullable((PersonName) arr[0]), Optional.ofNullable((ContactInfo) arr[1]), Optional.ofNullable((Integer) arr[2]), Optional.ofNullable((BigDecimal) arr[3]), Optional.ofNullable((LocalDate) arr[4])));

  static public PgType<EmployeeRecord> pgType =
    pgStruct.asType();

  static public PgType<EmployeeRecord[]> pgTypeArray =
    pgType.array(PgRead.readCompositeArray(pgType.pgCompositeText(), EmployeeRecord[]::new), EmployeeRecord[]::new);
}