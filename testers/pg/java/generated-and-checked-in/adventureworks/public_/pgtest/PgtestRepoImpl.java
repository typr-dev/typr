/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.pgtest;

import static dev.typr.foundations.Fragment.interpolate;

import adventureworks.public_.Mydomain;
import adventureworks.public_.Myenum;
import dev.typr.foundations.Fragment;
import dev.typr.foundations.PgTypes;
import dev.typr.foundations.dsl.DeleteBuilder;
import dev.typr.foundations.dsl.Dialect;
import dev.typr.foundations.dsl.SelectBuilder;
import dev.typr.foundations.dsl.UpdateBuilder;
import dev.typr.foundations.streamingInsert;
import java.sql.Connection;
import java.util.Iterator;
import java.util.List;

public class PgtestRepoImpl implements PgtestRepo {
  @Override
  public DeleteBuilder<PgtestFields, PgtestRow> delete() {
    return DeleteBuilder.of("\"public\".\"pgtest\"", PgtestFields.structure(), Dialect.POSTGRESQL);
  }
  ;

  @Override
  public PgtestRow insert(PgtestRow unsaved, Connection c) {
    return interpolate(
            Fragment.lit(
                "insert into \"public\".\"pgtest\"(\"bool\", \"box\", \"bpchar\", \"bytea\","
                    + " \"char\", \"circle\", \"date\", \"float4\", \"float8\", \"hstore\","
                    + " \"inet\", \"int2\", \"int2vector\", \"int4\", \"int8\", \"interval\","
                    + " \"json\", \"jsonb\", \"line\", \"lseg\", \"money\", \"mydomain\","
                    + " \"myenum\", \"name\", \"numeric\", \"path\", \"point\", \"polygon\","
                    + " \"text\", \"time\", \"timestamp\", \"timestampz\", \"timez\", \"uuid\","
                    + " \"varchar\", \"vector\", \"xml\", \"boxes\", \"bpchares\", \"chares\","
                    + " \"circlees\", \"datees\", \"float4es\", \"float8es\", \"inetes\","
                    + " \"int2es\", \"int2vectores\", \"int4es\", \"int8es\", \"intervales\","
                    + " \"jsones\", \"jsonbes\", \"linees\", \"lseges\", \"moneyes\","
                    + " \"mydomaines\", \"myenumes\", \"namees\", \"numerices\", \"pathes\","
                    + " \"pointes\", \"polygones\", \"textes\", \"timees\", \"timestampes\","
                    + " \"timestampzes\", \"timezes\", \"uuides\", \"varchares\", \"xmles\")\n"
                    + "values ("),
            Fragment.encode(PgTypes.bool, unsaved.bool()),
            Fragment.lit(", "),
            Fragment.encode(PgTypes.box, unsaved.box()),
            Fragment.lit("::box, "),
            Fragment.encode(PgTypes.bpchar, unsaved.bpchar()),
            Fragment.lit("::bpchar, "),
            Fragment.encode(PgTypes.bytea, unsaved.bytea()),
            Fragment.lit("::bytea, "),
            Fragment.encode(PgTypes.bpchar, unsaved.char_()),
            Fragment.lit("::bpchar, "),
            Fragment.encode(PgTypes.circle, unsaved.circle()),
            Fragment.lit("::circle, "),
            Fragment.encode(PgTypes.date, unsaved.date()),
            Fragment.lit("::date, "),
            Fragment.encode(PgTypes.float4, unsaved.float4()),
            Fragment.lit("::float4, "),
            Fragment.encode(PgTypes.float8, unsaved.float8()),
            Fragment.lit("::float8, "),
            Fragment.encode(PgTypes.hstore, unsaved.hstore()),
            Fragment.lit("::hstore, "),
            Fragment.encode(PgTypes.inet, unsaved.inet()),
            Fragment.lit("::inet, "),
            Fragment.encode(PgTypes.int2, unsaved.int2()),
            Fragment.lit("::int2, "),
            Fragment.encode(PgTypes.int2vector, unsaved.int2vector()),
            Fragment.lit("::int2vector, "),
            Fragment.encode(PgTypes.int4, unsaved.int4()),
            Fragment.lit("::int4, "),
            Fragment.encode(PgTypes.int8, unsaved.int8()),
            Fragment.lit("::int8, "),
            Fragment.encode(PgTypes.interval, unsaved.interval()),
            Fragment.lit("::interval, "),
            Fragment.encode(PgTypes.json, unsaved.json()),
            Fragment.lit("::json, "),
            Fragment.encode(PgTypes.jsonb, unsaved.jsonb()),
            Fragment.lit("::jsonb, "),
            Fragment.encode(PgTypes.line, unsaved.line()),
            Fragment.lit("::line, "),
            Fragment.encode(PgTypes.lseg, unsaved.lseg()),
            Fragment.lit("::lseg, "),
            Fragment.encode(PgTypes.money, unsaved.money()),
            Fragment.lit("::money, "),
            Fragment.encode(Mydomain.pgType, unsaved.mydomain()),
            Fragment.lit("::text, "),
            Fragment.encode(Myenum.pgType, unsaved.myenum()),
            Fragment.lit("::public.myenum, "),
            Fragment.encode(PgTypes.name, unsaved.name()),
            Fragment.lit("::name, "),
            Fragment.encode(PgTypes.numeric, unsaved.numeric()),
            Fragment.lit("::numeric, "),
            Fragment.encode(PgTypes.path, unsaved.path()),
            Fragment.lit("::path, "),
            Fragment.encode(PgTypes.point, unsaved.point()),
            Fragment.lit("::point, "),
            Fragment.encode(PgTypes.polygon, unsaved.polygon()),
            Fragment.lit("::polygon, "),
            Fragment.encode(PgTypes.text, unsaved.text()),
            Fragment.lit(", "),
            Fragment.encode(PgTypes.time, unsaved.time()),
            Fragment.lit("::time, "),
            Fragment.encode(PgTypes.timestamp, unsaved.timestamp()),
            Fragment.lit("::timestamp, "),
            Fragment.encode(PgTypes.timestamptz, unsaved.timestampz()),
            Fragment.lit("::timestamptz, "),
            Fragment.encode(PgTypes.timetz, unsaved.timez()),
            Fragment.lit("::timetz, "),
            Fragment.encode(PgTypes.uuid, unsaved.uuid()),
            Fragment.lit("::uuid, "),
            Fragment.encode(PgTypes.text, unsaved.varchar()),
            Fragment.lit(", "),
            Fragment.encode(PgTypes.vector, unsaved.vector()),
            Fragment.lit("::vector, "),
            Fragment.encode(PgTypes.xml, unsaved.xml()),
            Fragment.lit("::xml, "),
            Fragment.encode(PgTypes.boxArray, unsaved.boxes()),
            Fragment.lit("::box[], "),
            Fragment.encode(PgTypes.bpcharArray, unsaved.bpchares()),
            Fragment.lit("::bpchar[], "),
            Fragment.encode(PgTypes.bpcharArray, unsaved.chares()),
            Fragment.lit("::bpchar[], "),
            Fragment.encode(PgTypes.circleArray, unsaved.circlees()),
            Fragment.lit("::circle[], "),
            Fragment.encode(PgTypes.dateArray, unsaved.datees()),
            Fragment.lit("::date[], "),
            Fragment.encode(PgTypes.float4Array, unsaved.float4es()),
            Fragment.lit("::float4[], "),
            Fragment.encode(PgTypes.float8Array, unsaved.float8es()),
            Fragment.lit("::float8[], "),
            Fragment.encode(PgTypes.inetArray, unsaved.inetes()),
            Fragment.lit("::inet[], "),
            Fragment.encode(PgTypes.int2Array, unsaved.int2es()),
            Fragment.lit("::int2[], "),
            Fragment.encode(PgTypes.int2vectorArray, unsaved.int2vectores()),
            Fragment.lit("::int2vector[], "),
            Fragment.encode(PgTypes.int4Array, unsaved.int4es()),
            Fragment.lit("::int4[], "),
            Fragment.encode(PgTypes.int8Array, unsaved.int8es()),
            Fragment.lit("::int8[], "),
            Fragment.encode(PgTypes.intervalArray, unsaved.intervales()),
            Fragment.lit("::interval[], "),
            Fragment.encode(PgTypes.jsonArray, unsaved.jsones()),
            Fragment.lit("::json[], "),
            Fragment.encode(PgTypes.jsonbArray, unsaved.jsonbes()),
            Fragment.lit("::jsonb[], "),
            Fragment.encode(PgTypes.lineArray, unsaved.linees()),
            Fragment.lit("::line[], "),
            Fragment.encode(PgTypes.lsegArray, unsaved.lseges()),
            Fragment.lit("::lseg[], "),
            Fragment.encode(PgTypes.moneyArray, unsaved.moneyes()),
            Fragment.lit("::money[], "),
            Fragment.encode(Mydomain.pgTypeArray, unsaved.mydomaines()),
            Fragment.lit("::mydomain[], "),
            Fragment.encode(Myenum.pgTypeArray, unsaved.myenumes()),
            Fragment.lit("::myenum[], "),
            Fragment.encode(PgTypes.nameArray, unsaved.namees()),
            Fragment.lit("::name[], "),
            Fragment.encode(PgTypes.numericArray, unsaved.numerices()),
            Fragment.lit("::numeric[], "),
            Fragment.encode(PgTypes.pathArray, unsaved.pathes()),
            Fragment.lit("::path[], "),
            Fragment.encode(PgTypes.pointArray, unsaved.pointes()),
            Fragment.lit("::point[], "),
            Fragment.encode(PgTypes.polygonArray, unsaved.polygones()),
            Fragment.lit("::polygon[], "),
            Fragment.encode(PgTypes.textArray, unsaved.textes()),
            Fragment.lit("::text[], "),
            Fragment.encode(PgTypes.timeArray, unsaved.timees()),
            Fragment.lit("::time[], "),
            Fragment.encode(PgTypes.timestampArray, unsaved.timestampes()),
            Fragment.lit("::timestamp[], "),
            Fragment.encode(PgTypes.timestamptzArray, unsaved.timestampzes()),
            Fragment.lit("::timestamptz[], "),
            Fragment.encode(PgTypes.timetzArray, unsaved.timezes()),
            Fragment.lit("::timetz[], "),
            Fragment.encode(PgTypes.uuidArray, unsaved.uuides()),
            Fragment.lit("::uuid[], "),
            Fragment.encode(PgTypes.textArray, unsaved.varchares()),
            Fragment.lit("::varchar[], "),
            Fragment.encode(PgTypes.xmlArray, unsaved.xmles()),
            Fragment.lit(
                "::xml[])\n"
                    + "RETURNING \"bool\", \"box\", \"bpchar\", \"bytea\", \"char\", \"circle\","
                    + " \"date\", \"float4\", \"float8\", \"hstore\", \"inet\", \"int2\","
                    + " \"int2vector\", \"int4\", \"int8\", \"interval\", \"json\", \"jsonb\","
                    + " \"line\", \"lseg\", \"money\"::numeric, \"mydomain\", \"myenum\", \"name\","
                    + " \"numeric\", \"path\", \"point\", \"polygon\", \"text\", \"time\","
                    + " \"timestamp\", \"timestampz\", \"timez\", \"uuid\", \"varchar\","
                    + " \"vector\", \"xml\", \"boxes\", \"bpchares\", \"chares\", \"circlees\","
                    + " \"datees\", \"float4es\", \"float8es\", \"inetes\", \"int2es\","
                    + " \"int2vectores\", \"int4es\", \"int8es\", \"intervales\", \"jsones\","
                    + " \"jsonbes\", \"linees\", \"lseges\", \"moneyes\"::numeric[],"
                    + " \"mydomaines\"::text[], \"myenumes\", \"namees\", \"numerices\","
                    + " \"pathes\", \"pointes\", \"polygones\", \"textes\", \"timees\","
                    + " \"timestampes\", \"timestampzes\", \"timezes\", \"uuides\", \"varchares\","
                    + " \"xmles\"\n"))
        .updateReturning(PgtestRow._rowParser.exactlyOne())
        .runUnchecked(c);
  }
  ;

  @Override
  public Long insertStreaming(Iterator<PgtestRow> unsaved, Integer batchSize, Connection c) {
    return streamingInsert.insertUnchecked(
        "COPY \"public\".\"pgtest\"(\"bool\", \"box\", \"bpchar\", \"bytea\", \"char\", \"circle\","
            + " \"date\", \"float4\", \"float8\", \"hstore\", \"inet\", \"int2\", \"int2vector\","
            + " \"int4\", \"int8\", \"interval\", \"json\", \"jsonb\", \"line\", \"lseg\","
            + " \"money\", \"mydomain\", \"myenum\", \"name\", \"numeric\", \"path\", \"point\","
            + " \"polygon\", \"text\", \"time\", \"timestamp\", \"timestampz\", \"timez\","
            + " \"uuid\", \"varchar\", \"vector\", \"xml\", \"boxes\", \"bpchares\", \"chares\","
            + " \"circlees\", \"datees\", \"float4es\", \"float8es\", \"inetes\", \"int2es\","
            + " \"int2vectores\", \"int4es\", \"int8es\", \"intervales\", \"jsones\", \"jsonbes\","
            + " \"linees\", \"lseges\", \"moneyes\", \"mydomaines\", \"myenumes\", \"namees\","
            + " \"numerices\", \"pathes\", \"pointes\", \"polygones\", \"textes\", \"timees\","
            + " \"timestampes\", \"timestampzes\", \"timezes\", \"uuides\", \"varchares\","
            + " \"xmles\") FROM STDIN",
        batchSize,
        unsaved,
        c,
        PgtestRow.pgText);
  }
  ;

  @Override
  public SelectBuilder<PgtestFields, PgtestRow> select() {
    return SelectBuilder.of(
        "\"public\".\"pgtest\"",
        PgtestFields.structure(),
        PgtestRow._rowParser,
        Dialect.POSTGRESQL);
  }
  ;

  @Override
  public List<PgtestRow> selectAll(Connection c) {
    return interpolate(
            Fragment.lit(
                "select \"bool\", \"box\", \"bpchar\", \"bytea\", \"char\", \"circle\", \"date\","
                    + " \"float4\", \"float8\", \"hstore\", \"inet\", \"int2\", \"int2vector\","
                    + " \"int4\", \"int8\", \"interval\", \"json\", \"jsonb\", \"line\", \"lseg\","
                    + " \"money\"::numeric, \"mydomain\", \"myenum\", \"name\", \"numeric\","
                    + " \"path\", \"point\", \"polygon\", \"text\", \"time\", \"timestamp\","
                    + " \"timestampz\", \"timez\", \"uuid\", \"varchar\", \"vector\", \"xml\","
                    + " \"boxes\", \"bpchares\", \"chares\", \"circlees\", \"datees\","
                    + " \"float4es\", \"float8es\", \"inetes\", \"int2es\", \"int2vectores\","
                    + " \"int4es\", \"int8es\", \"intervales\", \"jsones\", \"jsonbes\","
                    + " \"linees\", \"lseges\", \"moneyes\"::numeric[], \"mydomaines\"::text[],"
                    + " \"myenumes\", \"namees\", \"numerices\", \"pathes\", \"pointes\","
                    + " \"polygones\", \"textes\", \"timees\", \"timestampes\", \"timestampzes\","
                    + " \"timezes\", \"uuides\", \"varchares\", \"xmles\"\n"
                    + "from \"public\".\"pgtest\"\n"))
        .query(PgtestRow._rowParser.all())
        .runUnchecked(c);
  }
  ;

  @Override
  public UpdateBuilder<PgtestFields, PgtestRow> update() {
    return UpdateBuilder.of(
        "\"public\".\"pgtest\"",
        PgtestFields.structure(),
        PgtestRow._rowParser,
        Dialect.POSTGRESQL);
  }
  ;
}
