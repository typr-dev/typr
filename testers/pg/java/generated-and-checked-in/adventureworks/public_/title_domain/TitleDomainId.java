/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.title_domain;

import adventureworks.public_.ShortText;
import typr.runtime.PgType;
import typr.runtime.internal.arrayMap;

public sealed interface TitleDomainId permits TitleDomainId.Unknown, TitleDomainId.Known {
    ShortText value();

    record Unknown(ShortText value) implements TitleDomainId {
    }

    enum Known implements TitleDomainId {
        dr(new ShortText("dr")),
        mr(new ShortText("mr")),
        ms(new ShortText("ms")),
        phd(new ShortText("phd"));
        final ShortText value;

        @Override
        public ShortText value() {
            return value;
        }

        Known(ShortText value) {
            this.value = value;
        }
    }

    java.util.Map<ShortText, Known> ByName = java.util.Arrays.stream(Known.values()).collect(java.util.stream.Collectors.toMap(n -> n.value, n -> n));

    static TitleDomainId apply(ShortText str) {
        if (Known.ByName.containsKey(str)) {
            return Known.ByName.get(str);
        } else {
            return new Unknown(str);
        }
    }
    static public PgType<TitleDomainId[]> pgTypeArray =
      ShortText.pgTypeArray
        .bimap(xs -> arrayMap.map(xs, TitleDomainId::apply, TitleDomainId.class), xs -> arrayMap.map(xs, TitleDomainId::value, ShortText.class));
    static public PgType<TitleDomainId> pgType =
      ShortText.pgType.bimap(TitleDomainId::apply, TitleDomainId::value);
    static public TitleDomainId shortText(String value) {
      return apply(new ShortText(value));
    };
}