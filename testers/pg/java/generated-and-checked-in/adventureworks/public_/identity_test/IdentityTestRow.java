/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.identity_test;

import adventureworks.customtypes.Defaulted;
import com.fasterxml.jackson.annotation.JsonProperty;
import dev.typr.foundations.PgText;
import dev.typr.foundations.PgTypes;
import dev.typr.foundations.RowParser;
import dev.typr.foundations.RowParsers;
import dev.typr.foundations.Tuple.Tuple3;

/** Table: public.identity-test
  * Primary key: name
  */
public record IdentityTestRow(
  /** Identity ALWAYS, identityStart: 1, identityIncrement: 1, identityMaximum: 2147483647, identityMinimum: 1 */
  @JsonProperty("always_generated") Integer alwaysGenerated,
  /** Identity BY DEFAULT, identityStart: 1, identityIncrement: 1, identityMaximum: 2147483647, identityMinimum: 1 */
  @JsonProperty("default_generated") Integer defaultGenerated,
  IdentityTestId name
) implements Tuple3<Integer, Integer, IdentityTestId> {
  /** Identity ALWAYS, identityStart: 1, identityIncrement: 1, identityMaximum: 2147483647, identityMinimum: 1 */
  public IdentityTestRow withAlwaysGenerated(Integer alwaysGenerated) {
    return new IdentityTestRow(alwaysGenerated, defaultGenerated, name);
  };

  /** Identity BY DEFAULT, identityStart: 1, identityIncrement: 1, identityMaximum: 2147483647, identityMinimum: 1 */
  public IdentityTestRow withDefaultGenerated(Integer defaultGenerated) {
    return new IdentityTestRow(alwaysGenerated, defaultGenerated, name);
  };

  public IdentityTestRow withName(IdentityTestId name) {
    return new IdentityTestRow(alwaysGenerated, defaultGenerated, name);
  };

  public static RowParser<IdentityTestRow> _rowParser = RowParsers.of(PgTypes.int4, PgTypes.int4, IdentityTestId.dbType, IdentityTestRow::new, row -> new Object[]{row.alwaysGenerated(), row.defaultGenerated(), row.name()});;

  static public PgText<IdentityTestRow> pgText =
    PgText.from(_rowParser);

  @Override
  public Integer _1() {
    return alwaysGenerated;
  };

  @Override
  public Integer _2() {
    return defaultGenerated;
  };

  @Override
  public IdentityTestId _3() {
    return name;
  };

  public IdentityTestId id() {
    return name;
  };

  public IdentityTestRowUnsaved toUnsavedRow(Defaulted<Integer> defaultGenerated) {
    return new IdentityTestRowUnsaved(name, defaultGenerated);
  };
}