/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_;

import dev.typr.foundations.PgStruct;
import dev.typr.foundations.PgType;
import dev.typr.foundations.PgTypes;
import dev.typr.foundations.data.Jsonb;
import java.time.Instant;
import java.util.Optional;

/** PostgreSQL composite type: public.metadata_record */
public record MetadataRecord(
    Optional<String> key, Optional<Jsonb> value, Optional<Instant> createdAt) {
  public MetadataRecord withKey(Optional<String> key) {
    return new MetadataRecord(key, value, createdAt);
  }
  ;

  public MetadataRecord withValue(Optional<Jsonb> value) {
    return new MetadataRecord(key, value, createdAt);
  }
  ;

  public MetadataRecord withCreatedAt(Optional<Instant> createdAt) {
    return new MetadataRecord(key, value, createdAt);
  }
  ;

  public static PgStruct<MetadataRecord> pgStruct =
      PgStruct.<MetadataRecord>builder("public.metadata_record")
          .nullableField("key", PgTypes.text, MetadataRecord::key)
          .nullableField("value", PgTypes.jsonb, MetadataRecord::value)
          .nullableField("createdAt", PgTypes.timestamptz, MetadataRecord::createdAt)
          .build(arr -> new MetadataRecord((String) arr[0], (Jsonb) arr[1], (Instant) arr[2]));

  public static PgType<MetadataRecord> pgType = pgStruct.asType();
}
