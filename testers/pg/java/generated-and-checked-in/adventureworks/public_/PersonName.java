/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_;

import dev.typr.foundations.PgRead;
import dev.typr.foundations.PgStruct;
import dev.typr.foundations.PgType;
import dev.typr.foundations.PgTypes;
import java.util.Optional;

/** PostgreSQL composite type: public.person_name */
public record PersonName(
  Optional<String> firstName,
  Optional<String> middleName,
  Optional<String> lastName,
  Optional<String> suffix
) {
  public PersonName withFirstName(Optional<String> firstName) {
    return new PersonName(firstName, middleName, lastName, suffix);
  };

  public PersonName withMiddleName(Optional<String> middleName) {
    return new PersonName(firstName, middleName, lastName, suffix);
  };

  public PersonName withLastName(Optional<String> lastName) {
    return new PersonName(firstName, middleName, lastName, suffix);
  };

  public PersonName withSuffix(Optional<String> suffix) {
    return new PersonName(firstName, middleName, lastName, suffix);
  };

  static public PgStruct<PersonName> pgStruct =
    PgStruct.<PersonName>builder("public.person_name").optField("firstName", PgTypes.text, v -> v.firstName()).optField("middleName", PgTypes.text, v -> v.middleName()).optField("lastName", PgTypes.text, v -> v.lastName()).optField("suffix", PgTypes.text, v -> v.suffix()).build(arr -> new PersonName(Optional.ofNullable((String) arr[0]), Optional.ofNullable((String) arr[1]), Optional.ofNullable((String) arr[2]), Optional.ofNullable((String) arr[3])));

  static public PgType<PersonName> pgType =
    pgStruct.asType();

  static public PgType<PersonName[]> pgTypeArray =
    pgType.array(PgRead.readCompositeArray(pgType.pgCompositeText(), PersonName[]::new), PersonName[]::new);
}