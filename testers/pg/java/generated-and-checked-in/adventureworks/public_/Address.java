/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_;

import dev.typr.foundations.PgStruct;
import dev.typr.foundations.PgType;
import dev.typr.foundations.PgTypes;
import java.util.Optional;

/** PostgreSQL composite type: public.address */
public record Address(
    Optional<String> street,
    Optional<String> city,
    Optional<String> zip,
    Optional<String> country) {
  public Address withStreet(Optional<String> street) {
    return new Address(street, city, zip, country);
  }
  ;

  public Address withCity(Optional<String> city) {
    return new Address(street, city, zip, country);
  }
  ;

  public Address withZip(Optional<String> zip) {
    return new Address(street, city, zip, country);
  }
  ;

  public Address withCountry(Optional<String> country) {
    return new Address(street, city, zip, country);
  }
  ;

  public static PgStruct<Address> pgStruct =
      PgStruct.<Address>builder("public.address")
          .nullableField("street", PgTypes.text, Address::street)
          .nullableField("city", PgTypes.text, Address::city)
          .nullableField("zip", PgTypes.text, Address::zip)
          .nullableField("country", PgTypes.text, Address::country)
          .build(
              arr ->
                  new Address((String) arr[0], (String) arr[1], (String) arr[2], (String) arr[3]));

  public static PgType<Address> pgType = pgStruct.asType();
}
