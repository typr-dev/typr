/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.only_pk_columns;

import com.fasterxml.jackson.annotation.JsonProperty;
import dev.typr.foundations.PgText;
import dev.typr.foundations.PgTypes;
import dev.typr.foundations.RowParser;
import dev.typr.foundations.RowParsers;
import dev.typr.foundations.Tuple.Tuple2;

/** Table: public.only_pk_columns
  * Composite primary key: key_column_1, key_column_2
  */
public record OnlyPkColumnsRow(
  @JsonProperty("key_column_1") String keyColumn1,
  @JsonProperty("key_column_2") Integer keyColumn2
) implements Tuple2<String, Integer> {
  public OnlyPkColumnsRow withKeyColumn1(String keyColumn1) {
    return new OnlyPkColumnsRow(keyColumn1, keyColumn2);
  };

  public OnlyPkColumnsRow withKeyColumn2(Integer keyColumn2) {
    return new OnlyPkColumnsRow(keyColumn1, keyColumn2);
  };

  public static RowParser<OnlyPkColumnsRow> _rowParser = RowParsers.of(PgTypes.text, PgTypes.int4, OnlyPkColumnsRow::new, row -> new Object[]{row.keyColumn1(), row.keyColumn2()});;

  static public OnlyPkColumnsRow apply(OnlyPkColumnsId compositeId) {
    return new OnlyPkColumnsRow(compositeId.keyColumn1(), compositeId.keyColumn2());
  };

  static public PgText<OnlyPkColumnsRow> pgText =
    PgText.from(_rowParser);

  @Override
  public String _1() {
    return keyColumn1;
  };

  @Override
  public Integer _2() {
    return keyColumn2;
  };

  public OnlyPkColumnsId compositeId() {
    return new OnlyPkColumnsId(keyColumn1, keyColumn2);
  };

  public OnlyPkColumnsId id() {
    return this.compositeId();
  };
}