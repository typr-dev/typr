/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.flaff;

import adventureworks.public_.ShortText;
import dev.typr.foundations.PgTypes;
import dev.typr.foundations.RowParser;
import dev.typr.foundations.dsl.FieldsBase;
import dev.typr.foundations.dsl.ForeignKey;
import dev.typr.foundations.dsl.Path;
import dev.typr.foundations.dsl.RelationStructure;
import dev.typr.foundations.dsl.SqlExpr;
import dev.typr.foundations.dsl.SqlExpr.FieldLike;
import dev.typr.foundations.dsl.SqlExpr.IdField;
import dev.typr.foundations.dsl.SqlExpr.OptField;
import dev.typr.foundations.dsl.TupleExpr;
import dev.typr.foundations.dsl.TupleExpr.TupleExpr5;
import java.util.List;
import java.util.Optional;

public class FlaffFields extends TupleExpr5<ShortText, String, Integer, ShortText, ShortText>
    implements RelationStructure<FlaffFields, FlaffRow>, FieldsBase<FlaffRow> {
  List<Path> _path;

  public FlaffFields(List<Path> _path) {
    this._path = _path;
  }

  public static FlaffFields structure = new FlaffFields(java.util.Collections.emptyList());

  public IdField<ShortText, FlaffRow> code() {
    return new IdField<ShortText, FlaffRow>(
        _path,
        "code",
        FlaffRow::code,
        Optional.empty(),
        Optional.of("text"),
        (row, value) -> row.withCode(value),
        ShortText.dbType);
  }

  public IdField<String, FlaffRow> anotherCode() {
    return new IdField<String, FlaffRow>(
        _path,
        "another_code",
        FlaffRow::anotherCode,
        Optional.empty(),
        Optional.empty(),
        (row, value) -> row.withAnotherCode(value),
        PgTypes.text);
  }

  public IdField<Integer, FlaffRow> someNumber() {
    return new IdField<Integer, FlaffRow>(
        _path,
        "some_number",
        FlaffRow::someNumber,
        Optional.empty(),
        Optional.of("int4"),
        (row, value) -> row.withSomeNumber(value),
        PgTypes.int4);
  }

  public IdField<ShortText, FlaffRow> specifier() {
    return new IdField<ShortText, FlaffRow>(
        _path,
        "specifier",
        FlaffRow::specifier,
        Optional.empty(),
        Optional.of("text"),
        (row, value) -> row.withSpecifier(value),
        ShortText.dbType);
  }

  public OptField<ShortText, FlaffRow> parentspecifier() {
    return new OptField<ShortText, FlaffRow>(
        _path,
        "parentspecifier",
        FlaffRow::parentspecifier,
        Optional.empty(),
        Optional.of("text"),
        (row, value) -> row.withParentspecifier(value),
        ShortText.dbType);
  }

  @Override
  public List<Path> _path() {
    return _path;
  }

  public ForeignKey<FlaffFields, FlaffRow> fkFlaff() {
    return ForeignKey.<FlaffFields, FlaffRow>of("public.flaff_parent_fk")
        .<ShortText>withColumnPair(code(), FlaffFields::code)
        .<String>withColumnPair(anotherCode(), FlaffFields::anotherCode)
        .<Integer>withColumnPair(someNumber(), FlaffFields::someNumber)
        .<ShortText>withColumnPair(parentspecifier(), FlaffFields::specifier);
  }

  public SqlExpr<Boolean> compositeIdIs(FlaffId compositeId) {
    return SqlExpr.all(
        code().isEqual(compositeId.code()),
        anotherCode().isEqual(compositeId.anotherCode()),
        someNumber().isEqual(compositeId.someNumber()),
        specifier().isEqual(compositeId.specifier()));
  }

  public SqlExpr<Boolean> compositeIdIn(List<FlaffId> compositeIds) {
    return TupleExpr.of(code(), anotherCode(), someNumber(), specifier()).among(compositeIds);
  }

  @Override
  public List<FieldLike<?, FlaffRow>> columns() {
    return java.util.List.of(
        this.code(),
        this.anotherCode(),
        this.someNumber(),
        this.specifier(),
        this.parentspecifier());
  }

  @Override
  public RowParser<FlaffRow> rowParser() {
    return FlaffRow._rowParser;
  }

  @Override
  public RelationStructure<FlaffFields, FlaffRow> withPaths(List<Path> _path) {
    return new FlaffFields(_path);
  }

  @Override
  public SqlExpr<ShortText> _1() {
    return code();
  }

  @Override
  public SqlExpr<String> _2() {
    return anotherCode();
  }

  @Override
  public SqlExpr<Integer> _3() {
    return someNumber();
  }

  @Override
  public SqlExpr<ShortText> _4() {
    return specifier();
  }

  @Override
  public SqlExpr<ShortText> _5() {
    return parentspecifier();
  }
}
