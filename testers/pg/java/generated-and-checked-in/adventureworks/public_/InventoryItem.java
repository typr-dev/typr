/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_;

import dev.typr.foundations.PgRead;
import dev.typr.foundations.PgStruct;
import dev.typr.foundations.PgType;
import dev.typr.foundations.PgTypes;
import java.math.BigDecimal;
import java.util.Optional;

/** PostgreSQL composite type: public.inventory_item */
public record InventoryItem(
  Optional<String> name,
  Optional<String[]> tags,
  Optional<BigDecimal[]> prices,
  Optional<Boolean> available
) {
  public InventoryItem withName(Optional<String> name) {
    return new InventoryItem(name, tags, prices, available);
  };

  public InventoryItem withTags(Optional<String[]> tags) {
    return new InventoryItem(name, tags, prices, available);
  };

  public InventoryItem withPrices(Optional<BigDecimal[]> prices) {
    return new InventoryItem(name, tags, prices, available);
  };

  public InventoryItem withAvailable(Optional<Boolean> available) {
    return new InventoryItem(name, tags, prices, available);
  };

  static public PgStruct<InventoryItem> pgStruct =
    PgStruct.<InventoryItem>builder("public.inventory_item").optField("name", PgTypes.text, v -> v.name()).optField("tags", PgTypes.textArray, v -> v.tags()).optField("prices", PgTypes.numericArray, v -> v.prices()).optField("available", PgTypes.bool, v -> v.available()).build(arr -> new InventoryItem(Optional.ofNullable((String) arr[0]), Optional.ofNullable((String[]) arr[1]), Optional.ofNullable((BigDecimal[]) arr[2]), Optional.ofNullable((Boolean) arr[3])));

  static public PgType<InventoryItem> pgType =
    pgStruct.asType();

  static public PgType<InventoryItem[]> pgTypeArray =
    pgType.array(PgRead.readCompositeArray(pgType.pgCompositeText(), InventoryItem[]::new), InventoryItem[]::new);
}