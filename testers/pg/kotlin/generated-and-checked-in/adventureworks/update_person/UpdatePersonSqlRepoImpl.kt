/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.update_person

import dev.typr.foundations.PgTypes
import dev.typr.foundations.kotlin.Fragment
import dev.typr.foundations.kotlin.nullable
import java.sql.Connection
import java.time.LocalDateTime

class UpdatePersonSqlRepoImpl() : UpdatePersonSqlRepo {
  override fun apply(
    suffix: String,
    cutoff: LocalDateTime?,
    c: Connection
  ): Int = Fragment.interpolate(Fragment.lit("update person.person\nset firstname = firstname || '-' || "), Fragment.encode(PgTypes.text, suffix), Fragment.lit("\nwhere modifieddate < "), Fragment.encode(PgTypes.timestamp.nullable(), cutoff), Fragment.lit("::timestamp")).update().runUnchecked(c)
}