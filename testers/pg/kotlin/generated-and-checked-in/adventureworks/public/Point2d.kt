/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public

import dev.typr.foundations.PgRead
import dev.typr.foundations.PgStruct
import dev.typr.foundations.PgType
import dev.typr.foundations.kotlin.KotlinDbTypes
import java.util.Optional

/** PostgreSQL composite type: public.point_2d */
data class Point2d(
  val x: Double?,
  val y: Double?
) {
  companion object {
    val pgStruct: PgStruct<Point2d> =
      PgStruct.builder<Point2d>("public.point_2d").optField("x", KotlinDbTypes.PgTypes.float8, { v: Point2d -> Optional.ofNullable(v.x) }).optField("y", KotlinDbTypes.PgTypes.float8, { v: Point2d -> Optional.ofNullable(v.y) }).build({ arr -> Point2d(arr[0] as? Double, arr[1] as? Double) })

    val pgType: PgType<Point2d> =
      pgStruct.asType()

    val pgTypeArray: PgType<Array<Point2d>> =
      pgType.array(PgRead.readCompositeArray(pgType.pgCompositeText(), { n -> arrayOfNulls<Point2d>(n) }), { n -> arrayOfNulls<Point2d>(n) })
  }
}