/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.precision_types_null

import adventureworks.precisetypes.PaddedString10
import adventureworks.precisetypes.PaddedString3
import adventureworks.precisetypes.String10
import adventureworks.precisetypes.String100
import adventureworks.precisetypes.String20
import adventureworks.precisetypes.String255
import adventureworks.precisetypes.String50
import dev.typr.foundations.PgTypes
import dev.typr.foundations.kotlin.DeleteBuilder
import dev.typr.foundations.kotlin.Dialect
import dev.typr.foundations.kotlin.Fragment
import dev.typr.foundations.kotlin.SelectBuilder
import dev.typr.foundations.kotlin.UpdateBuilder
import dev.typr.foundations.kotlin.nullable
import dev.typr.foundations.streamingInsert
import java.sql.Connection
import java.util.ArrayList
import kotlin.collections.Iterator
import kotlin.collections.List
import kotlin.collections.Map
import kotlin.collections.MutableMap

class PrecisionTypesNullRepoImpl() : PrecisionTypesNullRepo {
  override fun delete(): DeleteBuilder<PrecisionTypesNullFields, PrecisionTypesNullRow> = DeleteBuilder.of("\"public\".\"precision_types_null\"", PrecisionTypesNullFields.structure, Dialect.POSTGRESQL)

  override fun deleteById(
    id: PrecisionTypesNullId,
    c: Connection
  ): Boolean = Fragment.interpolate(Fragment.lit("delete from \"public\".\"precision_types_null\" where \"id\" = "), Fragment.encode(PrecisionTypesNullId.dbType, id), Fragment.lit("")).update().runUnchecked(c) > 0

  override fun deleteByIds(
    ids: Array<PrecisionTypesNullId>,
    c: Connection
  ): Int = Fragment.interpolate(Fragment.lit("delete\nfrom \"public\".\"precision_types_null\"\nwhere \"id\" = ANY("), Fragment.encode(PrecisionTypesNullId.dbTypeArray, ids), Fragment.lit(")"))
    .update()
    .runUnchecked(c)

  override fun insert(
    unsaved: PrecisionTypesNullRow,
    c: Connection
  ): PrecisionTypesNullRow = Fragment.interpolate(Fragment.lit("insert into \"public\".\"precision_types_null\"(\"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\")\nvalues ("), Fragment.encode(PrecisionTypesNullId.dbType, unsaved.id), Fragment.lit("::int4, "), Fragment.encode(String10.dbType.nullable(), unsaved.string10), Fragment.lit(", "), Fragment.encode(String20.dbType.nullable(), unsaved.string20), Fragment.lit(", "), Fragment.encode(String50.dbType.nullable(), unsaved.string50), Fragment.lit(", "), Fragment.encode(String100.dbType.nullable(), unsaved.string100), Fragment.lit(", "), Fragment.encode(String255.dbType.nullable(), unsaved.string255), Fragment.lit(", "), Fragment.encode(PaddedString3.dbType.nullable(), unsaved.bpchar3), Fragment.lit("::bpchar, "), Fragment.encode(PaddedString10.dbType.nullable(), unsaved.bpchar10), Fragment.lit("::bpchar, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal52), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal102), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal184), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.numeric82), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.numeric124), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp0), Fragment.lit("::timestamp, "), Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp3), Fragment.lit("::timestamp, "), Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp6), Fragment.lit("::timestamp, "), Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz0), Fragment.lit("::timestamptz, "), Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz3), Fragment.lit("::timestamptz, "), Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz6), Fragment.lit("::timestamptz, "), Fragment.encode(PgTypes.time.nullable(), unsaved.time0), Fragment.lit("::time, "), Fragment.encode(PgTypes.time.nullable(), unsaved.time3), Fragment.lit("::time, "), Fragment.encode(PgTypes.time.nullable(), unsaved.time6), Fragment.lit("::time, "), Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz0), Fragment.lit("::timetz, "), Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz3), Fragment.lit("::timetz, "), Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz6), Fragment.lit("::timetz)\nRETURNING \"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\"\n"))
    .updateReturning(PrecisionTypesNullRow._rowParser.exactlyOne()).runUnchecked(c)

  override fun insert(
    unsaved: PrecisionTypesNullRowUnsaved,
    c: Connection
  ): PrecisionTypesNullRow {
    val columns: ArrayList<Fragment> = ArrayList()
    val values: ArrayList<Fragment> = ArrayList()
    columns.add(Fragment.lit("\"string10\""))
    values.add(Fragment.interpolate(Fragment.encode(String10.dbType.nullable(), unsaved.string10), Fragment.lit("")))
    columns.add(Fragment.lit("\"string20\""))
    values.add(Fragment.interpolate(Fragment.encode(String20.dbType.nullable(), unsaved.string20), Fragment.lit("")))
    columns.add(Fragment.lit("\"string50\""))
    values.add(Fragment.interpolate(Fragment.encode(String50.dbType.nullable(), unsaved.string50), Fragment.lit("")))
    columns.add(Fragment.lit("\"string100\""))
    values.add(Fragment.interpolate(Fragment.encode(String100.dbType.nullable(), unsaved.string100), Fragment.lit("")))
    columns.add(Fragment.lit("\"string255\""))
    values.add(Fragment.interpolate(Fragment.encode(String255.dbType.nullable(), unsaved.string255), Fragment.lit("")))
    columns.add(Fragment.lit("\"bpchar3\""))
    values.add(Fragment.interpolate(Fragment.encode(PaddedString3.dbType.nullable(), unsaved.bpchar3), Fragment.lit("::bpchar")))
    columns.add(Fragment.lit("\"bpchar10\""))
    values.add(Fragment.interpolate(Fragment.encode(PaddedString10.dbType.nullable(), unsaved.bpchar10), Fragment.lit("::bpchar")))
    columns.add(Fragment.lit("\"decimal5_2\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal52), Fragment.lit("::numeric")))
    columns.add(Fragment.lit("\"decimal10_2\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal102), Fragment.lit("::numeric")))
    columns.add(Fragment.lit("\"decimal18_4\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal184), Fragment.lit("::numeric")))
    columns.add(Fragment.lit("\"numeric8_2\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.numeric.nullable(), unsaved.numeric82), Fragment.lit("::numeric")))
    columns.add(Fragment.lit("\"numeric12_4\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.numeric.nullable(), unsaved.numeric124), Fragment.lit("::numeric")))
    columns.add(Fragment.lit("\"timestamp0\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp0), Fragment.lit("::timestamp")))
    columns.add(Fragment.lit("\"timestamp3\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp3), Fragment.lit("::timestamp")))
    columns.add(Fragment.lit("\"timestamp6\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp6), Fragment.lit("::timestamp")))
    columns.add(Fragment.lit("\"timestamptz0\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz0), Fragment.lit("::timestamptz")))
    columns.add(Fragment.lit("\"timestamptz3\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz3), Fragment.lit("::timestamptz")))
    columns.add(Fragment.lit("\"timestamptz6\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz6), Fragment.lit("::timestamptz")))
    columns.add(Fragment.lit("\"time0\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.time.nullable(), unsaved.time0), Fragment.lit("::time")))
    columns.add(Fragment.lit("\"time3\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.time.nullable(), unsaved.time3), Fragment.lit("::time")))
    columns.add(Fragment.lit("\"time6\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.time.nullable(), unsaved.time6), Fragment.lit("::time")))
    columns.add(Fragment.lit("\"timetz0\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz0), Fragment.lit("::timetz")))
    columns.add(Fragment.lit("\"timetz3\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz3), Fragment.lit("::timetz")))
    columns.add(Fragment.lit("\"timetz6\""))
    values.add(Fragment.interpolate(Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz6), Fragment.lit("::timetz")))
    unsaved.id.visit(
      {  },
      { value -> columns.add(Fragment.lit("\"id\""))
      values.add(Fragment.interpolate(Fragment.encode(PrecisionTypesNullId.dbType, value), Fragment.lit("::int4"))) }
    );
    val q: Fragment = Fragment.interpolate(Fragment.lit("insert into \"public\".\"precision_types_null\"("), Fragment.comma(columns.toMutableList()), Fragment.lit(")\nvalues ("), Fragment.comma(values.toMutableList()), Fragment.lit(")\nRETURNING \"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\"\n"))
    return q.updateReturning(PrecisionTypesNullRow._rowParser.exactlyOne()).runUnchecked(c)
  }

  override fun insertStreaming(
    unsaved: Iterator<PrecisionTypesNullRow>,
    batchSize: Int,
    c: Connection
  ): Long = streamingInsert.insertUnchecked("COPY \"public\".\"precision_types_null\"(\"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\") FROM STDIN", batchSize, unsaved, c, PrecisionTypesNullRow.pgText)

  /** NOTE: this functionality requires PostgreSQL 16 or later! */
  override fun insertUnsavedStreaming(
    unsaved: Iterator<PrecisionTypesNullRowUnsaved>,
    batchSize: Int,
    c: Connection
  ): Long = streamingInsert.insertUnchecked("COPY \"public\".\"precision_types_null\"(\"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\", \"id\") FROM STDIN (DEFAULT '__DEFAULT_VALUE__')", batchSize, unsaved, c, PrecisionTypesNullRowUnsaved.pgText)

  override fun select(): SelectBuilder<PrecisionTypesNullFields, PrecisionTypesNullRow> = SelectBuilder.of("\"public\".\"precision_types_null\"", PrecisionTypesNullFields.structure, PrecisionTypesNullRow._rowParser, Dialect.POSTGRESQL)

  override fun selectAll(c: Connection): List<PrecisionTypesNullRow> = Fragment.interpolate(Fragment.lit("select \"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\"\nfrom \"public\".\"precision_types_null\"\n")).query(PrecisionTypesNullRow._rowParser.all()).runUnchecked(c)

  override fun selectById(
    id: PrecisionTypesNullId,
    c: Connection
  ): PrecisionTypesNullRow? = Fragment.interpolate(Fragment.lit("select \"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\"\nfrom \"public\".\"precision_types_null\"\nwhere \"id\" = "), Fragment.encode(PrecisionTypesNullId.dbType, id), Fragment.lit("")).query(PrecisionTypesNullRow._rowParser.first()).runUnchecked(c)

  override fun selectByIds(
    ids: Array<PrecisionTypesNullId>,
    c: Connection
  ): List<PrecisionTypesNullRow> = Fragment.interpolate(Fragment.lit("select \"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\"\nfrom \"public\".\"precision_types_null\"\nwhere \"id\" = ANY("), Fragment.encode(PrecisionTypesNullId.dbTypeArray, ids), Fragment.lit(")")).query(PrecisionTypesNullRow._rowParser.all()).runUnchecked(c)

  override fun selectByIdsTracked(
    ids: Array<PrecisionTypesNullId>,
    c: Connection
  ): Map<PrecisionTypesNullId, PrecisionTypesNullRow> {
    val ret: MutableMap<PrecisionTypesNullId, PrecisionTypesNullRow> = mutableMapOf<PrecisionTypesNullId, PrecisionTypesNullRow>()
    selectByIds(ids, c).forEach({ row -> ret.put(row.id, row) })
    return ret.toMap()
  }

  override fun update(): UpdateBuilder<PrecisionTypesNullFields, PrecisionTypesNullRow> = UpdateBuilder.of("\"public\".\"precision_types_null\"", PrecisionTypesNullFields.structure, PrecisionTypesNullRow._rowParser, Dialect.POSTGRESQL)

  override fun update(
    row: PrecisionTypesNullRow,
    c: Connection
  ): Boolean {
    val id: PrecisionTypesNullId = row.id
    return Fragment.interpolate(Fragment.lit("update \"public\".\"precision_types_null\"\nset \"string10\" = "), Fragment.encode(String10.dbType.nullable(), row.string10), Fragment.lit(",\n\"string20\" = "), Fragment.encode(String20.dbType.nullable(), row.string20), Fragment.lit(",\n\"string50\" = "), Fragment.encode(String50.dbType.nullable(), row.string50), Fragment.lit(",\n\"string100\" = "), Fragment.encode(String100.dbType.nullable(), row.string100), Fragment.lit(",\n\"string255\" = "), Fragment.encode(String255.dbType.nullable(), row.string255), Fragment.lit(",\n\"bpchar3\" = "), Fragment.encode(PaddedString3.dbType.nullable(), row.bpchar3), Fragment.lit("::bpchar,\n\"bpchar10\" = "), Fragment.encode(PaddedString10.dbType.nullable(), row.bpchar10), Fragment.lit("::bpchar,\n\"decimal5_2\" = "), Fragment.encode(PgTypes.numeric.nullable(), row.decimal52), Fragment.lit("::numeric,\n\"decimal10_2\" = "), Fragment.encode(PgTypes.numeric.nullable(), row.decimal102), Fragment.lit("::numeric,\n\"decimal18_4\" = "), Fragment.encode(PgTypes.numeric.nullable(), row.decimal184), Fragment.lit("::numeric,\n\"numeric8_2\" = "), Fragment.encode(PgTypes.numeric.nullable(), row.numeric82), Fragment.lit("::numeric,\n\"numeric12_4\" = "), Fragment.encode(PgTypes.numeric.nullable(), row.numeric124), Fragment.lit("::numeric,\n\"timestamp0\" = "), Fragment.encode(PgTypes.timestamp.nullable(), row.timestamp0), Fragment.lit("::timestamp,\n\"timestamp3\" = "), Fragment.encode(PgTypes.timestamp.nullable(), row.timestamp3), Fragment.lit("::timestamp,\n\"timestamp6\" = "), Fragment.encode(PgTypes.timestamp.nullable(), row.timestamp6), Fragment.lit("::timestamp,\n\"timestamptz0\" = "), Fragment.encode(PgTypes.timestamptz.nullable(), row.timestamptz0), Fragment.lit("::timestamptz,\n\"timestamptz3\" = "), Fragment.encode(PgTypes.timestamptz.nullable(), row.timestamptz3), Fragment.lit("::timestamptz,\n\"timestamptz6\" = "), Fragment.encode(PgTypes.timestamptz.nullable(), row.timestamptz6), Fragment.lit("::timestamptz,\n\"time0\" = "), Fragment.encode(PgTypes.time.nullable(), row.time0), Fragment.lit("::time,\n\"time3\" = "), Fragment.encode(PgTypes.time.nullable(), row.time3), Fragment.lit("::time,\n\"time6\" = "), Fragment.encode(PgTypes.time.nullable(), row.time6), Fragment.lit("::time,\n\"timetz0\" = "), Fragment.encode(PgTypes.timetz.nullable(), row.timetz0), Fragment.lit("::timetz,\n\"timetz3\" = "), Fragment.encode(PgTypes.timetz.nullable(), row.timetz3), Fragment.lit("::timetz,\n\"timetz6\" = "), Fragment.encode(PgTypes.timetz.nullable(), row.timetz6), Fragment.lit("::timetz\nwhere \"id\" = "), Fragment.encode(PrecisionTypesNullId.dbType, id), Fragment.lit("")).update().runUnchecked(c) > 0
  }

  override fun upsert(
    unsaved: PrecisionTypesNullRow,
    c: Connection
  ): PrecisionTypesNullRow = Fragment.interpolate(Fragment.lit("insert into \"public\".\"precision_types_null\"(\"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\")\nvalues ("), Fragment.encode(PrecisionTypesNullId.dbType, unsaved.id), Fragment.lit("::int4, "), Fragment.encode(String10.dbType.nullable(), unsaved.string10), Fragment.lit(", "), Fragment.encode(String20.dbType.nullable(), unsaved.string20), Fragment.lit(", "), Fragment.encode(String50.dbType.nullable(), unsaved.string50), Fragment.lit(", "), Fragment.encode(String100.dbType.nullable(), unsaved.string100), Fragment.lit(", "), Fragment.encode(String255.dbType.nullable(), unsaved.string255), Fragment.lit(", "), Fragment.encode(PaddedString3.dbType.nullable(), unsaved.bpchar3), Fragment.lit("::bpchar, "), Fragment.encode(PaddedString10.dbType.nullable(), unsaved.bpchar10), Fragment.lit("::bpchar, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal52), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal102), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.decimal184), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.numeric82), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.numeric.nullable(), unsaved.numeric124), Fragment.lit("::numeric, "), Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp0), Fragment.lit("::timestamp, "), Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp3), Fragment.lit("::timestamp, "), Fragment.encode(PgTypes.timestamp.nullable(), unsaved.timestamp6), Fragment.lit("::timestamp, "), Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz0), Fragment.lit("::timestamptz, "), Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz3), Fragment.lit("::timestamptz, "), Fragment.encode(PgTypes.timestamptz.nullable(), unsaved.timestamptz6), Fragment.lit("::timestamptz, "), Fragment.encode(PgTypes.time.nullable(), unsaved.time0), Fragment.lit("::time, "), Fragment.encode(PgTypes.time.nullable(), unsaved.time3), Fragment.lit("::time, "), Fragment.encode(PgTypes.time.nullable(), unsaved.time6), Fragment.lit("::time, "), Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz0), Fragment.lit("::timetz, "), Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz3), Fragment.lit("::timetz, "), Fragment.encode(PgTypes.timetz.nullable(), unsaved.timetz6), Fragment.lit("::timetz)\non conflict (\"id\")\ndo update set\n  \"string10\" = EXCLUDED.\"string10\",\n\"string20\" = EXCLUDED.\"string20\",\n\"string50\" = EXCLUDED.\"string50\",\n\"string100\" = EXCLUDED.\"string100\",\n\"string255\" = EXCLUDED.\"string255\",\n\"bpchar3\" = EXCLUDED.\"bpchar3\",\n\"bpchar10\" = EXCLUDED.\"bpchar10\",\n\"decimal5_2\" = EXCLUDED.\"decimal5_2\",\n\"decimal10_2\" = EXCLUDED.\"decimal10_2\",\n\"decimal18_4\" = EXCLUDED.\"decimal18_4\",\n\"numeric8_2\" = EXCLUDED.\"numeric8_2\",\n\"numeric12_4\" = EXCLUDED.\"numeric12_4\",\n\"timestamp0\" = EXCLUDED.\"timestamp0\",\n\"timestamp3\" = EXCLUDED.\"timestamp3\",\n\"timestamp6\" = EXCLUDED.\"timestamp6\",\n\"timestamptz0\" = EXCLUDED.\"timestamptz0\",\n\"timestamptz3\" = EXCLUDED.\"timestamptz3\",\n\"timestamptz6\" = EXCLUDED.\"timestamptz6\",\n\"time0\" = EXCLUDED.\"time0\",\n\"time3\" = EXCLUDED.\"time3\",\n\"time6\" = EXCLUDED.\"time6\",\n\"timetz0\" = EXCLUDED.\"timetz0\",\n\"timetz3\" = EXCLUDED.\"timetz3\",\n\"timetz6\" = EXCLUDED.\"timetz6\"\nreturning \"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\""))
    .updateReturning(PrecisionTypesNullRow._rowParser.exactlyOne())
    .runUnchecked(c)

  override fun upsertBatch(
    unsaved: Iterator<PrecisionTypesNullRow>,
    c: Connection
  ): List<PrecisionTypesNullRow> = Fragment.interpolate(Fragment.lit("insert into \"public\".\"precision_types_null\"(\"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\")\nvalues (?::int4, ?, ?, ?, ?, ?, ?::bpchar, ?::bpchar, ?::numeric, ?::numeric, ?::numeric, ?::numeric, ?::numeric, ?::timestamp, ?::timestamp, ?::timestamp, ?::timestamptz, ?::timestamptz, ?::timestamptz, ?::time, ?::time, ?::time, ?::timetz, ?::timetz, ?::timetz)\non conflict (\"id\")\ndo update set\n  \"string10\" = EXCLUDED.\"string10\",\n\"string20\" = EXCLUDED.\"string20\",\n\"string50\" = EXCLUDED.\"string50\",\n\"string100\" = EXCLUDED.\"string100\",\n\"string255\" = EXCLUDED.\"string255\",\n\"bpchar3\" = EXCLUDED.\"bpchar3\",\n\"bpchar10\" = EXCLUDED.\"bpchar10\",\n\"decimal5_2\" = EXCLUDED.\"decimal5_2\",\n\"decimal10_2\" = EXCLUDED.\"decimal10_2\",\n\"decimal18_4\" = EXCLUDED.\"decimal18_4\",\n\"numeric8_2\" = EXCLUDED.\"numeric8_2\",\n\"numeric12_4\" = EXCLUDED.\"numeric12_4\",\n\"timestamp0\" = EXCLUDED.\"timestamp0\",\n\"timestamp3\" = EXCLUDED.\"timestamp3\",\n\"timestamp6\" = EXCLUDED.\"timestamp6\",\n\"timestamptz0\" = EXCLUDED.\"timestamptz0\",\n\"timestamptz3\" = EXCLUDED.\"timestamptz3\",\n\"timestamptz6\" = EXCLUDED.\"timestamptz6\",\n\"time0\" = EXCLUDED.\"time0\",\n\"time3\" = EXCLUDED.\"time3\",\n\"time6\" = EXCLUDED.\"time6\",\n\"timetz0\" = EXCLUDED.\"timetz0\",\n\"timetz3\" = EXCLUDED.\"timetz3\",\n\"timetz6\" = EXCLUDED.\"timetz6\"\nreturning \"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\""))
    .updateManyReturning(PrecisionTypesNullRow._rowParser, unsaved)
  .runUnchecked(c)

  /** NOTE: this functionality is not safe if you use auto-commit mode! it runs 3 SQL statements */
  override fun upsertStreaming(
    unsaved: Iterator<PrecisionTypesNullRow>,
    batchSize: Int,
    c: Connection
  ): Int {
    Fragment.interpolate(Fragment.lit("create temporary table precision_types_null_TEMP (like \"public\".\"precision_types_null\") on commit drop")).update().runUnchecked(c)
    streamingInsert.insertUnchecked("copy precision_types_null_TEMP(\"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\") from stdin", batchSize, unsaved, c, PrecisionTypesNullRow.pgText)
    return Fragment.interpolate(Fragment.lit("insert into \"public\".\"precision_types_null\"(\"id\", \"string10\", \"string20\", \"string50\", \"string100\", \"string255\", \"bpchar3\", \"bpchar10\", \"decimal5_2\", \"decimal10_2\", \"decimal18_4\", \"numeric8_2\", \"numeric12_4\", \"timestamp0\", \"timestamp3\", \"timestamp6\", \"timestamptz0\", \"timestamptz3\", \"timestamptz6\", \"time0\", \"time3\", \"time6\", \"timetz0\", \"timetz3\", \"timetz6\")\nselect * from precision_types_null_TEMP\non conflict (\"id\")\ndo update set\n  \"string10\" = EXCLUDED.\"string10\",\n\"string20\" = EXCLUDED.\"string20\",\n\"string50\" = EXCLUDED.\"string50\",\n\"string100\" = EXCLUDED.\"string100\",\n\"string255\" = EXCLUDED.\"string255\",\n\"bpchar3\" = EXCLUDED.\"bpchar3\",\n\"bpchar10\" = EXCLUDED.\"bpchar10\",\n\"decimal5_2\" = EXCLUDED.\"decimal5_2\",\n\"decimal10_2\" = EXCLUDED.\"decimal10_2\",\n\"decimal18_4\" = EXCLUDED.\"decimal18_4\",\n\"numeric8_2\" = EXCLUDED.\"numeric8_2\",\n\"numeric12_4\" = EXCLUDED.\"numeric12_4\",\n\"timestamp0\" = EXCLUDED.\"timestamp0\",\n\"timestamp3\" = EXCLUDED.\"timestamp3\",\n\"timestamp6\" = EXCLUDED.\"timestamp6\",\n\"timestamptz0\" = EXCLUDED.\"timestamptz0\",\n\"timestamptz3\" = EXCLUDED.\"timestamptz3\",\n\"timestamptz6\" = EXCLUDED.\"timestamptz6\",\n\"time0\" = EXCLUDED.\"time0\",\n\"time3\" = EXCLUDED.\"time3\",\n\"time6\" = EXCLUDED.\"time6\",\n\"timetz0\" = EXCLUDED.\"timetz0\",\n\"timetz3\" = EXCLUDED.\"timetz3\",\n\"timetz6\" = EXCLUDED.\"timetz6\"\n;\ndrop table precision_types_null_TEMP;")).update().runUnchecked(c)
  }
}