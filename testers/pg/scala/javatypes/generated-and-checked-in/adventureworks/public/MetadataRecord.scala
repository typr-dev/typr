/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public

import dev.typr.foundations.PgStruct
import dev.typr.foundations.PgType
import dev.typr.foundations.PgTypes
import dev.typr.foundations.data.Jsonb
import java.time.Instant
import java.util.Optional

/** PostgreSQL composite type: public.metadata_record */
case class MetadataRecord(
  key: Optional[String],
  value: Optional[Jsonb],
  createdAt: Optional[Instant]
)

object MetadataRecord {
  given pgStruct: PgStruct[MetadataRecord] = PgStruct.builder[MetadataRecord]("public.metadata_record").nullableField("key", PgTypes.text, (v: MetadataRecord) => v.key).nullableField("value", PgTypes.jsonb, (v: MetadataRecord) => v.value).nullableField("createdAt", PgTypes.timestamptz, (v: MetadataRecord) => v.createdAt).build(arr => MetadataRecord(key = Option(arr(0)).map(_.asInstanceOf[String]), value = Option(arr(1)).map(_.asInstanceOf[Jsonb]), createdAt = Option(arr(2)).map(_.asInstanceOf[Instant])))

  given pgType: PgType[MetadataRecord] = pgStruct.asType()
}