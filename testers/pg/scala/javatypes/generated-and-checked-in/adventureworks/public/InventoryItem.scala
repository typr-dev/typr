/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public

import dev.typr.foundations.PgRead
import dev.typr.foundations.PgStruct
import dev.typr.foundations.PgType
import dev.typr.foundations.PgTypes
import java.util.Optional

/** PostgreSQL composite type: public.inventory_item */
case class InventoryItem(
  name: Optional[String],
  tags: Optional[Array[String]],
  prices: Optional[Array[java.math.BigDecimal]],
  available: Optional[java.lang.Boolean]
)

object InventoryItem {
  given pgStruct: PgStruct[InventoryItem] = PgStruct.builder[InventoryItem]("public.inventory_item").optField("name", PgTypes.text, (v: InventoryItem) => v.name).optField("tags", PgTypes.textArray, (v: InventoryItem) => v.tags).optField("prices", PgTypes.numericArray, (v: InventoryItem) => v.prices).optField("available", PgTypes.bool, (v: InventoryItem) => v.available).build(arr => InventoryItem(name = Optional.ofNullable(arr(0).asInstanceOf[String]), tags = Optional.ofNullable(arr(1).asInstanceOf[Array[String]]), prices = Optional.ofNullable(arr(2).asInstanceOf[Array[java.math.BigDecimal]]), available = Optional.ofNullable(arr(3).asInstanceOf[java.lang.Boolean])))

  given pgType: PgType[InventoryItem] = pgStruct.asType()

  given pgTypeArray: PgType[Array[InventoryItem]] = pgType.array(PgRead.readCompositeArray(pgType.pgCompositeText(), n => new Array[InventoryItem](n)), n => new Array[InventoryItem](n))
}