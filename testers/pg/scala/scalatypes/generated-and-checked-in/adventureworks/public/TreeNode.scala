/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public

import dev.typr.foundations.PgStruct
import dev.typr.foundations.PgType
import dev.typr.foundations.PgTypes
import dev.typr.foundations.scala.ScalaDbTypes

/** PostgreSQL composite type: public.tree_node */
case class TreeNode(
  id: Option[Int],
  label: Option[String],
  parentId: Option[Int]
)

object TreeNode {
  given pgStruct: PgStruct[TreeNode] = PgStruct.builder[TreeNode]("public.tree_node").nullableField("id", ScalaDbTypes.PgTypes.int4, (v: TreeNode) => v.id).nullableField("label", PgTypes.text, (v: TreeNode) => v.label).nullableField("parentId", ScalaDbTypes.PgTypes.int4, (v: TreeNode) => v.parentId).build(arr => TreeNode(id = Option(arr(0)).map(_.asInstanceOf[Int]), label = Option(arr(1)).map(_.asInstanceOf[String]), parentId = Option(arr(2)).map(_.asInstanceOf[Int])))

  given pgType: PgType[TreeNode] = pgStruct.asType()
}