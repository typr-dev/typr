/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.identity_test

import adventureworks.customtypes.Defaulted
import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.PgText
import dev.typr.foundations.Tuple.Tuple3
import dev.typr.foundations.scala.RowParser
import dev.typr.foundations.scala.RowParsers
import dev.typr.foundations.scala.ScalaDbTypes

/** Table: public.identity-test
 * Primary key: name
 */
case class IdentityTestRow(
  /** Identity ALWAYS, identityStart: 1, identityIncrement: 1, identityMaximum: 2147483647, identityMinimum: 1 */
  @JsonProperty("always_generated") alwaysGenerated: Int,
  /** Identity BY DEFAULT, identityStart: 1, identityIncrement: 1, identityMaximum: 2147483647, identityMinimum: 1 */
  @JsonProperty("default_generated") defaultGenerated: Int,
  name: IdentityTestId
) extends Tuple3[Int, Int, IdentityTestId] {
  def id: IdentityTestId = name

  def toUnsavedRow(defaultGenerated: Defaulted[Int] = Defaulted.Provided(this.defaultGenerated)): IdentityTestRowUnsaved = new IdentityTestRowUnsaved(name, defaultGenerated)

  override def `_1`: Int = alwaysGenerated

  override def `_2`: Int = defaultGenerated

  override def `_3`: IdentityTestId = name
}

object IdentityTestRow {
  val `_rowParser`: RowParser[IdentityTestRow] = RowParsers.of(ScalaDbTypes.PgTypes.int4, ScalaDbTypes.PgTypes.int4, IdentityTestId.pgType)(IdentityTestRow.apply)(row => Array[Any](row.alwaysGenerated, row.defaultGenerated, row.name))

  given pgText: PgText[IdentityTestRow] = PgText.from(`_rowParser`.underlying)
}