/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.users

import adventureworks.customtypes.Defaulted
import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.PgText
import dev.typr.foundations.PgTypes
import dev.typr.foundations.Tuple.Tuple7
import dev.typr.foundations.data.Unknown
import dev.typr.foundations.scala.DbTypeOps
import dev.typr.foundations.scala.RowParser
import dev.typr.foundations.scala.RowParsers
import java.time.Instant

/** Table: public.users
 * Primary key: user_id
 */
case class UsersRow(
  @JsonProperty("user_id") userId: UsersId,
  name: String,
  @JsonProperty("last_name") lastName: Option[String],
  email: Unknown,
  password: String,
  /** Default: now() */
  @JsonProperty("created_at") createdAt: Instant,
  @JsonProperty("verified_on") verifiedOn: Option[Instant]
) extends Tuple7[UsersId, String, Option[String], Unknown, String, Instant, Option[Instant]] {
  def id: UsersId = userId

  def toUnsavedRow(createdAt: Defaulted[Instant] = Defaulted.Provided(this.createdAt)): UsersRowUnsaved = {
    new UsersRowUnsaved(
      userId,
      name,
      lastName,
      email,
      password,
      verifiedOn,
      createdAt
    )
  }

  override def `_1`: UsersId = userId

  override def `_2`: String = name

  override def `_3`: Option[String] = lastName

  override def `_4`: Unknown = email

  override def `_5`: String = password

  override def `_6`: Instant = createdAt

  override def `_7`: Option[Instant] = verifiedOn
}

object UsersRow {
  val `_rowParser`: RowParser[UsersRow] = RowParsers.of(UsersId.pgType, PgTypes.text, PgTypes.text.nullable, PgTypes.unknown, PgTypes.text, PgTypes.timestamptz, PgTypes.timestamptz.nullable)(UsersRow.apply)(row => Array[Any](row.userId, row.name, row.lastName, row.email, row.password, row.createdAt, row.verifiedOn))

  given pgText: PgText[UsersRow] = PgText.from(`_rowParser`.underlying)
}