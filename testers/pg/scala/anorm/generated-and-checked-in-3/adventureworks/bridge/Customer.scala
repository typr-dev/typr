/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.bridge

import play.api.libs.json.JsObject
import play.api.libs.json.JsResult
import play.api.libs.json.JsValue
import play.api.libs.json.OWrites
import play.api.libs.json.Reads
import play.api.libs.json.Writes
import scala.collection.immutable.ListMap
import scala.util.Try

/** Bridge composite type: Customer */
case class Customer(
  created_at: Option[String],
  customer_id: String,
  email: Option[String]
)

object Customer {
  given reads: Reads[Customer] = {
    Reads[Customer](json => JsResult.fromTry(
        Try(
          Customer(
            created_at = json.\("created_at").toOption.map(_.as(using Reads.StringReads)),
            customer_id = json.\("customer_id").as(using Reads.StringReads),
            email = json.\("email").toOption.map(_.as(using Reads.StringReads))
          )
        )
      ),
    )
  }

  given writes: OWrites[Customer] = {
    OWrites[Customer](o =>
      new JsObject(ListMap[String, JsValue](
        "created_at" -> Writes.OptionWrites(using Writes.StringWrites).writes(o.created_at),
        "customer_id" -> Writes.StringWrites.writes(o.customer_id),
        "email" -> Writes.OptionWrites(using Writes.StringWrites).writes(o.email)
      ))
    )
  }
}