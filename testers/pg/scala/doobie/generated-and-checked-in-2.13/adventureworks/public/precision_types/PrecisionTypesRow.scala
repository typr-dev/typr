/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.precision_types

import adventureworks.customtypes.Defaulted
import adventureworks.customtypes.TypoInstant
import adventureworks.customtypes.TypoLocalDateTime
import adventureworks.customtypes.TypoLocalTime
import adventureworks.customtypes.TypoOffsetTime
import doobie.postgres.Text
import doobie.util.Read
import doobie.util.Write
import doobie.util.meta.Meta
import io.circe.Decoder
import io.circe.DecodingFailure
import io.circe.Encoder
import io.circe.HCursor
import io.circe.Json
import scala.util.Try

/** Table: public.precision_types
 * Primary key: id
 */
case class PrecisionTypesRow(
  /** Default: nextval('precision_types_id_seq'::regclass) */
  id: PrecisionTypesId,
  string10: String,
  string20: String,
  string50: String,
  string100: String,
  string255: String,
  bpchar3: String,
  bpchar10: String,
  decimal52: BigDecimal,
  decimal102: BigDecimal,
  decimal184: BigDecimal,
  numeric82: BigDecimal,
  numeric124: BigDecimal,
  timestamp0: TypoLocalDateTime,
  timestamp3: TypoLocalDateTime,
  timestamp6: TypoLocalDateTime,
  timestamptz0: TypoInstant,
  timestamptz3: TypoInstant,
  timestamptz6: TypoInstant,
  time0: TypoLocalTime,
  time3: TypoLocalTime,
  time6: TypoLocalTime,
  timetz0: TypoOffsetTime,
  timetz3: TypoOffsetTime,
  timetz6: TypoOffsetTime
) {
  def toUnsavedRow(id: Defaulted[PrecisionTypesId]): PrecisionTypesRowUnsaved = {
    new PrecisionTypesRowUnsaved(
      string10,
      string20,
      string50,
      string100,
      string255,
      bpchar3,
      bpchar10,
      decimal52,
      decimal102,
      decimal184,
      numeric82,
      numeric124,
      timestamp0,
      timestamp3,
      timestamp6,
      timestamptz0,
      timestamptz3,
      timestamptz6,
      time0,
      time3,
      time6,
      timetz0,
      timetz3,
      timetz6,
      id
    )
  }
}

object PrecisionTypesRow {
  implicit lazy val decoder: Decoder[PrecisionTypesRow] = {
    Decoder.instanceTry[PrecisionTypesRow]((c: HCursor) =>
      Try {
        def orThrow[R](either: Either[DecodingFailure, R]): R = either match {
          case Left(err) => throw err
          case Right(r)  => r
        }
        PrecisionTypesRow(
          id = orThrow(c.get("id")(PrecisionTypesId.decoder)),
          string10 = orThrow(c.get("string10")(Decoder.decodeString)),
          string20 = orThrow(c.get("string20")(Decoder.decodeString)),
          string50 = orThrow(c.get("string50")(Decoder.decodeString)),
          string100 = orThrow(c.get("string100")(Decoder.decodeString)),
          string255 = orThrow(c.get("string255")(Decoder.decodeString)),
          bpchar3 = orThrow(c.get("bpchar3")(Decoder.decodeString)),
          bpchar10 = orThrow(c.get("bpchar10")(Decoder.decodeString)),
          decimal52 = orThrow(c.get("decimal5_2")(Decoder.decodeBigDecimal)),
          decimal102 = orThrow(c.get("decimal10_2")(Decoder.decodeBigDecimal)),
          decimal184 = orThrow(c.get("decimal18_4")(Decoder.decodeBigDecimal)),
          numeric82 = orThrow(c.get("numeric8_2")(Decoder.decodeBigDecimal)),
          numeric124 = orThrow(c.get("numeric12_4")(Decoder.decodeBigDecimal)),
          timestamp0 = orThrow(c.get("timestamp0")(TypoLocalDateTime.decoder)),
          timestamp3 = orThrow(c.get("timestamp3")(TypoLocalDateTime.decoder)),
          timestamp6 = orThrow(c.get("timestamp6")(TypoLocalDateTime.decoder)),
          timestamptz0 = orThrow(c.get("timestamptz0")(TypoInstant.decoder)),
          timestamptz3 = orThrow(c.get("timestamptz3")(TypoInstant.decoder)),
          timestamptz6 = orThrow(c.get("timestamptz6")(TypoInstant.decoder)),
          time0 = orThrow(c.get("time0")(TypoLocalTime.decoder)),
          time3 = orThrow(c.get("time3")(TypoLocalTime.decoder)),
          time6 = orThrow(c.get("time6")(TypoLocalTime.decoder)),
          timetz0 = orThrow(c.get("timetz0")(TypoOffsetTime.decoder)),
          timetz3 = orThrow(c.get("timetz3")(TypoOffsetTime.decoder)),
          timetz6 = orThrow(c.get("timetz6")(TypoOffsetTime.decoder))
        )
      }
    )
  }

  implicit lazy val encoder: Encoder[PrecisionTypesRow] = {
    Encoder.instance[PrecisionTypesRow](row =>
      Json.obj(
        "id" -> PrecisionTypesId.encoder.apply(row.id),
        "string10" -> Encoder.encodeString.apply(row.string10),
        "string20" -> Encoder.encodeString.apply(row.string20),
        "string50" -> Encoder.encodeString.apply(row.string50),
        "string100" -> Encoder.encodeString.apply(row.string100),
        "string255" -> Encoder.encodeString.apply(row.string255),
        "bpchar3" -> Encoder.encodeString.apply(row.bpchar3),
        "bpchar10" -> Encoder.encodeString.apply(row.bpchar10),
        "decimal5_2" -> Encoder.encodeBigDecimal.apply(row.decimal52),
        "decimal10_2" -> Encoder.encodeBigDecimal.apply(row.decimal102),
        "decimal18_4" -> Encoder.encodeBigDecimal.apply(row.decimal184),
        "numeric8_2" -> Encoder.encodeBigDecimal.apply(row.numeric82),
        "numeric12_4" -> Encoder.encodeBigDecimal.apply(row.numeric124),
        "timestamp0" -> TypoLocalDateTime.encoder.apply(row.timestamp0),
        "timestamp3" -> TypoLocalDateTime.encoder.apply(row.timestamp3),
        "timestamp6" -> TypoLocalDateTime.encoder.apply(row.timestamp6),
        "timestamptz0" -> TypoInstant.encoder.apply(row.timestamptz0),
        "timestamptz3" -> TypoInstant.encoder.apply(row.timestamptz3),
        "timestamptz6" -> TypoInstant.encoder.apply(row.timestamptz6),
        "time0" -> TypoLocalTime.encoder.apply(row.time0),
        "time3" -> TypoLocalTime.encoder.apply(row.time3),
        "time6" -> TypoLocalTime.encoder.apply(row.time6),
        "timetz0" -> TypoOffsetTime.encoder.apply(row.timetz0),
        "timetz3" -> TypoOffsetTime.encoder.apply(row.timetz3),
        "timetz6" -> TypoOffsetTime.encoder.apply(row.timetz6)
      )
    )
  }

  implicit lazy val pgText: Text[PrecisionTypesRow] = {
    Text.instance[PrecisionTypesRow]{ (row, sb) =>
      PrecisionTypesId.pgText.unsafeEncode(row.id, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string10, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string20, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string50, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string100, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string255, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.bpchar3, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.bpchar10, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.decimal52, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.decimal102, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.decimal184, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.numeric82, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.numeric124, sb)
      sb.append(Text.DELIMETER)
      TypoLocalDateTime.pgText.unsafeEncode(row.timestamp0, sb)
      sb.append(Text.DELIMETER)
      TypoLocalDateTime.pgText.unsafeEncode(row.timestamp3, sb)
      sb.append(Text.DELIMETER)
      TypoLocalDateTime.pgText.unsafeEncode(row.timestamp6, sb)
      sb.append(Text.DELIMETER)
      TypoInstant.pgText.unsafeEncode(row.timestamptz0, sb)
      sb.append(Text.DELIMETER)
      TypoInstant.pgText.unsafeEncode(row.timestamptz3, sb)
      sb.append(Text.DELIMETER)
      TypoInstant.pgText.unsafeEncode(row.timestamptz6, sb)
      sb.append(Text.DELIMETER)
      TypoLocalTime.pgText.unsafeEncode(row.time0, sb)
      sb.append(Text.DELIMETER)
      TypoLocalTime.pgText.unsafeEncode(row.time3, sb)
      sb.append(Text.DELIMETER)
      TypoLocalTime.pgText.unsafeEncode(row.time6, sb)
      sb.append(Text.DELIMETER)
      TypoOffsetTime.pgText.unsafeEncode(row.timetz0, sb)
      sb.append(Text.DELIMETER)
      TypoOffsetTime.pgText.unsafeEncode(row.timetz3, sb)
      sb.append(Text.DELIMETER)
      TypoOffsetTime.pgText.unsafeEncode(row.timetz6, sb)
    }
  }

  implicit lazy val read: Read[PrecisionTypesRow] = {
    new Read.CompositeOfInstances(Array(
      new Read.Single(PrecisionTypesId.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.StringMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.StringMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.StringMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.StringMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.StringMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.StringMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.StringMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.ScalaBigDecimalMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.ScalaBigDecimalMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.ScalaBigDecimalMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.ScalaBigDecimalMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(Meta.ScalaBigDecimalMeta.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoLocalDateTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoLocalDateTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoLocalDateTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoInstant.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoInstant.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoInstant.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoLocalTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoLocalTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoLocalTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoOffsetTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoOffsetTime.get).asInstanceOf[Read[Any]],
        new Read.Single(TypoOffsetTime.get).asInstanceOf[Read[Any]]
    ))(scala.reflect.ClassTag.Any).map { arr =>
      PrecisionTypesRow(
        id = arr(0).asInstanceOf[PrecisionTypesId],
            string10 = arr(1).asInstanceOf[String],
            string20 = arr(2).asInstanceOf[String],
            string50 = arr(3).asInstanceOf[String],
            string100 = arr(4).asInstanceOf[String],
            string255 = arr(5).asInstanceOf[String],
            bpchar3 = arr(6).asInstanceOf[String],
            bpchar10 = arr(7).asInstanceOf[String],
            decimal52 = arr(8).asInstanceOf[BigDecimal],
            decimal102 = arr(9).asInstanceOf[BigDecimal],
            decimal184 = arr(10).asInstanceOf[BigDecimal],
            numeric82 = arr(11).asInstanceOf[BigDecimal],
            numeric124 = arr(12).asInstanceOf[BigDecimal],
            timestamp0 = arr(13).asInstanceOf[TypoLocalDateTime],
            timestamp3 = arr(14).asInstanceOf[TypoLocalDateTime],
            timestamp6 = arr(15).asInstanceOf[TypoLocalDateTime],
            timestamptz0 = arr(16).asInstanceOf[TypoInstant],
            timestamptz3 = arr(17).asInstanceOf[TypoInstant],
            timestamptz6 = arr(18).asInstanceOf[TypoInstant],
            time0 = arr(19).asInstanceOf[TypoLocalTime],
            time3 = arr(20).asInstanceOf[TypoLocalTime],
            time6 = arr(21).asInstanceOf[TypoLocalTime],
            timetz0 = arr(22).asInstanceOf[TypoOffsetTime],
            timetz3 = arr(23).asInstanceOf[TypoOffsetTime],
            timetz6 = arr(24).asInstanceOf[TypoOffsetTime]
      )
    }
  }

  implicit lazy val write: Write[PrecisionTypesRow] = {
    new Write.Composite[PrecisionTypesRow](
      List(new Write.Single(PrecisionTypesId.put),
           new Write.Single(Meta.StringMeta.put),
           new Write.Single(Meta.StringMeta.put),
           new Write.Single(Meta.StringMeta.put),
           new Write.Single(Meta.StringMeta.put),
           new Write.Single(Meta.StringMeta.put),
           new Write.Single(Meta.StringMeta.put),
           new Write.Single(Meta.StringMeta.put),
           new Write.Single(Meta.ScalaBigDecimalMeta.put),
           new Write.Single(Meta.ScalaBigDecimalMeta.put),
           new Write.Single(Meta.ScalaBigDecimalMeta.put),
           new Write.Single(Meta.ScalaBigDecimalMeta.put),
           new Write.Single(Meta.ScalaBigDecimalMeta.put),
           new Write.Single(TypoLocalDateTime.put),
           new Write.Single(TypoLocalDateTime.put),
           new Write.Single(TypoLocalDateTime.put),
           new Write.Single(TypoInstant.put),
           new Write.Single(TypoInstant.put),
           new Write.Single(TypoInstant.put),
           new Write.Single(TypoLocalTime.put),
           new Write.Single(TypoLocalTime.put),
           new Write.Single(TypoLocalTime.put),
           new Write.Single(TypoOffsetTime.put),
           new Write.Single(TypoOffsetTime.put),
           new Write.Single(TypoOffsetTime.put)),
      a => List(a.id, a.string10, a.string20, a.string50, a.string100, a.string255, a.bpchar3, a.bpchar10, a.decimal52, a.decimal102, a.decimal184, a.numeric82, a.numeric124, a.timestamp0, a.timestamp3, a.timestamp6, a.timestamptz0, a.timestamptz3, a.timestamptz6, a.time0, a.time3, a.time6, a.timetz0, a.timetz3, a.timetz6)
    )
  }
}