/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.precision_types

import adventureworks.customtypes.Defaulted
import adventureworks.customtypes.Defaulted.UseDefault
import adventureworks.customtypes.TypoInstant
import adventureworks.customtypes.TypoLocalDateTime
import adventureworks.customtypes.TypoLocalTime
import adventureworks.customtypes.TypoOffsetTime
import doobie.postgres.Text
import io.circe.Decoder
import io.circe.DecodingFailure
import io.circe.Encoder
import io.circe.HCursor
import io.circe.Json
import scala.util.Try

/** This class corresponds to a row in table `public.precision_types` which has not been persisted yet */
case class PrecisionTypesRowUnsaved(
  string10: String,
  string20: String,
  string50: String,
  string100: String,
  string255: String,
  bpchar3: String,
  bpchar10: String,
  decimal52: BigDecimal,
  decimal102: BigDecimal,
  decimal184: BigDecimal,
  numeric82: BigDecimal,
  numeric124: BigDecimal,
  timestamp0: TypoLocalDateTime,
  timestamp3: TypoLocalDateTime,
  timestamp6: TypoLocalDateTime,
  timestamptz0: TypoInstant,
  timestamptz3: TypoInstant,
  timestamptz6: TypoInstant,
  time0: TypoLocalTime,
  time3: TypoLocalTime,
  time6: TypoLocalTime,
  timetz0: TypoOffsetTime,
  timetz3: TypoOffsetTime,
  timetz6: TypoOffsetTime,
  /** Default: nextval('precision_types_id_seq'::regclass) */
  id: Defaulted[PrecisionTypesId] = new UseDefault()
) {
  def toRow(idDefault: => PrecisionTypesId): PrecisionTypesRow = {
    new PrecisionTypesRow(
      id = id.getOrElse(idDefault),
      string10 = string10,
      string20 = string20,
      string50 = string50,
      string100 = string100,
      string255 = string255,
      bpchar3 = bpchar3,
      bpchar10 = bpchar10,
      decimal52 = decimal52,
      decimal102 = decimal102,
      decimal184 = decimal184,
      numeric82 = numeric82,
      numeric124 = numeric124,
      timestamp0 = timestamp0,
      timestamp3 = timestamp3,
      timestamp6 = timestamp6,
      timestamptz0 = timestamptz0,
      timestamptz3 = timestamptz3,
      timestamptz6 = timestamptz6,
      time0 = time0,
      time3 = time3,
      time6 = time6,
      timetz0 = timetz0,
      timetz3 = timetz3,
      timetz6 = timetz6
    )
  }
}

object PrecisionTypesRowUnsaved {
  implicit lazy val decoder: Decoder[PrecisionTypesRowUnsaved] = {
    Decoder.instanceTry[PrecisionTypesRowUnsaved]((c: HCursor) =>
      Try {
        def orThrow[R](either: Either[DecodingFailure, R]): R = either match {
          case Left(err) => throw err
          case Right(r)  => r
        }
        PrecisionTypesRowUnsaved(
          string10 = orThrow(c.get("string10")(Decoder.decodeString)),
          string20 = orThrow(c.get("string20")(Decoder.decodeString)),
          string50 = orThrow(c.get("string50")(Decoder.decodeString)),
          string100 = orThrow(c.get("string100")(Decoder.decodeString)),
          string255 = orThrow(c.get("string255")(Decoder.decodeString)),
          bpchar3 = orThrow(c.get("bpchar3")(Decoder.decodeString)),
          bpchar10 = orThrow(c.get("bpchar10")(Decoder.decodeString)),
          decimal52 = orThrow(c.get("decimal5_2")(Decoder.decodeBigDecimal)),
          decimal102 = orThrow(c.get("decimal10_2")(Decoder.decodeBigDecimal)),
          decimal184 = orThrow(c.get("decimal18_4")(Decoder.decodeBigDecimal)),
          numeric82 = orThrow(c.get("numeric8_2")(Decoder.decodeBigDecimal)),
          numeric124 = orThrow(c.get("numeric12_4")(Decoder.decodeBigDecimal)),
          timestamp0 = orThrow(c.get("timestamp0")(TypoLocalDateTime.decoder)),
          timestamp3 = orThrow(c.get("timestamp3")(TypoLocalDateTime.decoder)),
          timestamp6 = orThrow(c.get("timestamp6")(TypoLocalDateTime.decoder)),
          timestamptz0 = orThrow(c.get("timestamptz0")(TypoInstant.decoder)),
          timestamptz3 = orThrow(c.get("timestamptz3")(TypoInstant.decoder)),
          timestamptz6 = orThrow(c.get("timestamptz6")(TypoInstant.decoder)),
          time0 = orThrow(c.get("time0")(TypoLocalTime.decoder)),
          time3 = orThrow(c.get("time3")(TypoLocalTime.decoder)),
          time6 = orThrow(c.get("time6")(TypoLocalTime.decoder)),
          timetz0 = orThrow(c.get("timetz0")(TypoOffsetTime.decoder)),
          timetz3 = orThrow(c.get("timetz3")(TypoOffsetTime.decoder)),
          timetz6 = orThrow(c.get("timetz6")(TypoOffsetTime.decoder)),
          id = orThrow(c.get("id")(Defaulted.decoder(PrecisionTypesId.decoder)))
        )
      }
    )
  }

  implicit lazy val encoder: Encoder[PrecisionTypesRowUnsaved] = {
    Encoder.instance[PrecisionTypesRowUnsaved](row =>
      Json.obj(
        "string10" -> Encoder.encodeString.apply(row.string10),
        "string20" -> Encoder.encodeString.apply(row.string20),
        "string50" -> Encoder.encodeString.apply(row.string50),
        "string100" -> Encoder.encodeString.apply(row.string100),
        "string255" -> Encoder.encodeString.apply(row.string255),
        "bpchar3" -> Encoder.encodeString.apply(row.bpchar3),
        "bpchar10" -> Encoder.encodeString.apply(row.bpchar10),
        "decimal5_2" -> Encoder.encodeBigDecimal.apply(row.decimal52),
        "decimal10_2" -> Encoder.encodeBigDecimal.apply(row.decimal102),
        "decimal18_4" -> Encoder.encodeBigDecimal.apply(row.decimal184),
        "numeric8_2" -> Encoder.encodeBigDecimal.apply(row.numeric82),
        "numeric12_4" -> Encoder.encodeBigDecimal.apply(row.numeric124),
        "timestamp0" -> TypoLocalDateTime.encoder.apply(row.timestamp0),
        "timestamp3" -> TypoLocalDateTime.encoder.apply(row.timestamp3),
        "timestamp6" -> TypoLocalDateTime.encoder.apply(row.timestamp6),
        "timestamptz0" -> TypoInstant.encoder.apply(row.timestamptz0),
        "timestamptz3" -> TypoInstant.encoder.apply(row.timestamptz3),
        "timestamptz6" -> TypoInstant.encoder.apply(row.timestamptz6),
        "time0" -> TypoLocalTime.encoder.apply(row.time0),
        "time3" -> TypoLocalTime.encoder.apply(row.time3),
        "time6" -> TypoLocalTime.encoder.apply(row.time6),
        "timetz0" -> TypoOffsetTime.encoder.apply(row.timetz0),
        "timetz3" -> TypoOffsetTime.encoder.apply(row.timetz3),
        "timetz6" -> TypoOffsetTime.encoder.apply(row.timetz6),
        "id" -> Defaulted.encoder(PrecisionTypesId.encoder).apply(row.id)
      )
    )
  }

  implicit lazy val pgText: Text[PrecisionTypesRowUnsaved] = {
    Text.instance[PrecisionTypesRowUnsaved]{ (row, sb) =>
      Text.stringInstance.unsafeEncode(row.string10, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string20, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string50, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string100, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.string255, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.bpchar3, sb)
      sb.append(Text.DELIMETER)
      Text.stringInstance.unsafeEncode(row.bpchar10, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.decimal52, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.decimal102, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.decimal184, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.numeric82, sb)
      sb.append(Text.DELIMETER)
      Text.bigDecimalInstance.unsafeEncode(row.numeric124, sb)
      sb.append(Text.DELIMETER)
      TypoLocalDateTime.pgText.unsafeEncode(row.timestamp0, sb)
      sb.append(Text.DELIMETER)
      TypoLocalDateTime.pgText.unsafeEncode(row.timestamp3, sb)
      sb.append(Text.DELIMETER)
      TypoLocalDateTime.pgText.unsafeEncode(row.timestamp6, sb)
      sb.append(Text.DELIMETER)
      TypoInstant.pgText.unsafeEncode(row.timestamptz0, sb)
      sb.append(Text.DELIMETER)
      TypoInstant.pgText.unsafeEncode(row.timestamptz3, sb)
      sb.append(Text.DELIMETER)
      TypoInstant.pgText.unsafeEncode(row.timestamptz6, sb)
      sb.append(Text.DELIMETER)
      TypoLocalTime.pgText.unsafeEncode(row.time0, sb)
      sb.append(Text.DELIMETER)
      TypoLocalTime.pgText.unsafeEncode(row.time3, sb)
      sb.append(Text.DELIMETER)
      TypoLocalTime.pgText.unsafeEncode(row.time6, sb)
      sb.append(Text.DELIMETER)
      TypoOffsetTime.pgText.unsafeEncode(row.timetz0, sb)
      sb.append(Text.DELIMETER)
      TypoOffsetTime.pgText.unsafeEncode(row.timetz3, sb)
      sb.append(Text.DELIMETER)
      TypoOffsetTime.pgText.unsafeEncode(row.timetz6, sb)
      sb.append(Text.DELIMETER)
      Defaulted.pgText(PrecisionTypesId.pgText).unsafeEncode(row.id, sb)
    }
  }
}