/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.salesorderdetail;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.production.product.ProductId;
import adventureworks.sales.salesorderheader.SalesorderheaderId;
import adventureworks.sales.specialoffer.SpecialofferId;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.Optional;
import java.util.UUID;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/** This class corresponds to a row in table `sales.salesorderdetail` which has not been persisted yet */
public record SalesorderdetailRowUnsaved(
  /** Primary key. Foreign key to SalesOrderHeader.SalesOrderID.
    * Points to {@link adventureworks.sales.salesorderheader.SalesorderheaderRow#salesorderid()}
    */
  SalesorderheaderId salesorderid,
  /** Shipment tracking number supplied by the shipper. */
  Optional</* max 25 chars */ String> carriertrackingnumber,
  /** Quantity ordered per product.
    * Constraint CK_SalesOrderDetail_OrderQty affecting columns orderqty:  ((orderqty > 0))
    */
  Short orderqty,
  /** Product sold to customer. Foreign key to Product.ProductID.
    * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow#productid()}
    */
  ProductId productid,
  /** Promotional code. Foreign key to SpecialOffer.SpecialOfferID.
    * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow#specialofferid()}
    */
  SpecialofferId specialofferid,
  /** Selling price of a single product.
    * Constraint CK_SalesOrderDetail_UnitPrice affecting columns unitprice:  ((unitprice >= 0.00))
    */
  BigDecimal unitprice,
  /** Default: nextval('sales.salesorderdetail_salesorderdetailid_seq'::regclass)
    * Primary key. One incremental unique number per product sold.
    */
  Defaulted<Integer> salesorderdetailid,
  /** Default: 0.0
    * Discount amount.
    * Constraint CK_SalesOrderDetail_UnitPriceDiscount affecting columns unitpricediscount:  ((unitpricediscount >= 0.00))
    */
  Defaulted<BigDecimal> unitpricediscount,
  /** Default: uuid_generate_v1() */
  Defaulted<UUID> rowguid,
  /** Default: now() */
  Defaulted<LocalDateTime> modifieddate
) {
  public SalesorderdetailRowUnsaved(
    /** Primary key. Foreign key to SalesOrderHeader.SalesOrderID.
      * Points to {@link adventureworks.sales.salesorderheader.SalesorderheaderRow#salesorderid()}
      */
    SalesorderheaderId salesorderid,
    /** Quantity ordered per product.
      * Constraint CK_SalesOrderDetail_OrderQty affecting columns orderqty:  ((orderqty > 0))
      */
    Short orderqty,
    /** Product sold to customer. Foreign key to Product.ProductID.
      * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow#productid()}
      */
    ProductId productid,
    /** Promotional code. Foreign key to SpecialOffer.SpecialOfferID.
      * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow#specialofferid()}
      */
    SpecialofferId specialofferid,
    /** Selling price of a single product.
      * Constraint CK_SalesOrderDetail_UnitPrice affecting columns unitprice:  ((unitprice >= 0.00))
      */
    BigDecimal unitprice
  ) {
    this(salesorderid, Optional.empty(), orderqty, productid, specialofferid, unitprice, new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>());
  };

  /** Primary key. Foreign key to SalesOrderHeader.SalesOrderID.
    * Points to {@link adventureworks.sales.salesorderheader.SalesorderheaderRow#salesorderid()}
    */
  public SalesorderdetailRowUnsaved withSalesorderid(SalesorderheaderId salesorderid) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Shipment tracking number supplied by the shipper. */
  public SalesorderdetailRowUnsaved withCarriertrackingnumber(Optional</* max 25 chars */ String> carriertrackingnumber) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Quantity ordered per product.
    * Constraint CK_SalesOrderDetail_OrderQty affecting columns orderqty:  ((orderqty > 0))
    */
  public SalesorderdetailRowUnsaved withOrderqty(Short orderqty) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Product sold to customer. Foreign key to Product.ProductID.
    * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow#productid()}
    */
  public SalesorderdetailRowUnsaved withProductid(ProductId productid) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Promotional code. Foreign key to SpecialOffer.SpecialOfferID.
    * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow#specialofferid()}
    */
  public SalesorderdetailRowUnsaved withSpecialofferid(SpecialofferId specialofferid) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Selling price of a single product.
    * Constraint CK_SalesOrderDetail_UnitPrice affecting columns unitprice:  ((unitprice >= 0.00))
    */
  public SalesorderdetailRowUnsaved withUnitprice(BigDecimal unitprice) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Default: nextval('sales.salesorderdetail_salesorderdetailid_seq'::regclass)
    * Primary key. One incremental unique number per product sold.
    */
  public SalesorderdetailRowUnsaved withSalesorderdetailid(Defaulted<Integer> salesorderdetailid) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Default: 0.0
    * Discount amount.
    * Constraint CK_SalesOrderDetail_UnitPriceDiscount affecting columns unitpricediscount:  ((unitpricediscount >= 0.00))
    */
  public SalesorderdetailRowUnsaved withUnitpricediscount(Defaulted<BigDecimal> unitpricediscount) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Default: uuid_generate_v1() */
  public SalesorderdetailRowUnsaved withRowguid(Defaulted<UUID> rowguid) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  /** Default: now() */
  public SalesorderdetailRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };

  static public PgText<SalesorderdetailRowUnsaved> pgText =
    PgText.instance((row, sb) -> {
      SalesorderheaderId.pgType.pgText().unsafeEncode(row.salesorderid, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.opt().pgText().unsafeEncode(row.carriertrackingnumber, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.int2.pgText().unsafeEncode(row.orderqty, sb);
      sb.append(PgText.DELIMETER);
      ProductId.pgType.pgText().unsafeEncode(row.productid, sb);
      sb.append(PgText.DELIMETER);
      SpecialofferId.pgType.pgText().unsafeEncode(row.specialofferid, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.numeric.pgText().unsafeEncode(row.unitprice, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PgTypes.int4.pgText()).unsafeEncode(row.salesorderdetailid, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PgTypes.numeric.pgText()).unsafeEncode(row.unitpricediscount, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PgTypes.uuid.pgText()).unsafeEncode(row.rowguid, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
    });

  public SalesorderdetailRow toRow(
    java.util.function.Supplier<Integer> salesorderdetailidDefault,
    java.util.function.Supplier<BigDecimal> unitpricediscountDefault,
    java.util.function.Supplier<UUID> rowguidDefault,
    java.util.function.Supplier<LocalDateTime> modifieddateDefault
  ) {
    return new SalesorderdetailRow(salesorderid, salesorderdetailid.getOrElse(salesorderdetailidDefault), carriertrackingnumber, orderqty, productid, specialofferid, unitprice, unitpricediscount.getOrElse(unitpricediscountDefault), rowguid.getOrElse(rowguidDefault), modifieddate.getOrElse(modifieddateDefault));
  };
}