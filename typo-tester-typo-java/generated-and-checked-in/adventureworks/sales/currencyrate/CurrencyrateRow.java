/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.currencyrate;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.TypoLocalDateTime;
import adventureworks.sales.currency.CurrencyId;
import java.math.BigDecimal;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: sales.currencyrate
  * Currency exchange rates.
  * Primary key: currencyrateid
  */
public record CurrencyrateRow(
  /** Primary key for CurrencyRate records.
    * Default: nextval('sales.currencyrate_currencyrateid_seq'::regclass)
    */
  CurrencyrateId currencyrateid,
  /** Date and time the exchange rate was obtained. */
  TypoLocalDateTime currencyratedate,
  /** Exchange rate was converted from this currency code.
    * Points to {@link adventureworks.sales.currency.CurrencyRow#currencycode()}
    */
  CurrencyId fromcurrencycode,
  /** Exchange rate was converted to this currency code.
    * Points to {@link adventureworks.sales.currency.CurrencyRow#currencycode()}
    */
  CurrencyId tocurrencycode,
  /** Average exchange rate for the day. */
  BigDecimal averagerate,
  /** Final exchange rate for the day. */
  BigDecimal endofdayrate,
  /** Default: now() */
  TypoLocalDateTime modifieddate
) {
  /** Primary key for CurrencyRate records.
    * Default: nextval('sales.currencyrate_currencyrateid_seq'::regclass)
    */
  public CurrencyrateRow withCurrencyrateid(CurrencyrateId currencyrateid) {
    return new CurrencyrateRow(currencyrateid, currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, modifieddate);
  };

  /** Date and time the exchange rate was obtained. */
  public CurrencyrateRow withCurrencyratedate(TypoLocalDateTime currencyratedate) {
    return new CurrencyrateRow(currencyrateid, currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, modifieddate);
  };

  /** Exchange rate was converted from this currency code.
    * Points to {@link adventureworks.sales.currency.CurrencyRow#currencycode()}
    */
  public CurrencyrateRow withFromcurrencycode(CurrencyId fromcurrencycode) {
    return new CurrencyrateRow(currencyrateid, currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, modifieddate);
  };

  /** Exchange rate was converted to this currency code.
    * Points to {@link adventureworks.sales.currency.CurrencyRow#currencycode()}
    */
  public CurrencyrateRow withTocurrencycode(CurrencyId tocurrencycode) {
    return new CurrencyrateRow(currencyrateid, currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, modifieddate);
  };

  /** Average exchange rate for the day. */
  public CurrencyrateRow withAveragerate(BigDecimal averagerate) {
    return new CurrencyrateRow(currencyrateid, currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, modifieddate);
  };

  /** Final exchange rate for the day. */
  public CurrencyrateRow withEndofdayrate(BigDecimal endofdayrate) {
    return new CurrencyrateRow(currencyrateid, currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, modifieddate);
  };

  /** Default: now() */
  public CurrencyrateRow withModifieddate(TypoLocalDateTime modifieddate) {
    return new CurrencyrateRow(currencyrateid, currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, modifieddate);
  };

  static RowParser<CurrencyrateRow> _rowParser = RowParsers.of(CurrencyrateId.pgType, TypoLocalDateTime.pgType, CurrencyId.pgType, CurrencyId.pgType, PgTypes.numeric, PgTypes.numeric, TypoLocalDateTime.pgType, CurrencyrateRow::new, row -> new Object[]{row.currencyrateid(), row.currencyratedate(), row.fromcurrencycode(), row.tocurrencycode(), row.averagerate(), row.endofdayrate(), row.modifieddate()});;

  static public PgText<CurrencyrateRow> pgText =
    PgText.from(_rowParser);

  public CurrencyrateId id() {
    return currencyrateid;
  };

  public CurrencyrateRowUnsaved toUnsavedRow(
    Defaulted<CurrencyrateId> currencyrateid,
    Defaulted<TypoLocalDateTime> modifieddate
  ) {
    return new CurrencyrateRowUnsaved(currencyratedate, fromcurrencycode, tocurrencycode, averagerate, endofdayrate, currencyrateid, modifieddate);
  };
}