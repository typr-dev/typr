/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.humanresources.employeedepartmenthistory;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.humanresources.department.DepartmentId;
import adventureworks.humanresources.shift.ShiftId;
import adventureworks.person.businessentity.BusinessentityId;
import java.time.LocalDate;
import java.time.LocalDateTime;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/**
 * This class corresponds to a row in table `humanresources.employeedepartmenthistory` which has not
 * been persisted yet
 */
public record EmployeedepartmenthistoryRowUnsaved(
    /**
     * Employee identification number. Foreign key to Employee.BusinessEntityID. Points to {@link
     * adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
     */
    BusinessentityId businessentityid,
    /**
     * Department in which the employee worked including currently. Foreign key to
     * Department.DepartmentID. Points to {@link
     * adventureworks.humanresources.department.DepartmentRow#departmentid()}
     */
    DepartmentId departmentid,
    /**
     * Identifies which 8-hour shift the employee works. Foreign key to Shift.Shift.ID. Points to
     * {@link adventureworks.humanresources.shift.ShiftRow#shiftid()}
     */
    ShiftId shiftid,
    /**
     * Date the employee started work in the department. Constraint
     * CK_EmployeeDepartmentHistory_EndDate affecting columns enddate, startdate: (((enddate >=
     * startdate) OR (enddate IS NULL)))
     */
    LocalDate startdate,
    /**
     * Date the employee left the department. NULL = Current department. Constraint
     * CK_EmployeeDepartmentHistory_EndDate affecting columns enddate, startdate: (((enddate >=
     * startdate) OR (enddate IS NULL)))
     */
    Optional<LocalDate> enddate,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public EmployeedepartmenthistoryRowUnsaved(
      /**
       * Employee identification number. Foreign key to Employee.BusinessEntityID. Points to {@link
       * adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
       */
      BusinessentityId businessentityid,
      /**
       * Department in which the employee worked including currently. Foreign key to
       * Department.DepartmentID. Points to {@link
       * adventureworks.humanresources.department.DepartmentRow#departmentid()}
       */
      DepartmentId departmentid,
      /**
       * Identifies which 8-hour shift the employee works. Foreign key to Shift.Shift.ID. Points to
       * {@link adventureworks.humanresources.shift.ShiftRow#shiftid()}
       */
      ShiftId shiftid,
      /**
       * Date the employee started work in the department. Constraint
       * CK_EmployeeDepartmentHistory_EndDate affecting columns enddate, startdate: (((enddate >=
       * startdate) OR (enddate IS NULL)))
       */
      LocalDate startdate) {
    this(businessentityid, departmentid, shiftid, startdate, Optional.empty(), new UseDefault<>());
  }
  ;

  /**
   * Employee identification number. Foreign key to Employee.BusinessEntityID. Points to {@link
   * adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
   */
  public EmployeedepartmenthistoryRowUnsaved withBusinessentityid(
      BusinessentityId businessentityid) {
    return new EmployeedepartmenthistoryRowUnsaved(
        businessentityid, departmentid, shiftid, startdate, enddate, modifieddate);
  }
  ;

  /**
   * Department in which the employee worked including currently. Foreign key to
   * Department.DepartmentID. Points to {@link
   * adventureworks.humanresources.department.DepartmentRow#departmentid()}
   */
  public EmployeedepartmenthistoryRowUnsaved withDepartmentid(DepartmentId departmentid) {
    return new EmployeedepartmenthistoryRowUnsaved(
        businessentityid, departmentid, shiftid, startdate, enddate, modifieddate);
  }
  ;

  /**
   * Identifies which 8-hour shift the employee works. Foreign key to Shift.Shift.ID. Points to
   * {@link adventureworks.humanresources.shift.ShiftRow#shiftid()}
   */
  public EmployeedepartmenthistoryRowUnsaved withShiftid(ShiftId shiftid) {
    return new EmployeedepartmenthistoryRowUnsaved(
        businessentityid, departmentid, shiftid, startdate, enddate, modifieddate);
  }
  ;

  /**
   * Date the employee started work in the department. Constraint
   * CK_EmployeeDepartmentHistory_EndDate affecting columns enddate, startdate: (((enddate >=
   * startdate) OR (enddate IS NULL)))
   */
  public EmployeedepartmenthistoryRowUnsaved withStartdate(LocalDate startdate) {
    return new EmployeedepartmenthistoryRowUnsaved(
        businessentityid, departmentid, shiftid, startdate, enddate, modifieddate);
  }
  ;

  /**
   * Date the employee left the department. NULL = Current department. Constraint
   * CK_EmployeeDepartmentHistory_EndDate affecting columns enddate, startdate: (((enddate >=
   * startdate) OR (enddate IS NULL)))
   */
  public EmployeedepartmenthistoryRowUnsaved withEnddate(Optional<LocalDate> enddate) {
    return new EmployeedepartmenthistoryRowUnsaved(
        businessentityid, departmentid, shiftid, startdate, enddate, modifieddate);
  }
  ;

  /** Default: now() */
  public EmployeedepartmenthistoryRowUnsaved withModifieddate(
      Defaulted<LocalDateTime> modifieddate) {
    return new EmployeedepartmenthistoryRowUnsaved(
        businessentityid, departmentid, shiftid, startdate, enddate, modifieddate);
  }
  ;

  public static PgText<EmployeedepartmenthistoryRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            BusinessentityId.pgType.pgText().unsafeEncode(row.businessentityid, sb);
            sb.append(PgText.DELIMETER);
            DepartmentId.pgType.pgText().unsafeEncode(row.departmentid, sb);
            sb.append(PgText.DELIMETER);
            ShiftId.pgType.pgText().unsafeEncode(row.shiftid, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.date.pgText().unsafeEncode(row.startdate, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.date.opt().pgText().unsafeEncode(row.enddate, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public EmployeedepartmenthistoryRow toRow(
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new EmployeedepartmenthistoryRow(
        businessentityid,
        departmentid,
        shiftid,
        startdate,
        enddate,
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
