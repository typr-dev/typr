/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.humanresources.department;

import adventureworks.customtypes.Defaulted;
import adventureworks.public_.Name;
import java.time.LocalDateTime;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: humanresources.department
  * Lookup table containing the departments within the Adventure Works Cycles company.
  * Primary key: departmentid
  */
public record DepartmentRow(
  /** Primary key for Department records.
    * Default: nextval('humanresources.department_departmentid_seq'::regclass)
    */
  DepartmentId departmentid,
  /** Name of the department. */
  Name name,
  /** Name of the group to which the department belongs. */
  Name groupname,
  /** Default: now() */
  LocalDateTime modifieddate
) {
  /** Primary key for Department records.
    * Default: nextval('humanresources.department_departmentid_seq'::regclass)
    */
  public DepartmentRow withDepartmentid(DepartmentId departmentid) {
    return new DepartmentRow(departmentid, name, groupname, modifieddate);
  };

  /** Name of the department. */
  public DepartmentRow withName(Name name) {
    return new DepartmentRow(departmentid, name, groupname, modifieddate);
  };

  /** Name of the group to which the department belongs. */
  public DepartmentRow withGroupname(Name groupname) {
    return new DepartmentRow(departmentid, name, groupname, modifieddate);
  };

  /** Default: now() */
  public DepartmentRow withModifieddate(LocalDateTime modifieddate) {
    return new DepartmentRow(departmentid, name, groupname, modifieddate);
  };

  static RowParser<DepartmentRow> _rowParser = RowParsers.of(DepartmentId.pgType, Name.pgType, Name.pgType, PgTypes.timestamp, DepartmentRow::new, row -> new Object[]{row.departmentid(), row.name(), row.groupname(), row.modifieddate()});;

  static public PgText<DepartmentRow> pgText =
    PgText.from(_rowParser);

  public DepartmentId id() {
    return departmentid;
  };

  public DepartmentRowUnsaved toUnsavedRow(
    Defaulted<DepartmentId> departmentid,
    Defaulted<LocalDateTime> modifieddate
  ) {
    return new DepartmentRowUnsaved(name, groupname, departmentid, modifieddate);
  };
}