/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.workorder;

import adventureworks.customtypes.Defaulted;
import adventureworks.production.product.ProductId;
import adventureworks.production.scrapreason.ScrapreasonId;
import java.time.LocalDateTime;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: production.workorder Manufacturing work orders. Primary key: workorderid */
public record WorkorderRow(
    /**
     * Primary key for WorkOrder records. Default:
     * nextval('production.workorder_workorderid_seq'::regclass)
     */
    WorkorderId workorderid,
    /**
     * Product identification number. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.production.product.ProductRow#productid()}
     */
    ProductId productid,
    /**
     * Product quantity to build. Constraint CK_WorkOrder_OrderQty affecting columns orderqty:
     * ((orderqty > 0))
     */
    Integer orderqty,
    /**
     * Quantity that failed inspection. Constraint CK_WorkOrder_ScrappedQty affecting columns
     * scrappedqty: ((scrappedqty >= 0))
     */
    Short scrappedqty,
    /**
     * Work order start date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
     * (((enddate >= startdate) OR (enddate IS NULL)))
     */
    LocalDateTime startdate,
    /**
     * Work order end date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
     * (((enddate >= startdate) OR (enddate IS NULL)))
     */
    Optional<LocalDateTime> enddate,
    /** Work order due date. */
    LocalDateTime duedate,
    /**
     * Reason for inspection failure. Points to {@link
     * adventureworks.production.scrapreason.ScrapreasonRow#scrapreasonid()}
     */
    Optional<ScrapreasonId> scrapreasonid,
    /** Default: now() */
    LocalDateTime modifieddate) {
  /**
   * Primary key for WorkOrder records. Default:
   * nextval('production.workorder_workorderid_seq'::regclass)
   */
  public WorkorderRow withWorkorderid(WorkorderId workorderid) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /**
   * Product identification number. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.production.product.ProductRow#productid()}
   */
  public WorkorderRow withProductid(ProductId productid) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /**
   * Product quantity to build. Constraint CK_WorkOrder_OrderQty affecting columns orderqty:
   * ((orderqty > 0))
   */
  public WorkorderRow withOrderqty(Integer orderqty) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /**
   * Quantity that failed inspection. Constraint CK_WorkOrder_ScrappedQty affecting columns
   * scrappedqty: ((scrappedqty >= 0))
   */
  public WorkorderRow withScrappedqty(Short scrappedqty) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /**
   * Work order start date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
   * (((enddate >= startdate) OR (enddate IS NULL)))
   */
  public WorkorderRow withStartdate(LocalDateTime startdate) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /**
   * Work order end date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
   * (((enddate >= startdate) OR (enddate IS NULL)))
   */
  public WorkorderRow withEnddate(Optional<LocalDateTime> enddate) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /** Work order due date. */
  public WorkorderRow withDuedate(LocalDateTime duedate) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /**
   * Reason for inspection failure. Points to {@link
   * adventureworks.production.scrapreason.ScrapreasonRow#scrapreasonid()}
   */
  public WorkorderRow withScrapreasonid(Optional<ScrapreasonId> scrapreasonid) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  /** Default: now() */
  public WorkorderRow withModifieddate(LocalDateTime modifieddate) {
    return new WorkorderRow(
        workorderid,
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate);
  }
  ;

  static RowParser<WorkorderRow> _rowParser =
      RowParsers.of(
          WorkorderId.pgType,
          ProductId.pgType,
          PgTypes.int4,
          PgTypes.int2,
          PgTypes.timestamp,
          PgTypes.timestamp.opt(),
          PgTypes.timestamp,
          ScrapreasonId.pgType.opt(),
          PgTypes.timestamp,
          (t0, t1, t2, t3, t4, t5, t6, t7, t8) ->
              new WorkorderRow(t0, t1, t2, t3, t4, t5, t6, t7, t8),
          row ->
              new Object[] {
                row.workorderid(),
                row.productid(),
                row.orderqty(),
                row.scrappedqty(),
                row.startdate(),
                row.enddate(),
                row.duedate(),
                row.scrapreasonid(),
                row.modifieddate()
              });
  ;

  public static PgText<WorkorderRow> pgText = PgText.from(_rowParser);

  public WorkorderId id() {
    return workorderid;
  }
  ;

  public WorkorderRowUnsaved toUnsavedRow(
      Defaulted<WorkorderId> workorderid, Defaulted<LocalDateTime> modifieddate) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;
}
