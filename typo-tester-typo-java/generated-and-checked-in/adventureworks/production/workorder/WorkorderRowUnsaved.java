/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.workorder;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.production.product.ProductId;
import adventureworks.production.scrapreason.ScrapreasonId;
import java.time.LocalDateTime;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/**
 * This class corresponds to a row in table `production.workorder` which has not been persisted yet
 */
public record WorkorderRowUnsaved(
    /**
     * Product identification number. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.production.product.ProductRow#productid()}
     */
    ProductId productid,
    /**
     * Product quantity to build. Constraint CK_WorkOrder_OrderQty affecting columns orderqty:
     * ((orderqty > 0))
     */
    Integer orderqty,
    /**
     * Quantity that failed inspection. Constraint CK_WorkOrder_ScrappedQty affecting columns
     * scrappedqty: ((scrappedqty >= 0))
     */
    Short scrappedqty,
    /**
     * Work order start date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
     * (((enddate >= startdate) OR (enddate IS NULL)))
     */
    LocalDateTime startdate,
    /**
     * Work order end date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
     * (((enddate >= startdate) OR (enddate IS NULL)))
     */
    Optional<LocalDateTime> enddate,
    /** Work order due date. */
    LocalDateTime duedate,
    /**
     * Reason for inspection failure. Points to {@link
     * adventureworks.production.scrapreason.ScrapreasonRow#scrapreasonid()}
     */
    Optional<ScrapreasonId> scrapreasonid,
    /**
     * Default: nextval('production.workorder_workorderid_seq'::regclass) Primary key for WorkOrder
     * records.
     */
    Defaulted<WorkorderId> workorderid,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public WorkorderRowUnsaved(
      /**
       * Product identification number. Foreign key to Product.ProductID. Points to {@link
       * adventureworks.production.product.ProductRow#productid()}
       */
      ProductId productid,
      /**
       * Product quantity to build. Constraint CK_WorkOrder_OrderQty affecting columns orderqty:
       * ((orderqty > 0))
       */
      Integer orderqty,
      /**
       * Quantity that failed inspection. Constraint CK_WorkOrder_ScrappedQty affecting columns
       * scrappedqty: ((scrappedqty >= 0))
       */
      Short scrappedqty,
      /**
       * Work order start date. Constraint CK_WorkOrder_EndDate affecting columns enddate,
       * startdate: (((enddate >= startdate) OR (enddate IS NULL)))
       */
      LocalDateTime startdate,
      /** Work order due date. */
      LocalDateTime duedate) {
    this(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        Optional.empty(),
        duedate,
        Optional.empty(),
        new UseDefault<>(),
        new UseDefault<>());
  }
  ;

  /**
   * Product identification number. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.production.product.ProductRow#productid()}
   */
  public WorkorderRowUnsaved withProductid(ProductId productid) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /**
   * Product quantity to build. Constraint CK_WorkOrder_OrderQty affecting columns orderqty:
   * ((orderqty > 0))
   */
  public WorkorderRowUnsaved withOrderqty(Integer orderqty) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /**
   * Quantity that failed inspection. Constraint CK_WorkOrder_ScrappedQty affecting columns
   * scrappedqty: ((scrappedqty >= 0))
   */
  public WorkorderRowUnsaved withScrappedqty(Short scrappedqty) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /**
   * Work order start date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
   * (((enddate >= startdate) OR (enddate IS NULL)))
   */
  public WorkorderRowUnsaved withStartdate(LocalDateTime startdate) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /**
   * Work order end date. Constraint CK_WorkOrder_EndDate affecting columns enddate, startdate:
   * (((enddate >= startdate) OR (enddate IS NULL)))
   */
  public WorkorderRowUnsaved withEnddate(Optional<LocalDateTime> enddate) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /** Work order due date. */
  public WorkorderRowUnsaved withDuedate(LocalDateTime duedate) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /**
   * Reason for inspection failure. Points to {@link
   * adventureworks.production.scrapreason.ScrapreasonRow#scrapreasonid()}
   */
  public WorkorderRowUnsaved withScrapreasonid(Optional<ScrapreasonId> scrapreasonid) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /**
   * Default: nextval('production.workorder_workorderid_seq'::regclass) Primary key for WorkOrder
   * records.
   */
  public WorkorderRowUnsaved withWorkorderid(Defaulted<WorkorderId> workorderid) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  /** Default: now() */
  public WorkorderRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new WorkorderRowUnsaved(
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        workorderid,
        modifieddate);
  }
  ;

  public static PgText<WorkorderRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            ProductId.pgType.pgText().unsafeEncode(row.productid, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.int4.pgText().unsafeEncode(row.orderqty, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.int2.pgText().unsafeEncode(row.scrappedqty, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.timestamp.pgText().unsafeEncode(row.startdate, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.timestamp.opt().pgText().unsafeEncode(row.enddate, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.timestamp.pgText().unsafeEncode(row.duedate, sb);
            sb.append(PgText.DELIMETER);
            ScrapreasonId.pgType.opt().pgText().unsafeEncode(row.scrapreasonid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(WorkorderId.pgType.pgText()).unsafeEncode(row.workorderid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public WorkorderRow toRow(
      java.util.function.Supplier<WorkorderId> workorderidDefault,
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new WorkorderRow(
        workorderid.getOrElse(workorderidDefault),
        productid,
        orderqty,
        scrappedqty,
        startdate,
        enddate,
        duedate,
        scrapreasonid,
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
