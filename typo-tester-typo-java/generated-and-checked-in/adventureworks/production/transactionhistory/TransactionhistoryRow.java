/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.transactionhistory;

import adventureworks.customtypes.Defaulted;
import adventureworks.production.product.ProductId;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/**
 * Table: production.transactionhistory Record of each purchase order, sales order, or work order
 * transaction year to date. Primary key: transactionid
 */
public record TransactionhistoryRow(
    /**
     * Primary key for TransactionHistory records. Default:
     * nextval('production.transactionhistory_transactionid_seq'::regclass)
     */
    TransactionhistoryId transactionid,
    /**
     * Product identification number. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.production.product.ProductRow#productid()}
     */
    ProductId productid,
    /** Purchase order, sales order, or work order identification number. */
    Integer referenceorderid,
    /** Line number associated with the purchase order, sales order, or work order. Default: 0 */
    Integer referenceorderlineid,
    /** Date and time of the transaction. Default: now() */
    LocalDateTime transactiondate,
    /**
     * W = WorkOrder, S = SalesOrder, P = PurchaseOrder Constraint
     * CK_TransactionHistory_TransactionType affecting columns transactiontype:
     * ((upper((transactiontype)::text) = ANY (ARRAY['W'::text, 'S'::text, 'P'::text])))
     */
    String transactiontype,
    /** Product quantity. */
    Integer quantity,
    /** Product cost. */
    BigDecimal actualcost,
    /** Default: now() */
    LocalDateTime modifieddate) {
  /**
   * Primary key for TransactionHistory records. Default:
   * nextval('production.transactionhistory_transactionid_seq'::regclass)
   */
  public TransactionhistoryRow withTransactionid(TransactionhistoryId transactionid) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /**
   * Product identification number. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.production.product.ProductRow#productid()}
   */
  public TransactionhistoryRow withProductid(ProductId productid) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /** Purchase order, sales order, or work order identification number. */
  public TransactionhistoryRow withReferenceorderid(Integer referenceorderid) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /** Line number associated with the purchase order, sales order, or work order. Default: 0 */
  public TransactionhistoryRow withReferenceorderlineid(Integer referenceorderlineid) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /** Date and time of the transaction. Default: now() */
  public TransactionhistoryRow withTransactiondate(LocalDateTime transactiondate) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /**
   * W = WorkOrder, S = SalesOrder, P = PurchaseOrder Constraint
   * CK_TransactionHistory_TransactionType affecting columns transactiontype:
   * ((upper((transactiontype)::text) = ANY (ARRAY['W'::text, 'S'::text, 'P'::text])))
   */
  public TransactionhistoryRow withTransactiontype(String transactiontype) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /** Product quantity. */
  public TransactionhistoryRow withQuantity(Integer quantity) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /** Product cost. */
  public TransactionhistoryRow withActualcost(BigDecimal actualcost) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  /** Default: now() */
  public TransactionhistoryRow withModifieddate(LocalDateTime modifieddate) {
    return new TransactionhistoryRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid,
        transactiondate,
        transactiontype,
        quantity,
        actualcost,
        modifieddate);
  }
  ;

  public static RowParser<TransactionhistoryRow> _rowParser =
      RowParsers.of(
          TransactionhistoryId.pgType,
          ProductId.pgType,
          PgTypes.int4,
          PgTypes.int4,
          PgTypes.timestamp,
          PgTypes.bpchar,
          PgTypes.int4,
          PgTypes.numeric,
          PgTypes.timestamp,
          TransactionhistoryRow::new,
          row ->
              new Object[] {
                row.transactionid(),
                row.productid(),
                row.referenceorderid(),
                row.referenceorderlineid(),
                row.transactiondate(),
                row.transactiontype(),
                row.quantity(),
                row.actualcost(),
                row.modifieddate()
              });
  ;

  public static PgText<TransactionhistoryRow> pgText = PgText.from(_rowParser);

  public TransactionhistoryId id() {
    return transactionid;
  }
  ;

  public TransactionhistoryRowUnsaved toUnsavedRow(
      Defaulted<TransactionhistoryId> transactionid,
      Defaulted<Integer> referenceorderlineid,
      Defaulted<LocalDateTime> transactiondate,
      Defaulted<LocalDateTime> modifieddate) {
    return new TransactionhistoryRowUnsaved(
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        transactionid,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;
}
