/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.transactionhistoryarchive;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/**
 * This class corresponds to a row in table `production.transactionhistoryarchive` which has not
 * been persisted yet
 */
public record TransactionhistoryarchiveRowUnsaved(
    /** Primary key for TransactionHistoryArchive records. */
    TransactionhistoryarchiveId transactionid,
    /** Product identification number. Foreign key to Product.ProductID. */
    Integer productid,
    /** Purchase order, sales order, or work order identification number. */
    Integer referenceorderid,
    /**
     * W = Work Order, S = Sales Order, P = Purchase Order Constraint
     * CK_TransactionHistoryArchive_TransactionType affecting columns transactiontype:
     * ((upper((transactiontype)::text) = ANY (ARRAY['W'::text, 'S'::text, 'P'::text])))
     */
    String transactiontype,
    /** Product quantity. */
    Integer quantity,
    /** Product cost. */
    BigDecimal actualcost,
    /** Default: 0 Line number associated with the purchase order, sales order, or work order. */
    Defaulted<Integer> referenceorderlineid,
    /** Default: now() Date and time of the transaction. */
    Defaulted<LocalDateTime> transactiondate,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public TransactionhistoryarchiveRowUnsaved(
      /** Primary key for TransactionHistoryArchive records. */
      TransactionhistoryarchiveId transactionid,
      /** Product identification number. Foreign key to Product.ProductID. */
      Integer productid,
      /** Purchase order, sales order, or work order identification number. */
      Integer referenceorderid,
      /**
       * W = Work Order, S = Sales Order, P = Purchase Order Constraint
       * CK_TransactionHistoryArchive_TransactionType affecting columns transactiontype:
       * ((upper((transactiontype)::text) = ANY (ARRAY['W'::text, 'S'::text, 'P'::text])))
       */
      String transactiontype,
      /** Product quantity. */
      Integer quantity,
      /** Product cost. */
      BigDecimal actualcost) {
    this(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        new UseDefault<>(),
        new UseDefault<>(),
        new UseDefault<>());
  }
  ;

  /** Primary key for TransactionHistoryArchive records. */
  public TransactionhistoryarchiveRowUnsaved withTransactionid(
      TransactionhistoryarchiveId transactionid) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /** Product identification number. Foreign key to Product.ProductID. */
  public TransactionhistoryarchiveRowUnsaved withProductid(Integer productid) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /** Purchase order, sales order, or work order identification number. */
  public TransactionhistoryarchiveRowUnsaved withReferenceorderid(Integer referenceorderid) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /**
   * W = Work Order, S = Sales Order, P = Purchase Order Constraint
   * CK_TransactionHistoryArchive_TransactionType affecting columns transactiontype:
   * ((upper((transactiontype)::text) = ANY (ARRAY['W'::text, 'S'::text, 'P'::text])))
   */
  public TransactionhistoryarchiveRowUnsaved withTransactiontype(String transactiontype) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /** Product quantity. */
  public TransactionhistoryarchiveRowUnsaved withQuantity(Integer quantity) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /** Product cost. */
  public TransactionhistoryarchiveRowUnsaved withActualcost(BigDecimal actualcost) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /** Default: 0 Line number associated with the purchase order, sales order, or work order. */
  public TransactionhistoryarchiveRowUnsaved withReferenceorderlineid(
      Defaulted<Integer> referenceorderlineid) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /** Default: now() Date and time of the transaction. */
  public TransactionhistoryarchiveRowUnsaved withTransactiondate(
      Defaulted<LocalDateTime> transactiondate) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  /** Default: now() */
  public TransactionhistoryarchiveRowUnsaved withModifieddate(
      Defaulted<LocalDateTime> modifieddate) {
    return new TransactionhistoryarchiveRowUnsaved(
        transactionid,
        productid,
        referenceorderid,
        transactiontype,
        quantity,
        actualcost,
        referenceorderlineid,
        transactiondate,
        modifieddate);
  }
  ;

  public static PgText<TransactionhistoryarchiveRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            TransactionhistoryarchiveId.pgType.pgText().unsafeEncode(row.transactionid, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.int4.pgText().unsafeEncode(row.productid, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.int4.pgText().unsafeEncode(row.referenceorderid, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.bpchar.pgText().unsafeEncode(row.transactiontype, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.int4.pgText().unsafeEncode(row.quantity, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.numeric.pgText().unsafeEncode(row.actualcost, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.int4.pgText()).unsafeEncode(row.referenceorderlineid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.transactiondate, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public TransactionhistoryarchiveRow toRow(
      java.util.function.Supplier<Integer> referenceorderlineidDefault,
      java.util.function.Supplier<LocalDateTime> transactiondateDefault,
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new TransactionhistoryarchiveRow(
        transactionid,
        productid,
        referenceorderid,
        referenceorderlineid.getOrElse(referenceorderlineidDefault),
        transactiondate.getOrElse(transactiondateDefault),
        transactiontype,
        quantity,
        actualcost,
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
