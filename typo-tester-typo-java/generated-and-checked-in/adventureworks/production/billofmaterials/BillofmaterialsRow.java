/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.billofmaterials;

import adventureworks.customtypes.Defaulted;
import adventureworks.production.product.ProductId;
import adventureworks.production.unitmeasure.UnitmeasureId;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/**
 * Table: production.billofmaterials Items required to make bicycles and bicycle subassemblies. It
 * identifies the heirarchical relationship between a parent product and its components. Primary
 * key: billofmaterialsid
 */
public record BillofmaterialsRow(
    /**
     * Primary key for BillOfMaterials records. Default:
     * nextval('production.billofmaterials_billofmaterialsid_seq'::regclass)
     */
    Integer billofmaterialsid,
    /**
     * Parent product identification number. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.production.product.ProductRow#productid()} Constraint
     * CK_BillOfMaterials_BOMLevel affecting columns bomlevel, perassemblyqty, productassemblyid:
     * ((((productassemblyid IS NULL) AND (bomlevel = 0) AND (perassemblyqty = 1.00)) OR
     * ((productassemblyid IS NOT NULL) AND (bomlevel >= 1)))) Constraint
     * CK_BillOfMaterials_ProductAssemblyID affecting columns componentid, productassemblyid:
     * ((productassemblyid <> componentid))
     */
    Optional<ProductId> productassemblyid,
    /**
     * Component identification number. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.production.product.ProductRow#productid()} Constraint
     * CK_BillOfMaterials_ProductAssemblyID affecting columns componentid, productassemblyid:
     * ((productassemblyid <> componentid))
     */
    ProductId componentid,
    /**
     * Date the component started being used in the assembly item. Default: now() Constraint
     * CK_BillOfMaterials_EndDate affecting columns enddate, startdate: (((enddate > startdate) OR
     * (enddate IS NULL)))
     */
    LocalDateTime startdate,
    /**
     * Date the component stopped being used in the assembly item. Constraint
     * CK_BillOfMaterials_EndDate affecting columns enddate, startdate: (((enddate > startdate) OR
     * (enddate IS NULL)))
     */
    Optional<LocalDateTime> enddate,
    /**
     * Standard code identifying the unit of measure for the quantity. Points to {@link
     * adventureworks.production.unitmeasure.UnitmeasureRow#unitmeasurecode()}
     */
    UnitmeasureId unitmeasurecode,
    /**
     * Indicates the depth the component is from its parent (AssemblyID). Constraint
     * CK_BillOfMaterials_BOMLevel affecting columns bomlevel, perassemblyqty, productassemblyid:
     * ((((productassemblyid IS NULL) AND (bomlevel = 0) AND (perassemblyqty = 1.00)) OR
     * ((productassemblyid IS NOT NULL) AND (bomlevel >= 1))))
     */
    Short bomlevel,
    /**
     * Quantity of the component needed to create the assembly. Default: 1.00 Constraint
     * CK_BillOfMaterials_BOMLevel affecting columns bomlevel, perassemblyqty, productassemblyid:
     * ((((productassemblyid IS NULL) AND (bomlevel = 0) AND (perassemblyqty = 1.00)) OR
     * ((productassemblyid IS NOT NULL) AND (bomlevel >= 1)))) Constraint
     * CK_BillOfMaterials_PerAssemblyQty affecting columns perassemblyqty: ((perassemblyqty >=
     * 1.00))
     */
    BigDecimal perassemblyqty,
    /** Default: now() */
    LocalDateTime modifieddate) {
  /**
   * Primary key for BillOfMaterials records. Default:
   * nextval('production.billofmaterials_billofmaterialsid_seq'::regclass)
   */
  public BillofmaterialsRow withBillofmaterialsid(Integer billofmaterialsid) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /**
   * Parent product identification number. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.production.product.ProductRow#productid()} Constraint
   * CK_BillOfMaterials_BOMLevel affecting columns bomlevel, perassemblyqty, productassemblyid:
   * ((((productassemblyid IS NULL) AND (bomlevel = 0) AND (perassemblyqty = 1.00)) OR
   * ((productassemblyid IS NOT NULL) AND (bomlevel >= 1)))) Constraint
   * CK_BillOfMaterials_ProductAssemblyID affecting columns componentid, productassemblyid:
   * ((productassemblyid <> componentid))
   */
  public BillofmaterialsRow withProductassemblyid(Optional<ProductId> productassemblyid) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /**
   * Component identification number. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.production.product.ProductRow#productid()} Constraint
   * CK_BillOfMaterials_ProductAssemblyID affecting columns componentid, productassemblyid:
   * ((productassemblyid <> componentid))
   */
  public BillofmaterialsRow withComponentid(ProductId componentid) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /**
   * Date the component started being used in the assembly item. Default: now() Constraint
   * CK_BillOfMaterials_EndDate affecting columns enddate, startdate: (((enddate > startdate) OR
   * (enddate IS NULL)))
   */
  public BillofmaterialsRow withStartdate(LocalDateTime startdate) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /**
   * Date the component stopped being used in the assembly item. Constraint
   * CK_BillOfMaterials_EndDate affecting columns enddate, startdate: (((enddate > startdate) OR
   * (enddate IS NULL)))
   */
  public BillofmaterialsRow withEnddate(Optional<LocalDateTime> enddate) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /**
   * Standard code identifying the unit of measure for the quantity. Points to {@link
   * adventureworks.production.unitmeasure.UnitmeasureRow#unitmeasurecode()}
   */
  public BillofmaterialsRow withUnitmeasurecode(UnitmeasureId unitmeasurecode) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /**
   * Indicates the depth the component is from its parent (AssemblyID). Constraint
   * CK_BillOfMaterials_BOMLevel affecting columns bomlevel, perassemblyqty, productassemblyid:
   * ((((productassemblyid IS NULL) AND (bomlevel = 0) AND (perassemblyqty = 1.00)) OR
   * ((productassemblyid IS NOT NULL) AND (bomlevel >= 1))))
   */
  public BillofmaterialsRow withBomlevel(Short bomlevel) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /**
   * Quantity of the component needed to create the assembly. Default: 1.00 Constraint
   * CK_BillOfMaterials_BOMLevel affecting columns bomlevel, perassemblyqty, productassemblyid:
   * ((((productassemblyid IS NULL) AND (bomlevel = 0) AND (perassemblyqty = 1.00)) OR
   * ((productassemblyid IS NOT NULL) AND (bomlevel >= 1)))) Constraint
   * CK_BillOfMaterials_PerAssemblyQty affecting columns perassemblyqty: ((perassemblyqty >= 1.00))
   */
  public BillofmaterialsRow withPerassemblyqty(BigDecimal perassemblyqty) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  /** Default: now() */
  public BillofmaterialsRow withModifieddate(LocalDateTime modifieddate) {
    return new BillofmaterialsRow(
        billofmaterialsid,
        productassemblyid,
        componentid,
        startdate,
        enddate,
        unitmeasurecode,
        bomlevel,
        perassemblyqty,
        modifieddate);
  }
  ;

  static RowParser<BillofmaterialsRow> _rowParser =
      RowParsers.of(
          PgTypes.int4,
          ProductId.pgType.opt(),
          ProductId.pgType,
          PgTypes.timestamp,
          PgTypes.timestamp.opt(),
          UnitmeasureId.pgType,
          PgTypes.int2,
          PgTypes.numeric,
          PgTypes.timestamp,
          (t0, t1, t2, t3, t4, t5, t6, t7, t8) ->
              new BillofmaterialsRow(t0, t1, t2, t3, t4, t5, t6, t7, t8),
          row ->
              new Object[] {
                row.billofmaterialsid(),
                row.productassemblyid(),
                row.componentid(),
                row.startdate(),
                row.enddate(),
                row.unitmeasurecode(),
                row.bomlevel(),
                row.perassemblyqty(),
                row.modifieddate()
              });
  ;

  public static PgText<BillofmaterialsRow> pgText = PgText.from(_rowParser);

  public Integer id() {
    return billofmaterialsid;
  }
  ;

  public BillofmaterialsRowUnsaved toUnsavedRow(
      Defaulted<Integer> billofmaterialsid,
      Defaulted<LocalDateTime> startdate,
      Defaulted<BigDecimal> perassemblyqty,
      Defaulted<LocalDateTime> modifieddate) {
    return new BillofmaterialsRowUnsaved(
        productassemblyid,
        componentid,
        enddate,
        unitmeasurecode,
        bomlevel,
        billofmaterialsid,
        startdate,
        perassemblyqty,
        modifieddate);
  }
  ;
}
