/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.production.document;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.person.businessentity.BusinessentityId;
import adventureworks.public_.Flag;
import java.time.LocalDateTime;
import java.util.Optional;
import java.util.UUID;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/** This class corresponds to a row in table `production.document` which has not been persisted yet */
public record DocumentRowUnsaved(
  /** Title of the document. */
  String title,
  /** Employee who controls the document.  Foreign key to Employee.BusinessEntityID
    * Points to {@link adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
    */
  BusinessentityId owner,
  /** File name of the document */
  String filename,
  /** File extension indicating the document type. For example, .doc or .txt. */
  Optional</* max 8 chars */ String> fileextension,
  /** Revision number of the document. */
  String revision,
  /** 1 = Pending approval, 2 = Approved, 3 = Obsolete
    * Constraint CK_Document_Status affecting columns status:  (((status >= 1) AND (status <= 3)))
    */
  Short status,
  /** Document abstract. */
  Optional<String> documentsummary,
  /** Complete document. */
  Optional<byte[]> document,
  /** Default: false
    * 0 = This is a folder, 1 = This is a document.
    */
  Defaulted<Flag> folderflag,
  /** Default: 0
    * Engineering change approval number.
    */
  Defaulted<Integer> changenumber,
  /** Default: uuid_generate_v1()
    * ROWGUIDCOL number uniquely identifying the record. Required for FileStream.
    */
  Defaulted<UUID> rowguid,
  /** Default: now() */
  Defaulted<LocalDateTime> modifieddate,
  /** Default: '/'::character varying
    * Primary key for Document records.
    */
  Defaulted<DocumentId> documentnode
) {
  public DocumentRowUnsaved(
    /** Title of the document. */
    String title,
    /** Employee who controls the document.  Foreign key to Employee.BusinessEntityID
      * Points to {@link adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
      */
    BusinessentityId owner,
    /** File name of the document */
    String filename,
    /** Revision number of the document. */
    String revision,
    /** 1 = Pending approval, 2 = Approved, 3 = Obsolete
      * Constraint CK_Document_Status affecting columns status:  (((status >= 1) AND (status <= 3)))
      */
    Short status
  ) {
    this(title, owner, filename, Optional.empty(), revision, status, Optional.empty(), Optional.empty(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>());
  };

  /** Title of the document. */
  public DocumentRowUnsaved withTitle(String title) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Employee who controls the document.  Foreign key to Employee.BusinessEntityID
    * Points to {@link adventureworks.humanresources.employee.EmployeeRow#businessentityid()}
    */
  public DocumentRowUnsaved withOwner(BusinessentityId owner) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** File name of the document */
  public DocumentRowUnsaved withFilename(String filename) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** File extension indicating the document type. For example, .doc or .txt. */
  public DocumentRowUnsaved withFileextension(Optional</* max 8 chars */ String> fileextension) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Revision number of the document. */
  public DocumentRowUnsaved withRevision(String revision) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** 1 = Pending approval, 2 = Approved, 3 = Obsolete
    * Constraint CK_Document_Status affecting columns status:  (((status >= 1) AND (status <= 3)))
    */
  public DocumentRowUnsaved withStatus(Short status) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Document abstract. */
  public DocumentRowUnsaved withDocumentsummary(Optional<String> documentsummary) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Complete document. */
  public DocumentRowUnsaved withDocument(Optional<byte[]> document) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Default: false
    * 0 = This is a folder, 1 = This is a document.
    */
  public DocumentRowUnsaved withFolderflag(Defaulted<Flag> folderflag) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Default: 0
    * Engineering change approval number.
    */
  public DocumentRowUnsaved withChangenumber(Defaulted<Integer> changenumber) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Default: uuid_generate_v1()
    * ROWGUIDCOL number uniquely identifying the record. Required for FileStream.
    */
  public DocumentRowUnsaved withRowguid(Defaulted<UUID> rowguid) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Default: now() */
  public DocumentRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  /** Default: '/'::character varying
    * Primary key for Document records.
    */
  public DocumentRowUnsaved withDocumentnode(Defaulted<DocumentId> documentnode) {
    return new DocumentRowUnsaved(title, owner, filename, fileextension, revision, status, documentsummary, document, folderflag, changenumber, rowguid, modifieddate, documentnode);
  };

  static public PgText<DocumentRowUnsaved> pgText =
    PgText.instance((row, sb) -> {
      PgTypes.text.pgText().unsafeEncode(row.title, sb);
      sb.append(PgText.DELIMETER);
      BusinessentityId.pgType.pgText().unsafeEncode(row.owner, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.pgText().unsafeEncode(row.filename, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.opt().pgText().unsafeEncode(row.fileextension, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.bpchar.pgText().unsafeEncode(row.revision, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.int2.pgText().unsafeEncode(row.status, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.opt().pgText().unsafeEncode(row.documentsummary, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.bytea.opt().pgText().unsafeEncode(row.document, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(Flag.pgType.pgText()).unsafeEncode(row.folderflag, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PgTypes.int4.pgText()).unsafeEncode(row.changenumber, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PgTypes.uuid.pgText()).unsafeEncode(row.rowguid, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(DocumentId.pgType.pgText()).unsafeEncode(row.documentnode, sb);
    });

  public DocumentRow toRow(
    java.util.function.Supplier<Flag> folderflagDefault,
    java.util.function.Supplier<Integer> changenumberDefault,
    java.util.function.Supplier<UUID> rowguidDefault,
    java.util.function.Supplier<LocalDateTime> modifieddateDefault,
    java.util.function.Supplier<DocumentId> documentnodeDefault
  ) {
    return new DocumentRow(title, owner, folderflag.getOrElse(folderflagDefault), filename, fileextension, revision, changenumber.getOrElse(changenumberDefault), status, documentsummary, document, rowguid.getOrElse(rowguidDefault), modifieddate.getOrElse(modifieddateDefault), documentnode.getOrElse(documentnodeDefault));
  };
}