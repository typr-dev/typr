/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.person.emailaddress;

import adventureworks.customtypes.Defaulted;
import adventureworks.person.businessentity.BusinessentityId;
import java.time.LocalDateTime;
import java.util.Optional;
import java.util.UUID;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/**
 * Table: person.emailaddress Where to send a person email. Composite primary key: businessentityid,
 * emailaddressid
 */
public record EmailaddressRow(
    /**
     * Primary key. Person associated with this email address. Foreign key to
     * Person.BusinessEntityID Points to {@link
     * adventureworks.person.person.PersonRow#businessentityid()}
     */
    BusinessentityId businessentityid,
    /**
     * Primary key. ID of this email address. Default:
     * nextval('person.emailaddress_emailaddressid_seq'::regclass)
     */
    Integer emailaddressid,
    /** E-mail address for the person. */
    Optional</* max 50 chars */ String> emailaddress,
    /** Default: uuid_generate_v1() */
    UUID rowguid,
    /** Default: now() */
    LocalDateTime modifieddate) {
  /**
   * Primary key. Person associated with this email address. Foreign key to Person.BusinessEntityID
   * Points to {@link adventureworks.person.person.PersonRow#businessentityid()}
   */
  public EmailaddressRow withBusinessentityid(BusinessentityId businessentityid) {
    return new EmailaddressRow(
        businessentityid, emailaddressid, emailaddress, rowguid, modifieddate);
  }
  ;

  /**
   * Primary key. ID of this email address. Default:
   * nextval('person.emailaddress_emailaddressid_seq'::regclass)
   */
  public EmailaddressRow withEmailaddressid(Integer emailaddressid) {
    return new EmailaddressRow(
        businessentityid, emailaddressid, emailaddress, rowguid, modifieddate);
  }
  ;

  /** E-mail address for the person. */
  public EmailaddressRow withEmailaddress(Optional</* max 50 chars */ String> emailaddress) {
    return new EmailaddressRow(
        businessentityid, emailaddressid, emailaddress, rowguid, modifieddate);
  }
  ;

  /** Default: uuid_generate_v1() */
  public EmailaddressRow withRowguid(UUID rowguid) {
    return new EmailaddressRow(
        businessentityid, emailaddressid, emailaddress, rowguid, modifieddate);
  }
  ;

  /** Default: now() */
  public EmailaddressRow withModifieddate(LocalDateTime modifieddate) {
    return new EmailaddressRow(
        businessentityid, emailaddressid, emailaddress, rowguid, modifieddate);
  }
  ;

  static RowParser<EmailaddressRow> _rowParser =
      RowParsers.of(
          BusinessentityId.pgType,
          PgTypes.int4,
          PgTypes.text.opt(),
          PgTypes.uuid,
          PgTypes.timestamp,
          (t0, t1, t2, t3, t4) -> new EmailaddressRow(t0, t1, t2, t3, t4),
          row ->
              new Object[] {
                row.businessentityid(),
                row.emailaddressid(),
                row.emailaddress(),
                row.rowguid(),
                row.modifieddate()
              });
  ;

  public static EmailaddressRow apply(
      EmailaddressId compositeId,
      Optional</* max 50 chars */ String> emailaddress,
      UUID rowguid,
      LocalDateTime modifieddate) {
    return new EmailaddressRow(
        compositeId.businessentityid(),
        compositeId.emailaddressid(),
        emailaddress,
        rowguid,
        modifieddate);
  }
  ;

  public static PgText<EmailaddressRow> pgText = PgText.from(_rowParser);

  public EmailaddressId compositeId() {
    return new EmailaddressId(businessentityid, emailaddressid);
  }
  ;

  public EmailaddressId id() {
    return this.compositeId();
  }
  ;

  public EmailaddressRowUnsaved toUnsavedRow(
      Defaulted<Integer> emailaddressid,
      Defaulted<UUID> rowguid,
      Defaulted<LocalDateTime> modifieddate) {
    return new EmailaddressRowUnsaved(
        businessentityid, emailaddress, emailaddressid, rowguid, modifieddate);
  }
  ;
}
