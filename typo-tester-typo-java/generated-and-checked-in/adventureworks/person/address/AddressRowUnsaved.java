/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.person.address;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.person.stateprovince.StateprovinceId;
import java.time.LocalDateTime;
import java.util.Optional;
import java.util.UUID;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/** This class corresponds to a row in table `person.address` which has not been persisted yet */
public record AddressRowUnsaved(
    /** First street address line. */
    String addressline1,
    /** Second street address line. */
    Optional</* max 60 chars */ String> addressline2,
    /** Name of the city. */
    String city,
    /**
     * Unique identification number for the state or province. Foreign key to StateProvince table.
     * Points to {@link adventureworks.person.stateprovince.StateprovinceRow#stateprovinceid()}
     */
    StateprovinceId stateprovinceid,
    /** Postal code for the street address. */
    String postalcode,
    /** Latitude and longitude of this address. */
    Optional<byte[]> spatiallocation,
    /**
     * Default: nextval('person.address_addressid_seq'::regclass) Primary key for Address records.
     */
    Defaulted<AddressId> addressid,
    /** Default: uuid_generate_v1() */
    Defaulted<UUID> rowguid,
    /** Default: now() */
    Defaulted<LocalDateTime> modifieddate) {
  public AddressRowUnsaved(
      /** First street address line. */
      String addressline1,
      /** Name of the city. */
      String city,
      /**
       * Unique identification number for the state or province. Foreign key to StateProvince table.
       * Points to {@link adventureworks.person.stateprovince.StateprovinceRow#stateprovinceid()}
       */
      StateprovinceId stateprovinceid,
      /** Postal code for the street address. */
      String postalcode) {
    this(
        addressline1,
        Optional.empty(),
        city,
        stateprovinceid,
        postalcode,
        Optional.empty(),
        new UseDefault<>(),
        new UseDefault<>(),
        new UseDefault<>());
  }
  ;

  /** First street address line. */
  public AddressRowUnsaved withAddressline1(String addressline1) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /** Second street address line. */
  public AddressRowUnsaved withAddressline2(Optional</* max 60 chars */ String> addressline2) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /** Name of the city. */
  public AddressRowUnsaved withCity(String city) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /**
   * Unique identification number for the state or province. Foreign key to StateProvince table.
   * Points to {@link adventureworks.person.stateprovince.StateprovinceRow#stateprovinceid()}
   */
  public AddressRowUnsaved withStateprovinceid(StateprovinceId stateprovinceid) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /** Postal code for the street address. */
  public AddressRowUnsaved withPostalcode(String postalcode) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /** Latitude and longitude of this address. */
  public AddressRowUnsaved withSpatiallocation(Optional<byte[]> spatiallocation) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /** Default: nextval('person.address_addressid_seq'::regclass) Primary key for Address records. */
  public AddressRowUnsaved withAddressid(Defaulted<AddressId> addressid) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /** Default: uuid_generate_v1() */
  public AddressRowUnsaved withRowguid(Defaulted<UUID> rowguid) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  /** Default: now() */
  public AddressRowUnsaved withModifieddate(Defaulted<LocalDateTime> modifieddate) {
    return new AddressRowUnsaved(
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        addressid,
        rowguid,
        modifieddate);
  }
  ;

  public static PgText<AddressRowUnsaved> pgText =
      PgText.instance(
          (row, sb) -> {
            PgTypes.text.pgText().unsafeEncode(row.addressline1, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.text.opt().pgText().unsafeEncode(row.addressline2, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.text.pgText().unsafeEncode(row.city, sb);
            sb.append(PgText.DELIMETER);
            StateprovinceId.pgType.pgText().unsafeEncode(row.stateprovinceid, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.text.pgText().unsafeEncode(row.postalcode, sb);
            sb.append(PgText.DELIMETER);
            PgTypes.bytea.opt().pgText().unsafeEncode(row.spatiallocation, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(AddressId.pgType.pgText()).unsafeEncode(row.addressid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.uuid.pgText()).unsafeEncode(row.rowguid, sb);
            sb.append(PgText.DELIMETER);
            Defaulted.pgText(PgTypes.timestamp.pgText()).unsafeEncode(row.modifieddate, sb);
          });

  public AddressRow toRow(
      java.util.function.Supplier<AddressId> addressidDefault,
      java.util.function.Supplier<UUID> rowguidDefault,
      java.util.function.Supplier<LocalDateTime> modifieddateDefault) {
    return new AddressRow(
        addressid.getOrElse(addressidDefault),
        addressline1,
        addressline2,
        city,
        stateprovinceid,
        postalcode,
        spatiallocation,
        rowguid.getOrElse(rowguidDefault),
        modifieddate.getOrElse(modifieddateDefault));
  }
  ;
}
