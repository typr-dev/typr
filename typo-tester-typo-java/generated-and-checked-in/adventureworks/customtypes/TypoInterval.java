/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes;

import org.postgresql.util.PGInterval;
import typo.runtime.PgRead;
import typo.runtime.PgText;
import typo.runtime.PgType;
import typo.runtime.PgWrite;
import typo.runtime.internal.arrayMap;
import static typo.runtime.internal.stringInterpolator.str;

/** Interval type in PostgreSQL */
public record TypoInterval(
  Integer years,
  Integer months,
  Integer days,
  Integer hours,
  Integer minutes,
  Double seconds
) {
  public TypoInterval withYears(Integer years) {
    return new TypoInterval(years, months, days, hours, minutes, seconds);
  };

  public TypoInterval withMonths(Integer months) {
    return new TypoInterval(years, months, days, hours, minutes, seconds);
  };

  public TypoInterval withDays(Integer days) {
    return new TypoInterval(years, months, days, hours, minutes, seconds);
  };

  public TypoInterval withHours(Integer hours) {
    return new TypoInterval(years, months, days, hours, minutes, seconds);
  };

  public TypoInterval withMinutes(Integer minutes) {
    return new TypoInterval(years, months, days, hours, minutes, seconds);
  };

  public TypoInterval withSeconds(Double seconds) {
    return new TypoInterval(years, months, days, hours, minutes, seconds);
  };

  static public PgText<TypoInterval> pgText =
    PgText.textString.contramap(v -> str("P", java.lang.String.valueOf(v.years()), "Y", java.lang.String.valueOf(v.months()), "M", java.lang.String.valueOf(v.days()), "DT", java.lang.String.valueOf(v.hours()), "H", java.lang.String.valueOf(v.minutes()), "M", java.lang.String.valueOf(v.seconds()), "S"));

  static public PgType<TypoInterval> pgType =
    PgType.of(
      "interval",
      PgRead.castJdbcObjectTo(PGInterval.class).map((PGInterval v) -> new TypoInterval(v.getYears(), v.getMonths(), v.getDays(), v.getHours(), v.getMinutes(), v.getSeconds())),
      PgWrite.<PGInterval>passObjectToJdbc().contramap((TypoInterval v) -> new PGInterval(v.years(), v.months(), v.days(), v.hours(), v.minutes(), v.seconds())),
      TypoInterval.pgText
    );

  static public PgType<TypoInterval[]> pgTypeArray =
    TypoInterval.pgType.array(PgRead.castJdbcArrayTo(PGInterval.class).map((PGInterval[] xs) -> arrayMap.map(xs, (PGInterval v) -> new TypoInterval(v.getYears(), v.getMonths(), v.getDays(), v.getHours(), v.getMinutes(), v.getSeconds()), TypoInterval.class)), PgWrite.<PGInterval>passObjectToJdbc().array(TypoInterval.pgType.typename().<PGInterval>as()).contramap((TypoInterval[] xs) -> arrayMap.map(xs, (TypoInterval v) -> new PGInterval(v.years(), v.months(), v.days(), v.hours(), v.minutes(), v.seconds()), PGInterval.class)));
}