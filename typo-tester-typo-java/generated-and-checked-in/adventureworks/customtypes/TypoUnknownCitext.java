/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes;

import com.fasterxml.jackson.annotation.JsonValue;
import typo.dsl.Bijection;
import typo.runtime.PgRead;
import typo.runtime.PgText;
import typo.runtime.PgType;
import typo.runtime.PgTypes;
import typo.runtime.PgWrite;
import typo.runtime.internal.arrayMap;

/** This is a type typo does not know how to handle yet. This falls back to casting to string and crossing fingers. Time to file an issue! :] */
public record TypoUnknownCitext(@JsonValue String value) {
  public TypoUnknownCitext withValue(String value) {
    return new TypoUnknownCitext(value);
  };

  static public Bijection<TypoUnknownCitext, String> bijection =
    Bijection.of(TypoUnknownCitext::value, TypoUnknownCitext::new);

  static public PgText<TypoUnknownCitext> pgText =
    PgText.textString.contramap(v -> v.value().toString());

  static public PgType<TypoUnknownCitext> pgType =
    PgTypes.text.bimap(v -> new TypoUnknownCitext(v), v -> v.value()).renamed("citext");

  static public PgType<TypoUnknownCitext[]> pgTypeArray =
    TypoUnknownCitext.pgType.array(PgRead.massageJdbcArrayTo(String[].class).map(xs -> arrayMap.map(xs, v -> new TypoUnknownCitext(v), TypoUnknownCitext.class)), PgWrite.<String>passObjectToJdbc().array(TypoUnknownCitext.pgType.typename().<String>as()).contramap(xs -> arrayMap.map(xs, (TypoUnknownCitext v) -> v.value(), String.class)));
}