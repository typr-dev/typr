/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public_.users;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.TypoInstant;
import adventureworks.customtypes.TypoUnknownCitext;
import com.fasterxml.jackson.annotation.JsonProperty;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/** Table: public.users
  * Primary key: user_id
  */
public record UsersRow(
  @JsonProperty("user_id") UsersId userId,
  String name,
  @JsonProperty("last_name") Optional<String> lastName,
  TypoUnknownCitext email,
  String password,
  /** Default: now() */
  @JsonProperty("created_at") TypoInstant createdAt,
  @JsonProperty("verified_on") Optional<TypoInstant> verifiedOn
) {
  public UsersRow withUserId(UsersId userId) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  };

  public UsersRow withName(String name) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  };

  public UsersRow withLastName(Optional<String> lastName) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  };

  public UsersRow withEmail(TypoUnknownCitext email) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  };

  public UsersRow withPassword(String password) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  };

  /** Default: now() */
  public UsersRow withCreatedAt(TypoInstant createdAt) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  };

  public UsersRow withVerifiedOn(Optional<TypoInstant> verifiedOn) {
    return new UsersRow(userId, name, lastName, email, password, createdAt, verifiedOn);
  };

  static RowParser<UsersRow> _rowParser = RowParsers.of(UsersId.pgType, PgTypes.text, PgTypes.text.opt(), TypoUnknownCitext.pgType, PgTypes.text, TypoInstant.pgType, TypoInstant.pgType.opt(), UsersRow::new, row -> new Object[]{row.userId(), row.name(), row.lastName(), row.email(), row.password(), row.createdAt(), row.verifiedOn()});;

  static public PgText<UsersRow> pgText =
    PgText.from(_rowParser);

  public UsersId id() {
    return userId;
  };

  public UsersRowUnsaved toUnsavedRow(Defaulted<TypoInstant> createdAt) {
    return new UsersRowUnsaved(userId, name, lastName, email, password, verifiedOn, createdAt);
  };
}