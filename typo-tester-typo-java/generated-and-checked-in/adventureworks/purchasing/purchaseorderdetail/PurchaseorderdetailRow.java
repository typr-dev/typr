/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.purchasing.purchaseorderdetail;

import adventureworks.customtypes.Defaulted;
import adventureworks.production.product.ProductId;
import adventureworks.purchasing.purchaseorderheader.PurchaseorderheaderId;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/**
 * Table: purchasing.purchaseorderdetail Individual products associated with a specific purchase
 * order. See PurchaseOrderHeader. Composite primary key: purchaseorderid, purchaseorderdetailid
 */
public record PurchaseorderdetailRow(
    /**
     * Primary key. Foreign key to PurchaseOrderHeader.PurchaseOrderID. Points to {@link
     * adventureworks.purchasing.purchaseorderheader.PurchaseorderheaderRow#purchaseorderid()}
     */
    PurchaseorderheaderId purchaseorderid,
    /**
     * Primary key. One line number per purchased product. Default:
     * nextval('purchasing.purchaseorderdetail_purchaseorderdetailid_seq'::regclass)
     */
    Integer purchaseorderdetailid,
    /** Date the product is expected to be received. */
    LocalDateTime duedate,
    /**
     * Quantity ordered. Constraint CK_PurchaseOrderDetail_OrderQty affecting columns orderqty:
     * ((orderqty > 0))
     */
    Short orderqty,
    /**
     * Product identification number. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.production.product.ProductRow#productid()}
     */
    ProductId productid,
    /**
     * Vendor's selling price of a single product. Constraint CK_PurchaseOrderDetail_UnitPrice
     * affecting columns unitprice: ((unitprice >= 0.00))
     */
    BigDecimal unitprice,
    /**
     * Quantity actually received from the vendor. Constraint CK_PurchaseOrderDetail_ReceivedQty
     * affecting columns receivedqty: ((receivedqty >= 0.00))
     */
    BigDecimal receivedqty,
    /**
     * Quantity rejected during inspection. Constraint CK_PurchaseOrderDetail_RejectedQty affecting
     * columns rejectedqty: ((rejectedqty >= 0.00))
     */
    BigDecimal rejectedqty,
    /** Default: now() */
    LocalDateTime modifieddate) {
  /**
   * Primary key. Foreign key to PurchaseOrderHeader.PurchaseOrderID. Points to {@link
   * adventureworks.purchasing.purchaseorderheader.PurchaseorderheaderRow#purchaseorderid()}
   */
  public PurchaseorderdetailRow withPurchaseorderid(PurchaseorderheaderId purchaseorderid) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /**
   * Primary key. One line number per purchased product. Default:
   * nextval('purchasing.purchaseorderdetail_purchaseorderdetailid_seq'::regclass)
   */
  public PurchaseorderdetailRow withPurchaseorderdetailid(Integer purchaseorderdetailid) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /** Date the product is expected to be received. */
  public PurchaseorderdetailRow withDuedate(LocalDateTime duedate) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /**
   * Quantity ordered. Constraint CK_PurchaseOrderDetail_OrderQty affecting columns orderqty:
   * ((orderqty > 0))
   */
  public PurchaseorderdetailRow withOrderqty(Short orderqty) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /**
   * Product identification number. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.production.product.ProductRow#productid()}
   */
  public PurchaseorderdetailRow withProductid(ProductId productid) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /**
   * Vendor's selling price of a single product. Constraint CK_PurchaseOrderDetail_UnitPrice
   * affecting columns unitprice: ((unitprice >= 0.00))
   */
  public PurchaseorderdetailRow withUnitprice(BigDecimal unitprice) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /**
   * Quantity actually received from the vendor. Constraint CK_PurchaseOrderDetail_ReceivedQty
   * affecting columns receivedqty: ((receivedqty >= 0.00))
   */
  public PurchaseorderdetailRow withReceivedqty(BigDecimal receivedqty) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /**
   * Quantity rejected during inspection. Constraint CK_PurchaseOrderDetail_RejectedQty affecting
   * columns rejectedqty: ((rejectedqty >= 0.00))
   */
  public PurchaseorderdetailRow withRejectedqty(BigDecimal rejectedqty) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  /** Default: now() */
  public PurchaseorderdetailRow withModifieddate(LocalDateTime modifieddate) {
    return new PurchaseorderdetailRow(
        purchaseorderid,
        purchaseorderdetailid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  static RowParser<PurchaseorderdetailRow> _rowParser =
      RowParsers.of(
          PurchaseorderheaderId.pgType,
          PgTypes.int4,
          PgTypes.timestamp,
          PgTypes.int2,
          ProductId.pgType,
          PgTypes.numeric,
          PgTypes.numeric,
          PgTypes.numeric,
          PgTypes.timestamp,
          (t0, t1, t2, t3, t4, t5, t6, t7, t8) ->
              new PurchaseorderdetailRow(t0, t1, t2, t3, t4, t5, t6, t7, t8),
          row ->
              new Object[] {
                row.purchaseorderid(),
                row.purchaseorderdetailid(),
                row.duedate(),
                row.orderqty(),
                row.productid(),
                row.unitprice(),
                row.receivedqty(),
                row.rejectedqty(),
                row.modifieddate()
              });
  ;

  public static PurchaseorderdetailRow apply(
      PurchaseorderdetailId compositeId,
      LocalDateTime duedate,
      Short orderqty,
      ProductId productid,
      BigDecimal unitprice,
      BigDecimal receivedqty,
      BigDecimal rejectedqty,
      LocalDateTime modifieddate) {
    return new PurchaseorderdetailRow(
        compositeId.purchaseorderid(),
        compositeId.purchaseorderdetailid(),
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        modifieddate);
  }
  ;

  public static PgText<PurchaseorderdetailRow> pgText = PgText.from(_rowParser);

  public PurchaseorderdetailId compositeId() {
    return new PurchaseorderdetailId(purchaseorderid, purchaseorderdetailid);
  }
  ;

  public PurchaseorderdetailId id() {
    return this.compositeId();
  }
  ;

  public PurchaseorderdetailRowUnsaved toUnsavedRow(
      Defaulted<Integer> purchaseorderdetailid, Defaulted<LocalDateTime> modifieddate) {
    return new PurchaseorderdetailRowUnsaved(
        purchaseorderid,
        duedate,
        orderqty,
        productid,
        unitprice,
        receivedqty,
        rejectedqty,
        purchaseorderdetailid,
        modifieddate);
  }
  ;
}
