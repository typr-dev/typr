/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.purchasing.productvendor;

import adventureworks.customtypes.Defaulted;
import adventureworks.person.businessentity.BusinessentityId;
import adventureworks.production.product.ProductId;
import adventureworks.production.unitmeasure.UnitmeasureId;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;

/**
 * Table: purchasing.productvendor Cross-reference table mapping vendors with the products they
 * supply. Composite primary key: productid, businessentityid
 */
public record ProductvendorRow(
    /**
     * Primary key. Foreign key to Product.ProductID. Points to {@link
     * adventureworks.production.product.ProductRow#productid()}
     */
    ProductId productid,
    /**
     * Primary key. Foreign key to Vendor.BusinessEntityID. Points to {@link
     * adventureworks.purchasing.vendor.VendorRow#businessentityid()}
     */
    BusinessentityId businessentityid,
    /**
     * The average span of time (in days) between placing an order with the vendor and receiving the
     * purchased product. Constraint CK_ProductVendor_AverageLeadTime affecting columns
     * averageleadtime: ((averageleadtime >= 1))
     */
    Integer averageleadtime,
    /**
     * The vendor's usual selling price. Constraint CK_ProductVendor_StandardPrice affecting columns
     * standardprice: ((standardprice > 0.00))
     */
    BigDecimal standardprice,
    /**
     * The selling price when last purchased. Constraint CK_ProductVendor_LastReceiptCost affecting
     * columns lastreceiptcost: ((lastreceiptcost > 0.00))
     */
    Optional<BigDecimal> lastreceiptcost,
    /** Date the product was last received by the vendor. */
    Optional<LocalDateTime> lastreceiptdate,
    /**
     * The maximum quantity that should be ordered. Constraint CK_ProductVendor_MinOrderQty
     * affecting columns minorderqty: ((minorderqty >= 1))
     */
    Integer minorderqty,
    /**
     * The minimum quantity that should be ordered. Constraint CK_ProductVendor_MaxOrderQty
     * affecting columns maxorderqty: ((maxorderqty >= 1))
     */
    Integer maxorderqty,
    /**
     * The quantity currently on order. Constraint CK_ProductVendor_OnOrderQty affecting columns
     * onorderqty: ((onorderqty >= 0))
     */
    Optional<Integer> onorderqty,
    /**
     * The product's unit of measure. Points to {@link
     * adventureworks.production.unitmeasure.UnitmeasureRow#unitmeasurecode()}
     */
    UnitmeasureId unitmeasurecode,
    /** Default: now() */
    LocalDateTime modifieddate) {
  /**
   * Primary key. Foreign key to Product.ProductID. Points to {@link
   * adventureworks.production.product.ProductRow#productid()}
   */
  public ProductvendorRow withProductid(ProductId productid) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * Primary key. Foreign key to Vendor.BusinessEntityID. Points to {@link
   * adventureworks.purchasing.vendor.VendorRow#businessentityid()}
   */
  public ProductvendorRow withBusinessentityid(BusinessentityId businessentityid) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * The average span of time (in days) between placing an order with the vendor and receiving the
   * purchased product. Constraint CK_ProductVendor_AverageLeadTime affecting columns
   * averageleadtime: ((averageleadtime >= 1))
   */
  public ProductvendorRow withAverageleadtime(Integer averageleadtime) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * The vendor's usual selling price. Constraint CK_ProductVendor_StandardPrice affecting columns
   * standardprice: ((standardprice > 0.00))
   */
  public ProductvendorRow withStandardprice(BigDecimal standardprice) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * The selling price when last purchased. Constraint CK_ProductVendor_LastReceiptCost affecting
   * columns lastreceiptcost: ((lastreceiptcost > 0.00))
   */
  public ProductvendorRow withLastreceiptcost(Optional<BigDecimal> lastreceiptcost) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /** Date the product was last received by the vendor. */
  public ProductvendorRow withLastreceiptdate(Optional<LocalDateTime> lastreceiptdate) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * The maximum quantity that should be ordered. Constraint CK_ProductVendor_MinOrderQty affecting
   * columns minorderqty: ((minorderqty >= 1))
   */
  public ProductvendorRow withMinorderqty(Integer minorderqty) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * The minimum quantity that should be ordered. Constraint CK_ProductVendor_MaxOrderQty affecting
   * columns maxorderqty: ((maxorderqty >= 1))
   */
  public ProductvendorRow withMaxorderqty(Integer maxorderqty) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * The quantity currently on order. Constraint CK_ProductVendor_OnOrderQty affecting columns
   * onorderqty: ((onorderqty >= 0))
   */
  public ProductvendorRow withOnorderqty(Optional<Integer> onorderqty) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /**
   * The product's unit of measure. Points to {@link
   * adventureworks.production.unitmeasure.UnitmeasureRow#unitmeasurecode()}
   */
  public ProductvendorRow withUnitmeasurecode(UnitmeasureId unitmeasurecode) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  /** Default: now() */
  public ProductvendorRow withModifieddate(LocalDateTime modifieddate) {
    return new ProductvendorRow(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  public static RowParser<ProductvendorRow> _rowParser =
      RowParsers.of(
          ProductId.pgType,
          BusinessentityId.pgType,
          PgTypes.int4,
          PgTypes.numeric,
          PgTypes.numeric.opt(),
          PgTypes.timestamp.opt(),
          PgTypes.int4,
          PgTypes.int4,
          PgTypes.int4.opt(),
          UnitmeasureId.pgType,
          PgTypes.timestamp,
          ProductvendorRow::new,
          row ->
              new Object[] {
                row.productid(),
                row.businessentityid(),
                row.averageleadtime(),
                row.standardprice(),
                row.lastreceiptcost(),
                row.lastreceiptdate(),
                row.minorderqty(),
                row.maxorderqty(),
                row.onorderqty(),
                row.unitmeasurecode(),
                row.modifieddate()
              });
  ;

  public static ProductvendorRow apply(
      ProductvendorId compositeId,
      Integer averageleadtime,
      BigDecimal standardprice,
      Optional<BigDecimal> lastreceiptcost,
      Optional<LocalDateTime> lastreceiptdate,
      Integer minorderqty,
      Integer maxorderqty,
      Optional<Integer> onorderqty,
      UnitmeasureId unitmeasurecode,
      LocalDateTime modifieddate) {
    return new ProductvendorRow(
        compositeId.productid(),
        compositeId.businessentityid(),
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;

  public static PgText<ProductvendorRow> pgText = PgText.from(_rowParser);

  public ProductvendorId compositeId() {
    return new ProductvendorId(productid, businessentityid);
  }
  ;

  public ProductvendorId id() {
    return this.compositeId();
  }
  ;

  public ProductvendorRowUnsaved toUnsavedRow(Defaulted<LocalDateTime> modifieddate) {
    return new ProductvendorRowUnsaved(
        productid,
        businessentityid,
        averageleadtime,
        standardprice,
        lastreceiptcost,
        lastreceiptdate,
        minorderqty,
        maxorderqty,
        onorderqty,
        unitmeasurecode,
        modifieddate);
  }
  ;
}
