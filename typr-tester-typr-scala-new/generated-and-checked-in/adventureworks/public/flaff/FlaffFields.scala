/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.flaff

import adventureworks.public.ShortText
import typr.dsl.FieldsExpr0
import typr.dsl.Path
import typr.dsl.SqlExpr.FieldLike
import typr.runtime.PgTypes
import typr.runtime.RowParser
import typr.scaladsl.ForeignKey
import typr.scaladsl.RelationStructure
import typr.scaladsl.ScalaDbTypes
import typr.scaladsl.SqlExpr
import typr.scaladsl.SqlExpr.CompositeIn
import typr.scaladsl.SqlExpr.IdField
import typr.scaladsl.SqlExpr.OptField

trait FlaffFields extends FieldsExpr0[FlaffRow] {
  def code: IdField[ShortText, FlaffRow]

  def anotherCode: IdField[String, FlaffRow]

  def someNumber: IdField[Int, FlaffRow]

  def specifier: IdField[ShortText, FlaffRow]

  def parentspecifier: OptField[ShortText, FlaffRow]

  def fkFlaff: ForeignKey[FlaffFields, FlaffRow] = ForeignKey.of[FlaffFields, FlaffRow]("public.flaff_parent_fk").withColumnPair[ShortText](code, _.code).withColumnPair[String](anotherCode, _.anotherCode).withColumnPair[Int](someNumber, _.someNumber).withColumnPair[ShortText](parentspecifier, _.specifier)

  def compositeIdIs(compositeId: FlaffId): SqlExpr[Boolean] = SqlExpr.all(code.isEqual(compositeId.code), anotherCode.isEqual(compositeId.anotherCode), someNumber.isEqual(compositeId.someNumber), specifier.isEqual(compositeId.specifier))

  def compositeIdIn(compositeIds: List[FlaffId]): SqlExpr[Boolean] = CompositeIn(List(CompositeIn.Part[ShortText, FlaffId, FlaffRow](code, _.code, ShortText.pgType), CompositeIn.Part[String, FlaffId, FlaffRow](anotherCode, _.anotherCode, PgTypes.text), CompositeIn.Part[Int, FlaffId, FlaffRow](someNumber, _.someNumber, ScalaDbTypes.PgTypes.int4), CompositeIn.Part[ShortText, FlaffId, FlaffRow](specifier, _.specifier, ShortText.pgType)), compositeIds)

  override def columns: java.util.List[FieldLike[?, FlaffRow]]

  override def rowParser: RowParser[FlaffRow] = FlaffRow._rowParser.underlying
}

object FlaffFields {
  case class Impl(val `_path`: java.util.List[Path]) extends FlaffFields with RelationStructure[FlaffFields, FlaffRow] {

    override def code: IdField[ShortText, FlaffRow] = {
      new IdField[ShortText, FlaffRow](
        _path,
        "code",
        _.code,
        None,
        Some("text"),
        (row, value) => row.copy(code = value),
        ShortText.pgType
      )
    }

    override def anotherCode: IdField[String, FlaffRow] = {
      new IdField[String, FlaffRow](
        _path,
        "another_code",
        _.anotherCode,
        None,
        None,
        (row, value) => row.copy(anotherCode = value),
        PgTypes.text
      )
    }

    override def someNumber: IdField[Int, FlaffRow] = {
      new IdField[Int, FlaffRow](
        _path,
        "some_number",
        _.someNumber,
        None,
        Some("int4"),
        (row, value) => row.copy(someNumber = value),
        ScalaDbTypes.PgTypes.int4
      )
    }

    override def specifier: IdField[ShortText, FlaffRow] = {
      new IdField[ShortText, FlaffRow](
        _path,
        "specifier",
        _.specifier,
        None,
        Some("text"),
        (row, value) => row.copy(specifier = value),
        ShortText.pgType
      )
    }

    override def parentspecifier: OptField[ShortText, FlaffRow] = {
      new OptField[ShortText, FlaffRow](
        _path,
        "parentspecifier",
        _.parentspecifier,
        None,
        Some("text"),
        (row, value) => row.copy(parentspecifier = value),
        ShortText.pgType
      )
    }

    override def columns: java.util.List[FieldLike[?, FlaffRow]] = java.util.List.of(this.code.underlying, this.anotherCode.underlying, this.someNumber.underlying, this.specifier.underlying, this.parentspecifier.underlying)

    override def withPaths(`_path`: java.util.List[Path]): RelationStructure[FlaffFields, FlaffRow] = new Impl(`_path`)
  }

  def structure: Impl = new Impl(java.util.Collections.emptyList())
}