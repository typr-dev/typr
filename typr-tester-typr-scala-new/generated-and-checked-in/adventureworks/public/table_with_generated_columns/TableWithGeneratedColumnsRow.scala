/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.table_with_generated_columns

import com.fasterxml.jackson.annotation.JsonProperty
import typr.runtime.PgText
import typr.runtime.PgTypes
import typr.scaladsl.RowParser
import typr.scaladsl.RowParsers

/** Table: public.table-with-generated-columns
 * Primary key: name
 */
case class TableWithGeneratedColumnsRow(
  name: TableWithGeneratedColumnsId,
  /** Generated ALWAYS, expression: 
  CASE
      WHEN (name IS NOT NULL) THEN 'no-name'::text
      WHEN (name = 'a'::text) THEN 'a-name'::text
      ELSE 'some-name'::text
  END */
  @JsonProperty("name-type-always") nameTypeAlways: String
) {
  def id: TableWithGeneratedColumnsId = name

  def toUnsavedRow: TableWithGeneratedColumnsRowUnsaved = new TableWithGeneratedColumnsRowUnsaved(name)
}

object TableWithGeneratedColumnsRow {
  val `_rowParser`: RowParser[TableWithGeneratedColumnsRow] = RowParsers.of(TableWithGeneratedColumnsId.pgType, PgTypes.text)(TableWithGeneratedColumnsRow.apply)(row => Array[Any](row.name, row.nameTypeAlways))

  given pgText: PgText[TableWithGeneratedColumnsRow] = PgText.from(`_rowParser`.underlying)
}